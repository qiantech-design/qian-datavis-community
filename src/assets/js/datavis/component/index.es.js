import { getCurrentScope as h1, onScopeDispose as p1, unref as N, computed as H, watch as ve, ref as Q, getCurrentInstance as v1, onMounted as le, defineComponent as ue, onUnmounted as g1, createElementBlock as G, openBlock as j, onBeforeUnmount as se, normalizeProps as So, guardReactiveProps as bo, createElementVNode as ne, Fragment as Ne, mergeProps as ce, nextTick as Se, normalizeStyle as oe, toDisplayString as Me, createCommentVNode as vt, renderList as ot, normalizeClass as Jn, createBlock as Ye, resolveComponent as be, createVNode as Fe, resolveDynamicComponent as ia, reactive as Rf, resolveDirective as y1, withDirectives as ji, withCtx as Ct, withModifiers as wo, vModelText as m1, vShow as S1 } from "vue";
import * as gn from "echarts";
import { ElMessage as lg, ElMessageBox as b1, ClickOutside as w1 } from "element-plus";
function _1(t) {
  return h1() ? (p1(t), !0) : !1;
}
function x1(t) {
  return typeof t == "function" ? t() : N(t);
}
const D1 = typeof window < "u" && typeof document < "u";
typeof WorkerGlobalScope < "u" && globalThis instanceof WorkerGlobalScope;
function Lf(t) {
  var e;
  const n = x1(t);
  return (e = n == null ? void 0 : n.$el) != null ? e : n;
}
const C1 = D1 ? window : void 0;
function T1() {
  const t = Q(!1), e = v1();
  return e && le(() => {
    t.value = !0;
  }, e), t;
}
function F1(t) {
  const e = T1();
  return H(() => (e.value, !!t()));
}
function A1(t, e, n = {}) {
  const { window: r = C1, ...o } = n;
  let a;
  const i = F1(() => r && "ResizeObserver" in r), s = () => {
    a && (a.disconnect(), a = void 0);
  }, l = H(() => Array.isArray(t) ? t.map((f) => Lf(f)) : [Lf(t)]), u = ve(
    l,
    (f) => {
      if (s(), i.value && r) {
        a = new ResizeObserver(e);
        for (const h of f)
          h && a.observe(h, o);
      }
    },
    { immediate: !0, flush: "post" }
  ), c = () => {
    s(), u();
  };
  return _1(c), {
    isSupported: i,
    stop: c
  };
}
const tr = {
  // 对象尺寸改变结束，由核心触发
  selectionUpdated: "selection:updated",
  // 撤销重做，由核心触发
  coreOperation: "core:operation",
  // 核心操作，由业务触发，请求核心shortcutHandler里的统一方法
  pageOperation: "page:operation",
  // 编辑器状态改变，由业务触发
  pageSwitch: "page:switch",
  // 切换大屏
  dialogOpen: "dialog:open",
  // 组件右键事件
  nodeEchartClick: "node:echart:click"
};
var yu = /* @__PURE__ */ ((t) => (t.objectAdd = "page:object:add", t.moduleAdd = "page:module:add", t.templateApply = "page:template:apply", t.themeApiRefresh = "page:theme:api:refresh", t.themeApiSave = "page:theme:api:save", t.historySaveAction = "page:history:save:action", t.materialUpdate = "page:material:update", t.themePreview = "page:theme:preview", t.themeSet = "page:theme:set", t.importJSON = "page:import:json", t.importDraft = "page:import:draft", t.importPSD = "page:import:psd", t.saveDraft = "page:saveDraft", t.dataPreview = "page:dataPreview", t.saveAs = "page:saveAs", t.contextmenuChange = "page:contextmenu:change", t.downloadJSON = "page:downloadJSON", t.downloadImage = "page:downloadImage", t.deployment = "page:deployment", t.publish = "page:publish", t.shareLink = "page:shareLink", t.share = "page:share", t.preview = "page:preview", t.save = "page:save", t.saveAsModule = "page:saveAsModule", t.back = "page:back", t.layoutChange = "page:layout:change", t.search = "page:search", t.drawStart = "page:draw:start", t.drawFinish = "page:draw:finish", t.imagePicker = "page:image:picker", t))(yu || {}), Tc = /* @__PURE__ */ ((t) => (t.selectAll = "selectAll", t.group = "group", t.ungroup = "ungroup", t.arrowLeft = "arrowLeft", t.arrowRight = "arrowRight", t.arrowUp = "arrowUp", t.arrowDown = "arrowDown", t.copy = "copy", t.paste = "paste", t.cut = "cut", t.reuse = "reuse", t.esc = "esc", t.add = "add", t.delete = "delete", t.bringForward = "bringForward", t.sendBackwards = "sendBackwards", t.bringToFront = "bringToFront", t.sendToBack = "sendToBack", t.undo = "undo", t.redo = "redo", t.align = "align", t.alignEqual = "alignEqual", t.lock = "lock", t.unlock = "unlock", t.visible = "visible", t.attribute = "attribute", t.updateLayer = "updateLayer", t.setZoom = "setZoom", t.editorConfig = "editorConfig", t.setSelection = "setSelection", t))(Tc || {});
const $f = /* @__PURE__ */ ue({
  name: "datavis-chart",
  __name: "index",
  props: {
    option: Object,
    node: Object,
    initOptions: Object
  },
  setup(t, { expose: e }) {
    let n = null;
    const r = Q(), o = t;
    ve(
      () => o.option,
      () => {
        n.setOption(o.option, !0);
      },
      { deep: !0 }
    );
    let a;
    const i = () => n, s = () => {
      n && n.dispose(), n = gn.init(r.value, null, o.initOptions), o.option && n.setOption(o.option, !0);
    };
    return e({
      getChartInstance: i,
      init: s
    }), le(() => {
      s(), a = A1(r.value, () => {
        n.resize();
      }), n.on("click", (l) => {
        o.node && o.node.editor.fire({ command: tr.nodeEchartClick, node: o.node, echartParams: l });
      });
    }), g1(() => {
      n.dispose(), a && a.stop();
    }), (l, u) => (j(), G("div", {
      class: "datavis-echart",
      style: { width: "100%", height: "100%" },
      ref_key: "elRef",
      ref: r
    }, null, 512));
  }
});
var k1 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function ug(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t;
}
var cg = { exports: {} };
(function(t, e) {
  (function(n, r) {
    t.exports = r();
  })(k1, function() {
    var n = 1e3, r = 6e4, o = 36e5, a = "millisecond", i = "second", s = "minute", l = "hour", u = "day", c = "week", f = "month", h = "quarter", d = "year", p = "date", m = "Invalid Date", g = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/, v = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g, y = { name: "en", weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), ordinal: function(O) {
      var k = ["th", "st", "nd", "rd"], $ = O % 100;
      return "[" + O + (k[($ - 20) % 10] || k[$] || k[0]) + "]";
    } }, S = function(O, k, $) {
      var M = String(O);
      return !M || M.length >= k ? O : "" + Array(k + 1 - M.length).join($) + O;
    }, b = { s: S, z: function(O) {
      var k = -O.utcOffset(), $ = Math.abs(k), M = Math.floor($ / 60), A = $ % 60;
      return (k <= 0 ? "+" : "-") + S(M, 2, "0") + ":" + S(A, 2, "0");
    }, m: function O(k, $) {
      if (k.date() < $.date()) return -O($, k);
      var M = 12 * ($.year() - k.year()) + ($.month() - k.month()), A = k.clone().add(M, f), L = $ - A < 0, R = k.clone().add(M + (L ? -1 : 1), f);
      return +(-(M + ($ - A) / (L ? A - R : R - A)) || 0);
    }, a: function(O) {
      return O < 0 ? Math.ceil(O) || 0 : Math.floor(O);
    }, p: function(O) {
      return { M: f, y: d, w: c, d: u, D: p, h: l, m: s, s: i, ms: a, Q: h }[O] || String(O || "").toLowerCase().replace(/s$/, "");
    }, u: function(O) {
      return O === void 0;
    } }, _ = "en", w = {};
    w[_] = y;
    var T = "$isDayjsObject", C = function(O) {
      return O instanceof I || !(!O || !O[T]);
    }, x = function O(k, $, M) {
      var A;
      if (!k) return _;
      if (typeof k == "string") {
        var L = k.toLowerCase();
        w[L] && (A = L), $ && (w[L] = $, A = L);
        var R = k.split("-");
        if (!A && R.length > 1) return O(R[0]);
      } else {
        var E = k.name;
        w[E] = k, A = E;
      }
      return !M && A && (_ = A), A || !M && _;
    }, D = function(O, k) {
      if (C(O)) return O.clone();
      var $ = typeof k == "object" ? k : {};
      return $.date = O, $.args = arguments, new I($);
    }, F = b;
    F.l = x, F.i = C, F.w = function(O, k) {
      return D(O, { locale: k.$L, utc: k.$u, x: k.$x, $offset: k.$offset });
    };
    var I = function() {
      function O($) {
        this.$L = x($.locale, null, !0), this.parse($), this.$x = this.$x || $.x || {}, this[T] = !0;
      }
      var k = O.prototype;
      return k.parse = function($) {
        this.$d = function(M) {
          var A = M.date, L = M.utc;
          if (A === null) return /* @__PURE__ */ new Date(NaN);
          if (F.u(A)) return /* @__PURE__ */ new Date();
          if (A instanceof Date) return new Date(A);
          if (typeof A == "string" && !/Z$/i.test(A)) {
            var R = A.match(g);
            if (R) {
              var E = R[2] - 1 || 0, B = (R[7] || "0").substring(0, 3);
              return L ? new Date(Date.UTC(R[1], E, R[3] || 1, R[4] || 0, R[5] || 0, R[6] || 0, B)) : new Date(R[1], E, R[3] || 1, R[4] || 0, R[5] || 0, R[6] || 0, B);
            }
          }
          return new Date(A);
        }($), this.init();
      }, k.init = function() {
        var $ = this.$d;
        this.$y = $.getFullYear(), this.$M = $.getMonth(), this.$D = $.getDate(), this.$W = $.getDay(), this.$H = $.getHours(), this.$m = $.getMinutes(), this.$s = $.getSeconds(), this.$ms = $.getMilliseconds();
      }, k.$utils = function() {
        return F;
      }, k.isValid = function() {
        return this.$d.toString() !== m;
      }, k.isSame = function($, M) {
        var A = D($);
        return this.startOf(M) <= A && A <= this.endOf(M);
      }, k.isAfter = function($, M) {
        return D($) < this.startOf(M);
      }, k.isBefore = function($, M) {
        return this.endOf(M) < D($);
      }, k.$g = function($, M, A) {
        return F.u($) ? this[M] : this.set(A, $);
      }, k.unix = function() {
        return Math.floor(this.valueOf() / 1e3);
      }, k.valueOf = function() {
        return this.$d.getTime();
      }, k.startOf = function($, M) {
        var A = this, L = !!F.u(M) || M, R = F.p($), E = function(Z, ee) {
          var te = F.w(A.$u ? Date.UTC(A.$y, ee, Z) : new Date(A.$y, ee, Z), A);
          return L ? te : te.endOf(u);
        }, B = function(Z, ee) {
          return F.w(A.toDate()[Z].apply(A.toDate("s"), (L ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(ee)), A);
        }, W = this.$W, z = this.$M, V = this.$D, q = "set" + (this.$u ? "UTC" : "");
        switch (R) {
          case d:
            return L ? E(1, 0) : E(31, 11);
          case f:
            return L ? E(1, z) : E(0, z + 1);
          case c:
            var U = this.$locale().weekStart || 0, K = (W < U ? W + 7 : W) - U;
            return E(L ? V - K : V + (6 - K), z);
          case u:
          case p:
            return B(q + "Hours", 0);
          case l:
            return B(q + "Minutes", 1);
          case s:
            return B(q + "Seconds", 2);
          case i:
            return B(q + "Milliseconds", 3);
          default:
            return this.clone();
        }
      }, k.endOf = function($) {
        return this.startOf($, !1);
      }, k.$set = function($, M) {
        var A, L = F.p($), R = "set" + (this.$u ? "UTC" : ""), E = (A = {}, A[u] = R + "Date", A[p] = R + "Date", A[f] = R + "Month", A[d] = R + "FullYear", A[l] = R + "Hours", A[s] = R + "Minutes", A[i] = R + "Seconds", A[a] = R + "Milliseconds", A)[L], B = L === u ? this.$D + (M - this.$W) : M;
        if (L === f || L === d) {
          var W = this.clone().set(p, 1);
          W.$d[E](B), W.init(), this.$d = W.set(p, Math.min(this.$D, W.daysInMonth())).$d;
        } else E && this.$d[E](B);
        return this.init(), this;
      }, k.set = function($, M) {
        return this.clone().$set($, M);
      }, k.get = function($) {
        return this[F.p($)]();
      }, k.add = function($, M) {
        var A, L = this;
        $ = Number($);
        var R = F.p(M), E = function(z) {
          var V = D(L);
          return F.w(V.date(V.date() + Math.round(z * $)), L);
        };
        if (R === f) return this.set(f, this.$M + $);
        if (R === d) return this.set(d, this.$y + $);
        if (R === u) return E(1);
        if (R === c) return E(7);
        var B = (A = {}, A[s] = r, A[l] = o, A[i] = n, A)[R] || 1, W = this.$d.getTime() + $ * B;
        return F.w(W, this);
      }, k.subtract = function($, M) {
        return this.add(-1 * $, M);
      }, k.format = function($) {
        var M = this, A = this.$locale();
        if (!this.isValid()) return A.invalidDate || m;
        var L = $ || "YYYY-MM-DDTHH:mm:ssZ", R = F.z(this), E = this.$H, B = this.$m, W = this.$M, z = A.weekdays, V = A.months, q = A.meridiem, U = function(ee, te, re, xe) {
          return ee && (ee[te] || ee(M, L)) || re[te].slice(0, xe);
        }, K = function(ee) {
          return F.s(E % 12 || 12, ee, "0");
        }, Z = q || function(ee, te, re) {
          var xe = ee < 12 ? "AM" : "PM";
          return re ? xe.toLowerCase() : xe;
        };
        return L.replace(v, function(ee, te) {
          return te || function(re) {
            switch (re) {
              case "YY":
                return String(M.$y).slice(-2);
              case "YYYY":
                return F.s(M.$y, 4, "0");
              case "M":
                return W + 1;
              case "MM":
                return F.s(W + 1, 2, "0");
              case "MMM":
                return U(A.monthsShort, W, V, 3);
              case "MMMM":
                return U(V, W);
              case "D":
                return M.$D;
              case "DD":
                return F.s(M.$D, 2, "0");
              case "d":
                return String(M.$W);
              case "dd":
                return U(A.weekdaysMin, M.$W, z, 2);
              case "ddd":
                return U(A.weekdaysShort, M.$W, z, 3);
              case "dddd":
                return z[M.$W];
              case "H":
                return String(E);
              case "HH":
                return F.s(E, 2, "0");
              case "h":
                return K(1);
              case "hh":
                return K(2);
              case "a":
                return Z(E, B, !0);
              case "A":
                return Z(E, B, !1);
              case "m":
                return String(B);
              case "mm":
                return F.s(B, 2, "0");
              case "s":
                return String(M.$s);
              case "ss":
                return F.s(M.$s, 2, "0");
              case "SSS":
                return F.s(M.$ms, 3, "0");
              case "Z":
                return R;
            }
            return null;
          }(ee) || R.replace(":", "");
        });
      }, k.utcOffset = function() {
        return 15 * -Math.round(this.$d.getTimezoneOffset() / 15);
      }, k.diff = function($, M, A) {
        var L, R = this, E = F.p(M), B = D($), W = (B.utcOffset() - this.utcOffset()) * r, z = this - B, V = function() {
          return F.m(R, B);
        };
        switch (E) {
          case d:
            L = V() / 12;
            break;
          case f:
            L = V();
            break;
          case h:
            L = V() / 3;
            break;
          case c:
            L = (z - W) / 6048e5;
            break;
          case u:
            L = (z - W) / 864e5;
            break;
          case l:
            L = z / o;
            break;
          case s:
            L = z / r;
            break;
          case i:
            L = z / n;
            break;
          default:
            L = z;
        }
        return A ? L : F.a(L);
      }, k.daysInMonth = function() {
        return this.endOf(f).$D;
      }, k.$locale = function() {
        return w[this.$L];
      }, k.locale = function($, M) {
        if (!$) return this.$L;
        var A = this.clone(), L = x($, M, !0);
        return L && (A.$L = L), A;
      }, k.clone = function() {
        return F.w(this.$d, this);
      }, k.toDate = function() {
        return new Date(this.valueOf());
      }, k.toJSON = function() {
        return this.isValid() ? this.toISOString() : null;
      }, k.toISOString = function() {
        return this.$d.toISOString();
      }, k.toString = function() {
        return this.$d.toUTCString();
      }, O;
    }(), P = I.prototype;
    return D.prototype = P, [["$ms", a], ["$s", i], ["$m", s], ["$H", l], ["$W", u], ["$M", f], ["$y", d], ["$D", p]].forEach(function(O) {
      P[O[1]] = function(k) {
        return this.$g(k, O[0], O[1]);
      };
    }), D.extend = function(O, k) {
      return O.$i || (O(k, I, D), O.$i = !0), D;
    }, D.locale = x, D.isDayjs = C, D.unix = function(O) {
      return D(1e3 * O);
    }, D.en = w[_], D.Ls = w, D.p = {}, D;
  });
})(cg);
var E1 = cg.exports;
const Qs = /* @__PURE__ */ ug(E1);
var fg = typeof global == "object" && global && global.Object === Object && global, M1 = typeof self == "object" && self && self.Object === Object && self, ln = fg || M1 || Function("return this")(), Dn = ln.Symbol, dg = Object.prototype, O1 = dg.hasOwnProperty, R1 = dg.toString, Ro = Dn ? Dn.toStringTag : void 0;
function L1(t) {
  var e = O1.call(t, Ro), n = t[Ro];
  try {
    t[Ro] = void 0;
    var r = !0;
  } catch {
  }
  var o = R1.call(t);
  return r && (e ? t[Ro] = n : delete t[Ro]), o;
}
var $1 = Object.prototype, I1 = $1.toString;
function P1(t) {
  return I1.call(t);
}
var z1 = "[object Null]", B1 = "[object Undefined]", If = Dn ? Dn.toStringTag : void 0;
function Nr(t) {
  return t == null ? t === void 0 ? B1 : z1 : If && If in Object(t) ? L1(t) : P1(t);
}
function Cn(t) {
  return t != null && typeof t == "object";
}
var W1 = "[object Symbol]";
function ws(t) {
  return typeof t == "symbol" || Cn(t) && Nr(t) == W1;
}
function N1(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length, o = Array(r); ++n < r; )
    o[n] = e(t[n], n, t);
  return o;
}
var Xt = Array.isArray, Pf = Dn ? Dn.prototype : void 0, zf = Pf ? Pf.toString : void 0;
function hg(t) {
  if (typeof t == "string")
    return t;
  if (Xt(t))
    return N1(t, hg) + "";
  if (ws(t))
    return zf ? zf.call(t) : "";
  var e = t + "";
  return e == "0" && 1 / t == -1 / 0 ? "-0" : e;
}
var H1 = /\s/;
function V1(t) {
  for (var e = t.length; e-- && H1.test(t.charAt(e)); )
    ;
  return e;
}
var q1 = /^\s+/;
function j1(t) {
  return t && t.slice(0, V1(t) + 1).replace(q1, "");
}
function Bt(t) {
  var e = typeof t;
  return t != null && (e == "object" || e == "function");
}
var Bf = NaN, U1 = /^[-+]0x[0-9a-f]+$/i, Y1 = /^0b[01]+$/i, G1 = /^0o[0-7]+$/i, X1 = parseInt;
function Wf(t) {
  if (typeof t == "number")
    return t;
  if (ws(t))
    return Bf;
  if (Bt(t)) {
    var e = typeof t.valueOf == "function" ? t.valueOf() : t;
    t = Bt(e) ? e + "" : e;
  }
  if (typeof t != "string")
    return t === 0 ? t : +t;
  t = j1(t);
  var n = Y1.test(t);
  return n || G1.test(t) ? X1(t.slice(2), n ? 2 : 8) : U1.test(t) ? Bf : +t;
}
function Fc(t) {
  return t;
}
var Z1 = "[object AsyncFunction]", K1 = "[object Function]", J1 = "[object GeneratorFunction]", Q1 = "[object Proxy]";
function Ac(t) {
  if (!Bt(t))
    return !1;
  var e = Nr(t);
  return e == K1 || e == J1 || e == Z1 || e == Q1;
}
var el = ln["__core-js_shared__"], Nf = function() {
  var t = /[^.]+$/.exec(el && el.keys && el.keys.IE_PROTO || "");
  return t ? "Symbol(src)_1." + t : "";
}();
function eS(t) {
  return !!Nf && Nf in t;
}
var tS = Function.prototype, nS = tS.toString;
function Hr(t) {
  if (t != null) {
    try {
      return nS.call(t);
    } catch {
    }
    try {
      return t + "";
    } catch {
    }
  }
  return "";
}
var rS = /[\\^$.*+?()[\]{}|]/g, oS = /^\[object .+?Constructor\]$/, aS = Function.prototype, iS = Object.prototype, sS = aS.toString, lS = iS.hasOwnProperty, uS = RegExp(
  "^" + sS.call(lS).replace(rS, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function cS(t) {
  if (!Bt(t) || eS(t))
    return !1;
  var e = Ac(t) ? uS : oS;
  return e.test(Hr(t));
}
function fS(t, e) {
  return t == null ? void 0 : t[e];
}
function Vr(t, e) {
  var n = fS(t, e);
  return cS(n) ? n : void 0;
}
var mu = Vr(ln, "WeakMap"), Hf = Object.create, dS = /* @__PURE__ */ function() {
  function t() {
  }
  return function(e) {
    if (!Bt(e))
      return {};
    if (Hf)
      return Hf(e);
    t.prototype = e;
    var n = new t();
    return t.prototype = void 0, n;
  };
}();
function hS(t, e, n) {
  switch (n.length) {
    case 0:
      return t.call(e);
    case 1:
      return t.call(e, n[0]);
    case 2:
      return t.call(e, n[0], n[1]);
    case 3:
      return t.call(e, n[0], n[1], n[2]);
  }
  return t.apply(e, n);
}
function pS(t, e) {
  var n = -1, r = t.length;
  for (e || (e = Array(r)); ++n < r; )
    e[n] = t[n];
  return e;
}
var vS = 800, gS = 16, yS = Date.now;
function mS(t) {
  var e = 0, n = 0;
  return function() {
    var r = yS(), o = gS - (r - n);
    if (n = r, o > 0) {
      if (++e >= vS)
        return arguments[0];
    } else
      e = 0;
    return t.apply(void 0, arguments);
  };
}
function SS(t) {
  return function() {
    return t;
  };
}
var Ui = function() {
  try {
    var t = Vr(Object, "defineProperty");
    return t({}, "", {}), t;
  } catch {
  }
}(), bS = Ui ? function(t, e) {
  return Ui(t, "toString", {
    configurable: !0,
    enumerable: !1,
    value: SS(e),
    writable: !0
  });
} : Fc, wS = mS(bS);
function _S(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length; ++n < r && e(t[n], n, t) !== !1; )
    ;
  return t;
}
function xS(t, e, n, r) {
  for (var o = t.length, a = n + -1; ++a < o; )
    if (e(t[a], a, t))
      return a;
  return -1;
}
var DS = 9007199254740991, CS = /^(?:0|[1-9]\d*)$/;
function kc(t, e) {
  var n = typeof t;
  return e = e ?? DS, !!e && (n == "number" || n != "symbol" && CS.test(t)) && t > -1 && t % 1 == 0 && t < e;
}
function Ec(t, e, n) {
  e == "__proto__" && Ui ? Ui(t, e, {
    configurable: !0,
    enumerable: !0,
    value: n,
    writable: !0
  }) : t[e] = n;
}
function $a(t, e) {
  return t === e || t !== t && e !== e;
}
var TS = Object.prototype, FS = TS.hasOwnProperty;
function pg(t, e, n) {
  var r = t[e];
  (!(FS.call(t, e) && $a(r, n)) || n === void 0 && !(e in t)) && Ec(t, e, n);
}
function AS(t, e, n, r) {
  var o = !n;
  n || (n = {});
  for (var a = -1, i = e.length; ++a < i; ) {
    var s = e[a], l = void 0;
    l === void 0 && (l = t[s]), o ? Ec(n, s, l) : pg(n, s, l);
  }
  return n;
}
var Vf = Math.max;
function kS(t, e, n) {
  return e = Vf(e === void 0 ? t.length - 1 : e, 0), function() {
    for (var r = arguments, o = -1, a = Vf(r.length - e, 0), i = Array(a); ++o < a; )
      i[o] = r[e + o];
    o = -1;
    for (var s = Array(e + 1); ++o < e; )
      s[o] = r[o];
    return s[e] = n(i), hS(t, this, s);
  };
}
function ES(t, e) {
  return wS(kS(t, e, Fc), t + "");
}
var MS = 9007199254740991;
function Mc(t) {
  return typeof t == "number" && t > -1 && t % 1 == 0 && t <= MS;
}
function _s(t) {
  return t != null && Mc(t.length) && !Ac(t);
}
function OS(t, e, n) {
  if (!Bt(n))
    return !1;
  var r = typeof e;
  return (r == "number" ? _s(n) && kc(e, n.length) : r == "string" && e in n) ? $a(n[e], t) : !1;
}
function RS(t) {
  return ES(function(e, n) {
    var r = -1, o = n.length, a = o > 1 ? n[o - 1] : void 0, i = o > 2 ? n[2] : void 0;
    for (a = t.length > 3 && typeof a == "function" ? (o--, a) : void 0, i && OS(n[0], n[1], i) && (a = o < 3 ? void 0 : a, o = 1), e = Object(e); ++r < o; ) {
      var s = n[r];
      s && t(e, s, r, a);
    }
    return e;
  });
}
var LS = Object.prototype;
function Oc(t) {
  var e = t && t.constructor, n = typeof e == "function" && e.prototype || LS;
  return t === n;
}
function $S(t, e) {
  for (var n = -1, r = Array(t); ++n < t; )
    r[n] = e(n);
  return r;
}
var IS = "[object Arguments]";
function qf(t) {
  return Cn(t) && Nr(t) == IS;
}
var vg = Object.prototype, PS = vg.hasOwnProperty, zS = vg.propertyIsEnumerable, Yi = qf(/* @__PURE__ */ function() {
  return arguments;
}()) ? qf : function(t) {
  return Cn(t) && PS.call(t, "callee") && !zS.call(t, "callee");
};
function BS() {
  return !1;
}
var gg = typeof exports == "object" && exports && !exports.nodeType && exports, jf = gg && typeof module == "object" && module && !module.nodeType && module, WS = jf && jf.exports === gg, Uf = WS ? ln.Buffer : void 0, NS = Uf ? Uf.isBuffer : void 0, _a = NS || BS, HS = "[object Arguments]", VS = "[object Array]", qS = "[object Boolean]", jS = "[object Date]", US = "[object Error]", YS = "[object Function]", GS = "[object Map]", XS = "[object Number]", ZS = "[object Object]", KS = "[object RegExp]", JS = "[object Set]", QS = "[object String]", eb = "[object WeakMap]", tb = "[object ArrayBuffer]", nb = "[object DataView]", rb = "[object Float32Array]", ob = "[object Float64Array]", ab = "[object Int8Array]", ib = "[object Int16Array]", sb = "[object Int32Array]", lb = "[object Uint8Array]", ub = "[object Uint8ClampedArray]", cb = "[object Uint16Array]", fb = "[object Uint32Array]", ze = {};
ze[rb] = ze[ob] = ze[ab] = ze[ib] = ze[sb] = ze[lb] = ze[ub] = ze[cb] = ze[fb] = !0;
ze[HS] = ze[VS] = ze[tb] = ze[qS] = ze[nb] = ze[jS] = ze[US] = ze[YS] = ze[GS] = ze[XS] = ze[ZS] = ze[KS] = ze[JS] = ze[QS] = ze[eb] = !1;
function db(t) {
  return Cn(t) && Mc(t.length) && !!ze[Nr(t)];
}
function Rc(t) {
  return function(e) {
    return t(e);
  };
}
var yg = typeof exports == "object" && exports && !exports.nodeType && exports, sa = yg && typeof module == "object" && module && !module.nodeType && module, hb = sa && sa.exports === yg, tl = hb && fg.process, _o = function() {
  try {
    var t = sa && sa.require && sa.require("util").types;
    return t || tl && tl.binding && tl.binding("util");
  } catch {
  }
}(), Yf = _o && _o.isTypedArray, Lc = Yf ? Rc(Yf) : db, pb = Object.prototype, vb = pb.hasOwnProperty;
function mg(t, e) {
  var n = Xt(t), r = !n && Yi(t), o = !n && !r && _a(t), a = !n && !r && !o && Lc(t), i = n || r || o || a, s = i ? $S(t.length, String) : [], l = s.length;
  for (var u in t)
    (e || vb.call(t, u)) && !(i && // Safari 9 has enumerable `arguments.length` in strict mode.
    (u == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    o && (u == "offset" || u == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    a && (u == "buffer" || u == "byteLength" || u == "byteOffset") || // Skip index properties.
    kc(u, l))) && s.push(u);
  return s;
}
function Sg(t, e) {
  return function(n) {
    return t(e(n));
  };
}
var gb = Sg(Object.keys, Object), yb = Object.prototype, mb = yb.hasOwnProperty;
function Sb(t) {
  if (!Oc(t))
    return gb(t);
  var e = [];
  for (var n in Object(t))
    mb.call(t, n) && n != "constructor" && e.push(n);
  return e;
}
function bg(t) {
  return _s(t) ? mg(t) : Sb(t);
}
function bb(t) {
  var e = [];
  if (t != null)
    for (var n in Object(t))
      e.push(n);
  return e;
}
var wb = Object.prototype, _b = wb.hasOwnProperty;
function xb(t) {
  if (!Bt(t))
    return bb(t);
  var e = Oc(t), n = [];
  for (var r in t)
    r == "constructor" && (e || !_b.call(t, r)) || n.push(r);
  return n;
}
function wg(t) {
  return _s(t) ? mg(t, !0) : xb(t);
}
var Db = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Cb = /^\w*$/;
function $c(t, e) {
  if (Xt(t))
    return !1;
  var n = typeof t;
  return n == "number" || n == "symbol" || n == "boolean" || t == null || ws(t) ? !0 : Cb.test(t) || !Db.test(t) || e != null && t in Object(e);
}
var xa = Vr(Object, "create");
function Tb() {
  this.__data__ = xa ? xa(null) : {}, this.size = 0;
}
function Fb(t) {
  var e = this.has(t) && delete this.__data__[t];
  return this.size -= e ? 1 : 0, e;
}
var Ab = "__lodash_hash_undefined__", kb = Object.prototype, Eb = kb.hasOwnProperty;
function Mb(t) {
  var e = this.__data__;
  if (xa) {
    var n = e[t];
    return n === Ab ? void 0 : n;
  }
  return Eb.call(e, t) ? e[t] : void 0;
}
var Ob = Object.prototype, Rb = Ob.hasOwnProperty;
function Lb(t) {
  var e = this.__data__;
  return xa ? e[t] !== void 0 : Rb.call(e, t);
}
var $b = "__lodash_hash_undefined__";
function Ib(t, e) {
  var n = this.__data__;
  return this.size += this.has(t) ? 0 : 1, n[t] = xa && e === void 0 ? $b : e, this;
}
function Ir(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.clear(); ++e < n; ) {
    var r = t[e];
    this.set(r[0], r[1]);
  }
}
Ir.prototype.clear = Tb;
Ir.prototype.delete = Fb;
Ir.prototype.get = Mb;
Ir.prototype.has = Lb;
Ir.prototype.set = Ib;
function Pb() {
  this.__data__ = [], this.size = 0;
}
function xs(t, e) {
  for (var n = t.length; n--; )
    if ($a(t[n][0], e))
      return n;
  return -1;
}
var zb = Array.prototype, Bb = zb.splice;
function Wb(t) {
  var e = this.__data__, n = xs(e, t);
  if (n < 0)
    return !1;
  var r = e.length - 1;
  return n == r ? e.pop() : Bb.call(e, n, 1), --this.size, !0;
}
function Nb(t) {
  var e = this.__data__, n = xs(e, t);
  return n < 0 ? void 0 : e[n][1];
}
function Hb(t) {
  return xs(this.__data__, t) > -1;
}
function Vb(t, e) {
  var n = this.__data__, r = xs(n, t);
  return r < 0 ? (++this.size, n.push([t, e])) : n[r][1] = e, this;
}
function Nn(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.clear(); ++e < n; ) {
    var r = t[e];
    this.set(r[0], r[1]);
  }
}
Nn.prototype.clear = Pb;
Nn.prototype.delete = Wb;
Nn.prototype.get = Nb;
Nn.prototype.has = Hb;
Nn.prototype.set = Vb;
var Da = Vr(ln, "Map");
function qb() {
  this.size = 0, this.__data__ = {
    hash: new Ir(),
    map: new (Da || Nn)(),
    string: new Ir()
  };
}
function jb(t) {
  var e = typeof t;
  return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null;
}
function Ds(t, e) {
  var n = t.__data__;
  return jb(e) ? n[typeof e == "string" ? "string" : "hash"] : n.map;
}
function Ub(t) {
  var e = Ds(this, t).delete(t);
  return this.size -= e ? 1 : 0, e;
}
function Yb(t) {
  return Ds(this, t).get(t);
}
function Gb(t) {
  return Ds(this, t).has(t);
}
function Xb(t, e) {
  var n = Ds(this, t), r = n.size;
  return n.set(t, e), this.size += n.size == r ? 0 : 1, this;
}
function Hn(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.clear(); ++e < n; ) {
    var r = t[e];
    this.set(r[0], r[1]);
  }
}
Hn.prototype.clear = qb;
Hn.prototype.delete = Ub;
Hn.prototype.get = Yb;
Hn.prototype.has = Gb;
Hn.prototype.set = Xb;
var Zb = "Expected a function";
function Ic(t, e) {
  if (typeof t != "function" || e != null && typeof e != "function")
    throw new TypeError(Zb);
  var n = function() {
    var r = arguments, o = e ? e.apply(this, r) : r[0], a = n.cache;
    if (a.has(o))
      return a.get(o);
    var i = t.apply(this, r);
    return n.cache = a.set(o, i) || a, i;
  };
  return n.cache = new (Ic.Cache || Hn)(), n;
}
Ic.Cache = Hn;
var Kb = 500;
function Jb(t) {
  var e = Ic(t, function(r) {
    return n.size === Kb && n.clear(), r;
  }), n = e.cache;
  return e;
}
var Qb = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, ew = /\\(\\)?/g, tw = Jb(function(t) {
  var e = [];
  return t.charCodeAt(0) === 46 && e.push(""), t.replace(Qb, function(n, r, o, a) {
    e.push(o ? a.replace(ew, "$1") : r || n);
  }), e;
});
function nw(t) {
  return t == null ? "" : hg(t);
}
function _g(t, e) {
  return Xt(t) ? t : $c(t, e) ? [t] : tw(nw(t));
}
function Cs(t) {
  if (typeof t == "string" || ws(t))
    return t;
  var e = t + "";
  return e == "0" && 1 / t == -1 / 0 ? "-0" : e;
}
function xg(t, e) {
  e = _g(e, t);
  for (var n = 0, r = e.length; t != null && n < r; )
    t = t[Cs(e[n++])];
  return n && n == r ? t : void 0;
}
function rw(t, e, n) {
  var r = t == null ? void 0 : xg(t, e);
  return r === void 0 ? n : r;
}
function ow(t, e) {
  for (var n = -1, r = e.length, o = t.length; ++n < r; )
    t[o + n] = e[n];
  return t;
}
var Dg = Sg(Object.getPrototypeOf, Object), aw = "[object Object]", iw = Function.prototype, sw = Object.prototype, Cg = iw.toString, lw = sw.hasOwnProperty, uw = Cg.call(Object);
function cw(t) {
  if (!Cn(t) || Nr(t) != aw)
    return !1;
  var e = Dg(t);
  if (e === null)
    return !0;
  var n = lw.call(e, "constructor") && e.constructor;
  return typeof n == "function" && n instanceof n && Cg.call(n) == uw;
}
function fw() {
  this.__data__ = new Nn(), this.size = 0;
}
function dw(t) {
  var e = this.__data__, n = e.delete(t);
  return this.size = e.size, n;
}
function hw(t) {
  return this.__data__.get(t);
}
function pw(t) {
  return this.__data__.has(t);
}
var vw = 200;
function gw(t, e) {
  var n = this.__data__;
  if (n instanceof Nn) {
    var r = n.__data__;
    if (!Da || r.length < vw - 1)
      return r.push([t, e]), this.size = ++n.size, this;
    n = this.__data__ = new Hn(r);
  }
  return n.set(t, e), this.size = n.size, this;
}
function on(t) {
  var e = this.__data__ = new Nn(t);
  this.size = e.size;
}
on.prototype.clear = fw;
on.prototype.delete = dw;
on.prototype.get = hw;
on.prototype.has = pw;
on.prototype.set = gw;
var Tg = typeof exports == "object" && exports && !exports.nodeType && exports, Gf = Tg && typeof module == "object" && module && !module.nodeType && module, yw = Gf && Gf.exports === Tg, Xf = yw ? ln.Buffer : void 0, Zf = Xf ? Xf.allocUnsafe : void 0;
function Fg(t, e) {
  if (e)
    return t.slice();
  var n = t.length, r = Zf ? Zf(n) : new t.constructor(n);
  return t.copy(r), r;
}
function mw(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length, o = 0, a = []; ++n < r; ) {
    var i = t[n];
    e(i, n, t) && (a[o++] = i);
  }
  return a;
}
function Sw() {
  return [];
}
var bw = Object.prototype, ww = bw.propertyIsEnumerable, Kf = Object.getOwnPropertySymbols, _w = Kf ? function(t) {
  return t == null ? [] : (t = Object(t), mw(Kf(t), function(e) {
    return ww.call(t, e);
  }));
} : Sw;
function xw(t, e, n) {
  var r = e(t);
  return Xt(t) ? r : ow(r, n(t));
}
function Su(t) {
  return xw(t, bg, _w);
}
var bu = Vr(ln, "DataView"), wu = Vr(ln, "Promise"), _u = Vr(ln, "Set"), Jf = "[object Map]", Dw = "[object Object]", Qf = "[object Promise]", ed = "[object Set]", td = "[object WeakMap]", nd = "[object DataView]", Cw = Hr(bu), Tw = Hr(Da), Fw = Hr(wu), Aw = Hr(_u), kw = Hr(mu), nn = Nr;
(bu && nn(new bu(new ArrayBuffer(1))) != nd || Da && nn(new Da()) != Jf || wu && nn(wu.resolve()) != Qf || _u && nn(new _u()) != ed || mu && nn(new mu()) != td) && (nn = function(t) {
  var e = Nr(t), n = e == Dw ? t.constructor : void 0, r = n ? Hr(n) : "";
  if (r)
    switch (r) {
      case Cw:
        return nd;
      case Tw:
        return Jf;
      case Fw:
        return Qf;
      case Aw:
        return ed;
      case kw:
        return td;
    }
  return e;
});
var Ew = Object.prototype, Mw = Ew.hasOwnProperty;
function Ow(t) {
  var e = t.length, n = new t.constructor(e);
  return e && typeof t[0] == "string" && Mw.call(t, "index") && (n.index = t.index, n.input = t.input), n;
}
var Gi = ln.Uint8Array;
function Pc(t) {
  var e = new t.constructor(t.byteLength);
  return new Gi(e).set(new Gi(t)), e;
}
function Rw(t, e) {
  var n = Pc(t.buffer);
  return new t.constructor(n, t.byteOffset, t.byteLength);
}
var Lw = /\w*$/;
function $w(t) {
  var e = new t.constructor(t.source, Lw.exec(t));
  return e.lastIndex = t.lastIndex, e;
}
var rd = Dn ? Dn.prototype : void 0, od = rd ? rd.valueOf : void 0;
function Iw(t) {
  return od ? Object(od.call(t)) : {};
}
function Ag(t, e) {
  var n = e ? Pc(t.buffer) : t.buffer;
  return new t.constructor(n, t.byteOffset, t.length);
}
var Pw = "[object Boolean]", zw = "[object Date]", Bw = "[object Map]", Ww = "[object Number]", Nw = "[object RegExp]", Hw = "[object Set]", Vw = "[object String]", qw = "[object Symbol]", jw = "[object ArrayBuffer]", Uw = "[object DataView]", Yw = "[object Float32Array]", Gw = "[object Float64Array]", Xw = "[object Int8Array]", Zw = "[object Int16Array]", Kw = "[object Int32Array]", Jw = "[object Uint8Array]", Qw = "[object Uint8ClampedArray]", e_ = "[object Uint16Array]", t_ = "[object Uint32Array]";
function n_(t, e, n) {
  var r = t.constructor;
  switch (e) {
    case jw:
      return Pc(t);
    case Pw:
    case zw:
      return new r(+t);
    case Uw:
      return Rw(t);
    case Yw:
    case Gw:
    case Xw:
    case Zw:
    case Kw:
    case Jw:
    case Qw:
    case e_:
    case t_:
      return Ag(t, n);
    case Bw:
      return new r();
    case Ww:
    case Vw:
      return new r(t);
    case Nw:
      return $w(t);
    case Hw:
      return new r();
    case qw:
      return Iw(t);
  }
}
function kg(t) {
  return typeof t.constructor == "function" && !Oc(t) ? dS(Dg(t)) : {};
}
var r_ = "[object Map]";
function o_(t) {
  return Cn(t) && nn(t) == r_;
}
var ad = _o && _o.isMap, a_ = ad ? Rc(ad) : o_, i_ = "[object Set]";
function s_(t) {
  return Cn(t) && nn(t) == i_;
}
var id = _o && _o.isSet, l_ = id ? Rc(id) : s_, u_ = 1, Eg = "[object Arguments]", c_ = "[object Array]", f_ = "[object Boolean]", d_ = "[object Date]", h_ = "[object Error]", Mg = "[object Function]", p_ = "[object GeneratorFunction]", v_ = "[object Map]", g_ = "[object Number]", Og = "[object Object]", y_ = "[object RegExp]", m_ = "[object Set]", S_ = "[object String]", b_ = "[object Symbol]", w_ = "[object WeakMap]", __ = "[object ArrayBuffer]", x_ = "[object DataView]", D_ = "[object Float32Array]", C_ = "[object Float64Array]", T_ = "[object Int8Array]", F_ = "[object Int16Array]", A_ = "[object Int32Array]", k_ = "[object Uint8Array]", E_ = "[object Uint8ClampedArray]", M_ = "[object Uint16Array]", O_ = "[object Uint32Array]", Pe = {};
Pe[Eg] = Pe[c_] = Pe[__] = Pe[x_] = Pe[f_] = Pe[d_] = Pe[D_] = Pe[C_] = Pe[T_] = Pe[F_] = Pe[A_] = Pe[v_] = Pe[g_] = Pe[Og] = Pe[y_] = Pe[m_] = Pe[S_] = Pe[b_] = Pe[k_] = Pe[E_] = Pe[M_] = Pe[O_] = !0;
Pe[h_] = Pe[Mg] = Pe[w_] = !1;
function Ti(t, e, n, r, o, a) {
  var i, s = e & u_;
  if (i !== void 0)
    return i;
  if (!Bt(t))
    return t;
  var l = Xt(t);
  if (l)
    i = Ow(t);
  else {
    var u = nn(t), c = u == Mg || u == p_;
    if (_a(t))
      return Fg(t, s);
    if (u == Og || u == Eg || c && !o)
      i = c ? {} : kg(t);
    else {
      if (!Pe[u])
        return o ? t : {};
      i = n_(t, u, s);
    }
  }
  a || (a = new on());
  var f = a.get(t);
  if (f)
    return f;
  a.set(t, i), l_(t) ? t.forEach(function(p) {
    i.add(Ti(p, e, n, p, t, a));
  }) : a_(t) && t.forEach(function(p, m) {
    i.set(m, Ti(p, e, n, m, t, a));
  });
  var h = Su, d = l ? void 0 : h(t);
  return _S(d || t, function(p, m) {
    d && (m = p, p = t[m]), pg(i, m, Ti(p, e, n, m, t, a));
  }), i;
}
var R_ = 1, L_ = 4;
function me(t) {
  return Ti(t, R_ | L_);
}
var $_ = "__lodash_hash_undefined__";
function I_(t) {
  return this.__data__.set(t, $_), this;
}
function P_(t) {
  return this.__data__.has(t);
}
function Xi(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.__data__ = new Hn(); ++e < n; )
    this.add(t[e]);
}
Xi.prototype.add = Xi.prototype.push = I_;
Xi.prototype.has = P_;
function z_(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length; ++n < r; )
    if (e(t[n], n, t))
      return !0;
  return !1;
}
function B_(t, e) {
  return t.has(e);
}
var W_ = 1, N_ = 2;
function Rg(t, e, n, r, o, a) {
  var i = n & W_, s = t.length, l = e.length;
  if (s != l && !(i && l > s))
    return !1;
  var u = a.get(t), c = a.get(e);
  if (u && c)
    return u == e && c == t;
  var f = -1, h = !0, d = n & N_ ? new Xi() : void 0;
  for (a.set(t, e), a.set(e, t); ++f < s; ) {
    var p = t[f], m = e[f];
    if (r)
      var g = i ? r(m, p, f, e, t, a) : r(p, m, f, t, e, a);
    if (g !== void 0) {
      if (g)
        continue;
      h = !1;
      break;
    }
    if (d) {
      if (!z_(e, function(v, y) {
        if (!B_(d, y) && (p === v || o(p, v, n, r, a)))
          return d.push(y);
      })) {
        h = !1;
        break;
      }
    } else if (!(p === m || o(p, m, n, r, a))) {
      h = !1;
      break;
    }
  }
  return a.delete(t), a.delete(e), h;
}
function H_(t) {
  var e = -1, n = Array(t.size);
  return t.forEach(function(r, o) {
    n[++e] = [o, r];
  }), n;
}
function V_(t) {
  var e = -1, n = Array(t.size);
  return t.forEach(function(r) {
    n[++e] = r;
  }), n;
}
var q_ = 1, j_ = 2, U_ = "[object Boolean]", Y_ = "[object Date]", G_ = "[object Error]", X_ = "[object Map]", Z_ = "[object Number]", K_ = "[object RegExp]", J_ = "[object Set]", Q_ = "[object String]", e2 = "[object Symbol]", t2 = "[object ArrayBuffer]", n2 = "[object DataView]", sd = Dn ? Dn.prototype : void 0, nl = sd ? sd.valueOf : void 0;
function r2(t, e, n, r, o, a, i) {
  switch (n) {
    case n2:
      if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
        return !1;
      t = t.buffer, e = e.buffer;
    case t2:
      return !(t.byteLength != e.byteLength || !a(new Gi(t), new Gi(e)));
    case U_:
    case Y_:
    case Z_:
      return $a(+t, +e);
    case G_:
      return t.name == e.name && t.message == e.message;
    case K_:
    case Q_:
      return t == e + "";
    case X_:
      var s = H_;
    case J_:
      var l = r & q_;
      if (s || (s = V_), t.size != e.size && !l)
        return !1;
      var u = i.get(t);
      if (u)
        return u == e;
      r |= j_, i.set(t, e);
      var c = Rg(s(t), s(e), r, o, a, i);
      return i.delete(t), c;
    case e2:
      if (nl)
        return nl.call(t) == nl.call(e);
  }
  return !1;
}
var o2 = 1, a2 = Object.prototype, i2 = a2.hasOwnProperty;
function s2(t, e, n, r, o, a) {
  var i = n & o2, s = Su(t), l = s.length, u = Su(e), c = u.length;
  if (l != c && !i)
    return !1;
  for (var f = l; f--; ) {
    var h = s[f];
    if (!(i ? h in e : i2.call(e, h)))
      return !1;
  }
  var d = a.get(t), p = a.get(e);
  if (d && p)
    return d == e && p == t;
  var m = !0;
  a.set(t, e), a.set(e, t);
  for (var g = i; ++f < l; ) {
    h = s[f];
    var v = t[h], y = e[h];
    if (r)
      var S = i ? r(y, v, h, e, t, a) : r(v, y, h, t, e, a);
    if (!(S === void 0 ? v === y || o(v, y, n, r, a) : S)) {
      m = !1;
      break;
    }
    g || (g = h == "constructor");
  }
  if (m && !g) {
    var b = t.constructor, _ = e.constructor;
    b != _ && "constructor" in t && "constructor" in e && !(typeof b == "function" && b instanceof b && typeof _ == "function" && _ instanceof _) && (m = !1);
  }
  return a.delete(t), a.delete(e), m;
}
var l2 = 1, ld = "[object Arguments]", ud = "[object Array]", ja = "[object Object]", u2 = Object.prototype, cd = u2.hasOwnProperty;
function c2(t, e, n, r, o, a) {
  var i = Xt(t), s = Xt(e), l = i ? ud : nn(t), u = s ? ud : nn(e);
  l = l == ld ? ja : l, u = u == ld ? ja : u;
  var c = l == ja, f = u == ja, h = l == u;
  if (h && _a(t)) {
    if (!_a(e))
      return !1;
    i = !0, c = !1;
  }
  if (h && !c)
    return a || (a = new on()), i || Lc(t) ? Rg(t, e, n, r, o, a) : r2(t, e, l, n, r, o, a);
  if (!(n & l2)) {
    var d = c && cd.call(t, "__wrapped__"), p = f && cd.call(e, "__wrapped__");
    if (d || p) {
      var m = d ? t.value() : t, g = p ? e.value() : e;
      return a || (a = new on()), o(m, g, n, r, a);
    }
  }
  return h ? (a || (a = new on()), s2(t, e, n, r, o, a)) : !1;
}
function zc(t, e, n, r, o) {
  return t === e ? !0 : t == null || e == null || !Cn(t) && !Cn(e) ? t !== t && e !== e : c2(t, e, n, r, zc, o);
}
var f2 = 1, d2 = 2;
function h2(t, e, n, r) {
  var o = n.length, a = o;
  if (t == null)
    return !a;
  for (t = Object(t); o--; ) {
    var i = n[o];
    if (i[2] ? i[1] !== t[i[0]] : !(i[0] in t))
      return !1;
  }
  for (; ++o < a; ) {
    i = n[o];
    var s = i[0], l = t[s], u = i[1];
    if (i[2]) {
      if (l === void 0 && !(s in t))
        return !1;
    } else {
      var c = new on(), f;
      if (!(f === void 0 ? zc(u, l, f2 | d2, r, c) : f))
        return !1;
    }
  }
  return !0;
}
function Lg(t) {
  return t === t && !Bt(t);
}
function p2(t) {
  for (var e = bg(t), n = e.length; n--; ) {
    var r = e[n], o = t[r];
    e[n] = [r, o, Lg(o)];
  }
  return e;
}
function $g(t, e) {
  return function(n) {
    return n == null ? !1 : n[t] === e && (e !== void 0 || t in Object(n));
  };
}
function v2(t) {
  var e = p2(t);
  return e.length == 1 && e[0][2] ? $g(e[0][0], e[0][1]) : function(n) {
    return n === t || h2(n, t, e);
  };
}
function g2(t, e) {
  return t != null && e in Object(t);
}
function y2(t, e, n) {
  e = _g(e, t);
  for (var r = -1, o = e.length, a = !1; ++r < o; ) {
    var i = Cs(e[r]);
    if (!(a = t != null && n(t, i)))
      break;
    t = t[i];
  }
  return a || ++r != o ? a : (o = t == null ? 0 : t.length, !!o && Mc(o) && kc(i, o) && (Xt(t) || Yi(t)));
}
function m2(t, e) {
  return t != null && y2(t, e, g2);
}
var S2 = 1, b2 = 2;
function w2(t, e) {
  return $c(t) && Lg(e) ? $g(Cs(t), e) : function(n) {
    var r = rw(n, t);
    return r === void 0 && r === e ? m2(n, t) : zc(e, r, S2 | b2);
  };
}
function _2(t) {
  return function(e) {
    return e == null ? void 0 : e[t];
  };
}
function x2(t) {
  return function(e) {
    return xg(e, t);
  };
}
function D2(t) {
  return $c(t) ? _2(Cs(t)) : x2(t);
}
function C2(t) {
  return typeof t == "function" ? t : t == null ? Fc : typeof t == "object" ? Xt(t) ? w2(t[0], t[1]) : v2(t) : D2(t);
}
function T2(t) {
  return function(e, n, r) {
    for (var o = -1, a = Object(e), i = r(e), s = i.length; s--; ) {
      var l = i[++o];
      if (n(a[l], l, a) === !1)
        break;
    }
    return e;
  };
}
var F2 = T2(), rl = function() {
  return ln.Date.now();
}, A2 = "Expected a function", k2 = Math.max, E2 = Math.min;
function Co(t, e, n) {
  var r, o, a, i, s, l, u = 0, c = !1, f = !1, h = !0;
  if (typeof t != "function")
    throw new TypeError(A2);
  e = Wf(e) || 0, Bt(n) && (c = !!n.leading, f = "maxWait" in n, a = f ? k2(Wf(n.maxWait) || 0, e) : a, h = "trailing" in n ? !!n.trailing : h);
  function d(w) {
    var T = r, C = o;
    return r = o = void 0, u = w, i = t.apply(C, T), i;
  }
  function p(w) {
    return u = w, s = setTimeout(v, e), c ? d(w) : i;
  }
  function m(w) {
    var T = w - l, C = w - u, x = e - T;
    return f ? E2(x, a - C) : x;
  }
  function g(w) {
    var T = w - l, C = w - u;
    return l === void 0 || T >= e || T < 0 || f && C >= a;
  }
  function v() {
    var w = rl();
    if (g(w))
      return y(w);
    s = setTimeout(v, m(w));
  }
  function y(w) {
    return s = void 0, h && r ? d(w) : (r = o = void 0, i);
  }
  function S() {
    s !== void 0 && clearTimeout(s), u = 0, r = l = o = s = void 0;
  }
  function b() {
    return s === void 0 ? i : y(rl());
  }
  function _() {
    var w = rl(), T = g(w);
    if (r = arguments, o = this, l = w, T) {
      if (s === void 0)
        return p(l);
      if (f)
        return clearTimeout(s), s = setTimeout(v, e), d(l);
    }
    return s === void 0 && (s = setTimeout(v, e)), i;
  }
  return _.cancel = S, _.flush = b, _;
}
function xu(t, e, n) {
  (n !== void 0 && !$a(t[e], n) || n === void 0 && !(e in t)) && Ec(t, e, n);
}
function M2(t) {
  return Cn(t) && _s(t);
}
function Du(t, e) {
  if (!(e === "constructor" && typeof t[e] == "function") && e != "__proto__")
    return t[e];
}
function O2(t) {
  return AS(t, wg(t));
}
function R2(t, e, n, r, o, a, i) {
  var s = Du(t, n), l = Du(e, n), u = i.get(l);
  if (u) {
    xu(t, n, u);
    return;
  }
  var c = a ? a(s, l, n + "", t, e, i) : void 0, f = c === void 0;
  if (f) {
    var h = Xt(l), d = !h && _a(l), p = !h && !d && Lc(l);
    c = l, h || d || p ? Xt(s) ? c = s : M2(s) ? c = pS(s) : d ? (f = !1, c = Fg(l, !0)) : p ? (f = !1, c = Ag(l, !0)) : c = [] : cw(l) || Yi(l) ? (c = s, Yi(s) ? c = O2(s) : (!Bt(s) || Ac(s)) && (c = kg(l))) : f = !1;
  }
  f && (i.set(l, c), o(c, l, r, a, i), i.delete(l)), xu(t, n, c);
}
function Ig(t, e, n, r, o) {
  t !== e && F2(e, function(a, i) {
    if (o || (o = new on()), Bt(a))
      R2(t, e, i, n, Ig, r, o);
    else {
      var s = r ? r(Du(t, i), a, i + "", t, e, o) : void 0;
      s === void 0 && (s = a), xu(t, i, s);
    }
  }, wg);
}
var L2 = RS(function(t, e, n, r) {
  Ig(t, e, n, r);
});
function $2(t, e, n) {
  var r = t == null ? 0 : t.length;
  if (!r)
    return -1;
  var o = 0;
  return xS(t, C2(e), o);
}
var I2 = "Expected a function";
function P2(t, e, n) {
  var r = !0, o = !0;
  if (typeof t != "function")
    throw new TypeError(I2);
  return Bt(n) && (r = "leading" in n ? !!n.leading : r, o = "trailing" in n ? !!n.trailing : o), Co(t, e, {
    leading: r,
    maxWait: e,
    trailing: o
  });
}
const et = () => ({
  getLegend: (r) => {
    const o = me(r);
    if (o) {
      const a = o.textStyle.letterSpacing || 0;
      let i = "";
      for (let s = 0; s < a; s++)
        i += " ";
      o.formatter = function(s) {
        return s.split("").join(i);
      };
    }
    return o;
  },
  getDataZoom: (r) => !r || !r.show ? void 0 : {
    ...r,
    start: r.startEnd[0] || 0,
    end: r.startEnd[1] || 100
  },
  getLetterSpaceFunc: (r) => {
    let o = "";
    for (let i = 0; i < r; i++)
      o += " ";
    return function(i) {
      return `${i}`.split("").join(o);
    };
  }
}), St = () => ({
  getXAxis: (n) => {
    const { getLetterSpaceFunc: r } = et(), o = me(n), { data: a, formatType: i, formatter: s, axisLabel: l, nameTextStyle: u, splitLine: c } = o;
    if (u.show) {
      u.padding = [u.offsetY, u.offsetX];
      let d = "";
      for (let p = 0; p < u.letterSpacing; p++)
        d += " ";
      o.name = o.name.split("").join(d);
    } else
      o.name = "";
    const f = (a == null ? void 0 : a.length) || 0;
    if (l.interval >= f ? l.interval = 0 : l.interval = Math.floor(f / l.interval) - 1, l.opacity = l.opacity / 100, i === "time" && s && f) {
      const d = ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"];
      o.data = a.map((p) => Qs(p).isValid() ? s === "week" ? d[Qs(p).day()] : Qs(p).format(s) : p);
    }
    const h = l.letterSpacing || 0;
    return h && (l.formatter = r(h)), c.interval = (d) => !!d, o;
  },
  getYAxis: (n) => {
    const { getLetterSpaceFunc: r } = et(), o = me(n);
    return o.forEach((a) => {
      const { valueRange: i, axisLabel: s, nameTextStyle: l, position: u, splitLine: c } = a;
      if (l.show) {
        l.padding = [l.offsetY, l.offsetX], l.align = u === "left" ? "right" : "left";
        let p = "";
        for (let m = 0; m < l.letterSpacing; m++)
          p += " ";
        a.name = a.name.split("").join(p);
      } else
        a.name = "";
      const f = s.letterSpacing || 0, h = r(f), d = s.formatterFixed;
      d ? s.formatter = (p) => {
        let m = typeof p == "number" ? p.toFixed(d) : p;
        return f && (m = h(m)), m;
      } : f && (s.formatter = h), s.opacity = s.opacity / 100, i.show && (i.isFixedValue ? (a.min = i.minValue, a.max = i.maxValue) : (a.min = (p) => Math.floor(p.min * i.minScale), a.max = (p) => Math.ceil(p.max * i.maxScale))), c.interval = (p) => !!p;
    }), o;
  }
}), we = () => {
  const t = ({
    fieldMap: a,
    column: i,
    data: s,
    otherData: l,
    type: u
  }) => {
    let c = [];
    switch (u) {
      case "table":
        c = r(s, l, i);
        break;
      case "chart":
        c = o(s, l);
        break;
      case "list":
        c = n(a, s, l);
        break;
      default:
        c = e(a, s, l);
        break;
    }
    return c;
  }, e = (a, i = [], s) => {
    if (!s)
      return i[0] || {};
    if (a != null && a.length) {
      const l = {};
      return a.forEach((u) => {
        const c = u.fieldAlias || u.fieldName, f = s[c];
        f != null && (l[u.fieldName] = f);
      }), {
        ...i[0],
        ...l
      };
    }
    return {};
  }, n = (a, i = [], s) => {
    const l = s || i || [], u = [];
    return a != null && a.length && (i != null && i.length) && l.forEach((c) => {
      const f = {};
      a.forEach((h) => {
        const d = h.fieldAlias || h.fieldName, p = c[d];
        p != null && (f[h.fieldName] = p);
      }), u.push(f);
    }), u;
  }, r = (a, i, s) => {
    var l;
    return (l = i.tableData) != null && l.length ? s != null && s.length ? i.tableData : [] : a;
  }, o = (a, i) => {
    var s;
    return i ? (s = i.chartData) != null && s.length ? i.chartData : [] : a;
  };
  return {
    getMappedData: t
  };
}, Pg = {
  show: !0,
  trigger: "axis",
  confine: !0,
  backgroundColor: "rgba(0,0,0,0.85)",
  borderColor: "rgba(255,255,255,0.1)",
  borderWidth: 1,
  padding: [12, 16, 12, 16],
  textStyle: {
    fontSize: 14,
    color: "#fff"
  },
  axisPointer: {
    type: "line",
    lineStyle: {
      color: "rgba(255,255,255,0.1)",
      width: 35,
      type: "solid"
    }
  },
  loopEnable: !1,
  loopInterval: 3,
  // 类型
  typeStyle: {
    fontFamily: "",
    color: "#D9DCDC",
    fontSize: 14,
    opacity: 100,
    textDecoration: "none",
    fontWeight: "normal",
    fontStyle: "normal",
    letterSpacing: 0,
    lineHeight: 20
  },
  // 类目
  nameStyle: {
    fontFamily: "",
    color: "#D9DCDC",
    fontSize: 12,
    opacity: 100,
    textDecoration: "none",
    fontWeight: "normal",
    fontStyle: "normal",
    letterSpacing: 0,
    lineHeight: 20
  },
  // 数值
  valueStyle: {
    fontFamily: "PangMenZhengDaoBiaoTiTi",
    color: "#FFFFFF",
    fontSize: 14,
    opacity: 100,
    textDecoration: "none",
    fontWeight: "normal",
    fontStyle: "normal",
    letterSpacing: 1,
    lineHeight: 20,
    flowSeries: !0
  },
  // 后缀单位
  unitStyle: {
    fontFamily: "",
    color: "#D9DCDC",
    fontSize: 12,
    opacity: 100,
    textDecoration: "none",
    fontWeight: "normal",
    fontStyle: "normal",
    letterSpacing: 0,
    lineHeight: 20,
    flowSeries: !1
  },
  // 百分比
  percentStyle: {
    fontFamily: "PangMenZhengDaoBiaoTiTi",
    color: "#FFFFFF",
    fontSize: 14,
    opacity: 100,
    textDecoration: "none",
    fontWeight: "normal",
    fontStyle: "normal",
    letterSpacing: 1,
    lineHeight: 20,
    flowSeries: !0
  },
  // 百分号
  ratioStyle: {
    fontFamily: "",
    color: "#D9DCDC",
    fontSize: 12,
    opacity: 100,
    textDecoration: "none",
    fontWeight: "normal",
    fontStyle: "normal",
    letterSpacing: 0,
    lineHeight: 20,
    flowSeries: !1
  }
}, zg = {
  left: 24,
  top: 48,
  right: 24,
  bottom: 24,
  containLabel: !0
}, Bg = {
  type: "category",
  formatType: "time",
  formatter: "MM月",
  name: "单位",
  nameTextStyle: {
    show: !1,
    color: "#BFC8D0",
    fontWeight: "normal",
    fontSize: 12,
    verticalAlign: "top",
    offsetX: -16,
    offsetY: 12
  },
  axisLabel: {
    show: !0,
    rotate: 0,
    color: "#BFC8D0",
    fontWeight: "normal",
    padding: [4, 0, 0, 0],
    fontSize: 12,
    interval: 6,
    width: 60,
    overflow: "truncate",
    opacity: 100
  },
  splitLine: {
    show: !1,
    lineStyle: {
      color: "#2D3947",
      type: "dashed",
      width: 1
    }
  },
  axisLine: {
    show: !0,
    lineStyle: {
      color: "#2D3947",
      width: 1
    }
  },
  axisTick: {
    show: !1,
    length: 5,
    lineStyle: {
      color: "#2D3947",
      width: 1
    }
  }
  // data: [],
}, Wg = [
  {
    type: "value",
    name: "单位",
    position: "left",
    offset: 0,
    nameTextStyle: {
      show: !0,
      color: "#BFC8D0",
      fontWeight: "normal",
      fontSize: 12,
      offsetX: 7,
      offsetY: 0
    },
    axisLabel: {
      show: !0,
      rotate: 0,
      color: "#BFC8D0",
      fontSize: 12,
      fontWeight: "normal",
      formatterFixed: 0,
      opacity: 100
    },
    splitLine: {
      show: !0,
      lineStyle: {
        width: 1,
        color: "#2D3947",
        type: "dashed"
      }
    },
    axisLine: {
      show: !1,
      lineStyle: {
        width: 1,
        color: "#2D3947"
      }
    },
    axisTick: {
      show: !1,
      length: 5,
      lineStyle: {
        width: 1,
        color: "#2D3947"
      }
    },
    valueRange: {
      show: !1,
      minValue: 0,
      maxValue: 100,
      isFixedValue: !0,
      minScale: 0.8,
      maxScale: 1.2
    }
  }
], Ng = {
  show: !1,
  type: "slider",
  startEnd: [0, 100],
  bottom: 4,
  height: 12,
  fillerColor: "rgba(216, 216, 216, 0.20)",
  borderColor: "rgba(151, 151, 151, 0.16)",
  borderRadius: 0,
  handleIcon: "path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",
  handleSize: "120%",
  handleStyle: {
    color: "#9EA4A9",
    borderWidth: 0
  },
  textStyle: {
    color: "transparent"
  },
  brushSelect: !1,
  dataBackground: {
    lineStyle: {
      opacity: 0
    },
    areaStyle: {
      opacity: 0
    }
  },
  selectedDataBackground: {
    lineStyle: {
      opacity: 0
    },
    areaStyle: {
      opacity: 0
    }
  }
}, Hg = {
  show: !0,
  left: "right",
  top: "top",
  align: "left",
  orient: "horizontal",
  itemWidth: 14,
  itemHeight: 8,
  borderRadius: 0,
  textStyle: {
    color: "#B3CDDD",
    fontSize: 12,
    fontWeight: "normal"
  },
  padding: [20, 24, 0, 0]
}, z2 = {
  show: !1,
  follow: !0,
  orient: "horizontal",
  left: "center",
  top: "top",
  align: "left",
  itemWidth: 14,
  itemHeight: 8,
  legendSuffix: "",
  itemGap: 14,
  formatterStr: "nameValueRate",
  // 枚举 name nameValue nameRate nameValueRate
  textStyle: {
    fontSize: 12,
    color: "#FFFFFF",
    fontWeight: 100,
    show: !1,
    rich: {
      // 类型
      align: "",
      type: {
        show: !0,
        follow: !1,
        fontFamily: "",
        color: "rgba(255,255,255,0.6)",
        fontSize: 12,
        fontWeight: "normal",
        fontStyle: "normal",
        width: 40,
        align: ""
      },
      // 数值
      value: {
        show: !1,
        follow: !1,
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        fontWeight: "normal",
        fontStyle: "normal",
        width: 20,
        align: ""
      },
      // 数值
      suffix: {
        show: !1,
        follow: !1,
        fontFamily: "",
        color: "#ffffff",
        fontSize: 12,
        fontWeight: "normal",
        fontStyle: "normal",
        width: 25,
        align: ""
      },
      // 百分比
      percent: {
        show: !0,
        follow: !0,
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        fontWeight: "normal",
        fontStyle: "normal",
        width: 30,
        align: ""
      }
    }
  },
  padding: [5, 20, 0, 0]
}, B2 = {
  show: !0,
  left: "center",
  top: "bottom",
  align: "left",
  orient: "horizontal",
  itemWidth: 14,
  itemHeight: 8,
  borderRadius: 0,
  textStyle: {
    color: "#B3CDDD",
    fontSize: 12,
    fontWeight: "normal"
  },
  padding: [20, 24, 30, 0]
}, g3 = {
  grid: zg,
  tooltip: Pg,
  xAxis: Bg,
  yAxis: Wg,
  dataZoom: Ng,
  legend: Hg
}, W2 = ["tooltip", "grid", "xAxis", "yAxis", "dataZoom", "legend", "pieLegend", "gaugeLegend"], J = (t, e = {}) => {
  if (!W2.includes(t)) return;
  let n;
  switch (t) {
    case "grid":
      n = zg;
      break;
    case "tooltip":
      n = Pg;
      break;
    case "xAxis":
      n = Bg;
      break;
    case "yAxis":
      n = Wg;
      break;
    case "dataZoom":
      n = Ng;
      break;
    case "legend":
      n = Hg;
      break;
    case "pieLegend":
      n = z2;
      break;
    case "gaugeLegend":
      n = B2;
      break;
  }
  return t !== "yAxis" && (n = {
    ...n,
    ...e
  }), me(n);
}, y3 = [
  {
    label: "方形",
    value: "rect"
  },
  {
    label: "半圆",
    value: "round"
  },
  {
    label: "圆形",
    value: "circle"
  }
], N2 = {
  type: "static",
  url: "",
  method: "GET",
  params: "",
  header: "",
  internal: 0,
  dataFilter: ""
}, m3 = {
  request: {
    enable: !1
  },
  state: {
    enable: !1,
    index: 0
  },
  page: {
    enable: !1,
    pageId: "",
    pageIndex: 0
  },
  script: {
    enable: !1,
    code: ""
    // const executeScript = function (value, node) {\n\n}
  },
  write: {
    enable: !1
  },
  dialog: {
    enable: !1,
    type: ""
  }
}, fe = {
  enable: !1
}, S3 = {
  mounted: { enable: !1, config: null },
  click: { enable: !1, config: null },
  dblclick: { enable: !1, config: null },
  mouseenter: { enable: !1, config: null },
  mouseleave: { enable: !1, config: null }
}, de = () => JSON.parse(JSON.stringify(N2)), Vg = (t) => {
  const e = t.getActiveObject();
  return e && e.type === "activeSelection" ? e.getPosition() : null;
}, Cu = (t, e) => L2(t, e, (n, r) => {
  if (Array.isArray(n)) {
    const o = n.slice(0, r.length);
    return Cu(o, r);
  }
  return typeof n == "object" ? Cu(n, r) : r !== null ? r : n;
}), fd = (t, e) => {
  const n = {};
  return e.forEach((r) => {
    n[r] = me(t[r]);
  }), n;
}, b3 = P2((t, e) => {
  Ia(t, e, !1);
}, 50), Ia = (t, e, n = !1) => {
  t = t.concat(["id"]);
  const { editor: r } = e, o = r.__tempIdList || [];
  let a = r.getObjectsByCondition((f) => o.includes(f.id));
  if (a.length || (a = r.getActiveObjects(), r.__tempIdList = a.map((f) => f.id)), a.length === 0) {
    console.log("没有找到对象");
    return;
  }
  const i = [], s = [], l = fd(e, t), u = Vg(r);
  a.forEach((f) => {
    t.forEach((y) => {
      if (!Reflect.get(f, `__${y}`)) {
        const b = Reflect.get(f, y);
        Reflect.set(f, `__${y}`, me(b));
      }
    });
    const d = (f.group || r).objects.findIndex((y) => y.id === f.id), p = f.group ? f.group.id : null, m = fd(f, t), g = Cu(m, l), v = { index: d, parentId: p, data: g };
    if (i.push(v), n) {
      const y = { id: f.id };
      t.forEach((S) => {
        const b = Reflect.get(f, `__${S}`);
        Reflect.set(y, S, b), delete f[`__${S}`];
      }), s.push({ index: d, parentId: p, data: y });
    }
  });
  const c = {
    to: {
      activeSelection: u,
      data: i
    }
  };
  n && (Reflect.set(c, "from", {
    activeSelection: u,
    data: s
  }), delete r.__tempIdList), r.fire(tr.coreOperation, { action: Tc.attribute, param: c });
}, w3 = (t, e) => {
  t = t.concat(["id"]);
  const { editor: n } = e, r = n.__tempIdList || [];
  let o = n.getObjectsByCondition((l) => r.includes(l.id));
  if (o.length || (o = n.getActiveObjects(), n.__tempIdList = o.map((l) => l.id)), o.length === 0) {
    console.log("没有找到对象");
    return;
  }
  const a = [], i = Vg(n);
  o.forEach((l) => {
    const c = (l.group || n).objects.findIndex((p) => p.id === l.id), f = l.group ? l.group.id : null, h = {};
    t.forEach((p) => {
      h[p] = Reflect.get(l, `__${p}`), delete l[`__${p}`];
    });
    const d = { index: c, parentId: f, data: h };
    a.push(d);
  });
  const s = {
    activeSelection: i,
    data: a
  };
  delete n.__tempIdList, n.fire(tr.coreOperation, { action: Tc.attribute, param: { to: s } });
}, _3 = (t, e) => {
  e.handleOpenDialog({
    title: "新增状态",
    form: {
      name: `状态${t.states.length + 1}`
    },
    isAdd: !0
  });
}, x3 = (t, e) => {
  const r = t.states[t.stateIndex].name || `状态${t.stateIndex + 1}`;
  e.handleOpenDialog({
    title: `编辑状态【${r}】`,
    form: {
      name: r
    },
    isAdd: !1
  });
}, D3 = (t) => {
  const { states: e, stateIndex: n } = t;
  if (e.length < 2)
    return lg.error("至少保留一个状态");
  const r = t.getState();
  b1.confirm(`是否确定删除状态【${r.name || "状态" + (n + 1)}】?`, "提示", {
    confirmButtonText: "确定",
    cancelButtonText: "取消",
    type: "warning",
    beforeClose: (o, a, i) => {
      o === "confirm" && (e.splice(n, 1), t.stateIndex = 0, Ia(["states", "stateIndex"], t, !0)), i();
    }
  });
}, C3 = (t, e, n) => {
  const { stateIndex: r, states: o } = e, { isAdd: a, name: i } = t;
  if (a) {
    const s = me(o[r]);
    s.name = i, o.push(s), e.stateIndex = o.length - 1;
  } else
    o[r].name = i;
  Ia(["states", "stateIndex"], e, !0), n.handleCloseDialog();
}, H2 = (t) => {
  const { x: e, y: n, w: r, h: o, angle: a, id: i, willChange: s, visible: l, flipX: u, flipY: c } = t, { interactive: f } = t.editor.config || {}, h = {
    id: i,
    width: r,
    height: o,
    class: [f ? "" : "no-interactive", u ? "flip-x" : "", c ? "flip-y" : ""],
    style: {
      transform: `rotate(${a}deg) translate(${e}px, ${n}px)`,
      transformOrigin: `${e + r / 2}px ${n + o / 2}px`,
      display: l ? "block" : "none"
    }
  };
  return s && Reflect.set(h.style, "willChange", s), h;
}, qg = (t) => {
  t = t || {};
  const e = ["borderWidth", "fontSize", "borderRadius", "letterSpacing", "lineHeight", "paddingLeft", "paddingRight"], n = me(t.style || {});
  Object.keys(n).forEach((o) => {
    e.includes(o) && (n[o] = n[o] + "px");
  });
  const r = [];
  if (t.overline && r.push("overline"), t.lineThrough && r.push("line-through"), t.underline && r.push("underline"), r.length && (n.textDecoration = r.join(" ")), t.textOverflow === "ellipsis" ? (n.display = "block", n.overflow = "hidden", n.textOverflow = "ellipsis", n.whiteSpace = "nowrap") : (n.wordBreak = "break-all", n.overflowWrap = "break-word", n.whiteSpace = "pre-line"), t.textShadow && t.textShadow.show) {
    const { horizontal: o, vertical: a, blur: i, color: s } = t.textShadow;
    n.textShadow = `${o}px ${a}px ${i}px ${s}`;
  }
  return n;
}, Tu = (t) => new Function(t + "; return executeScript")(), T3 = (t) => new Function("return " + t + ";")(), F3 = (t) => !(typeof t > "u" || t === null || t.toString().trim() === ""), A3 = (t) => `${t}%`, k3 = (t) => `${t}px`, E3 = {
  1: "一",
  2: "二",
  3: "三",
  4: "四",
  5: "五",
  6: "六",
  7: "七",
  8: "八",
  9: "九",
  10: "十",
  11: "十一",
  12: "十二",
  13: "十三",
  14: "十四",
  15: "十五"
}, sn = (t, e) => {
  const n = t.toString(), r = " ".repeat(e);
  return n.split("").join(r);
};
function jg(t, e) {
  return function() {
    return t.apply(e, arguments);
  };
}
const { toString: V2 } = Object.prototype, { getPrototypeOf: Bc } = Object, Ts = /* @__PURE__ */ ((t) => (e) => {
  const n = V2.call(e);
  return t[n] || (t[n] = n.slice(8, -1).toLowerCase());
})(/* @__PURE__ */ Object.create(null)), un = (t) => (t = t.toLowerCase(), (e) => Ts(e) === t), Fs = (t) => (e) => typeof e === t, { isArray: To } = Array, Ca = Fs("undefined");
function q2(t) {
  return t !== null && !Ca(t) && t.constructor !== null && !Ca(t.constructor) && $t(t.constructor.isBuffer) && t.constructor.isBuffer(t);
}
const Ug = un("ArrayBuffer");
function j2(t) {
  let e;
  return typeof ArrayBuffer < "u" && ArrayBuffer.isView ? e = ArrayBuffer.isView(t) : e = t && t.buffer && Ug(t.buffer), e;
}
const U2 = Fs("string"), $t = Fs("function"), Yg = Fs("number"), As = (t) => t !== null && typeof t == "object", Y2 = (t) => t === !0 || t === !1, Fi = (t) => {
  if (Ts(t) !== "object")
    return !1;
  const e = Bc(t);
  return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(Symbol.toStringTag in t) && !(Symbol.iterator in t);
}, G2 = un("Date"), X2 = un("File"), Z2 = un("Blob"), K2 = un("FileList"), J2 = (t) => As(t) && $t(t.pipe), Q2 = (t) => {
  let e;
  return t && (typeof FormData == "function" && t instanceof FormData || $t(t.append) && ((e = Ts(t)) === "formdata" || // detect form-data instance
  e === "object" && $t(t.toString) && t.toString() === "[object FormData]"));
}, ex = un("URLSearchParams"), [tx, nx, rx, ox] = ["ReadableStream", "Request", "Response", "Headers"].map(un), ax = (t) => t.trim ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function Pa(t, e, { allOwnKeys: n = !1 } = {}) {
  if (t === null || typeof t > "u")
    return;
  let r, o;
  if (typeof t != "object" && (t = [t]), To(t))
    for (r = 0, o = t.length; r < o; r++)
      e.call(null, t[r], r, t);
  else {
    const a = n ? Object.getOwnPropertyNames(t) : Object.keys(t), i = a.length;
    let s;
    for (r = 0; r < i; r++)
      s = a[r], e.call(null, t[s], s, t);
  }
}
function Gg(t, e) {
  e = e.toLowerCase();
  const n = Object.keys(t);
  let r = n.length, o;
  for (; r-- > 0; )
    if (o = n[r], e === o.toLowerCase())
      return o;
  return null;
}
const kr = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : global, Xg = (t) => !Ca(t) && t !== kr;
function Fu() {
  const { caseless: t } = Xg(this) && this || {}, e = {}, n = (r, o) => {
    const a = t && Gg(e, o) || o;
    Fi(e[a]) && Fi(r) ? e[a] = Fu(e[a], r) : Fi(r) ? e[a] = Fu({}, r) : To(r) ? e[a] = r.slice() : e[a] = r;
  };
  for (let r = 0, o = arguments.length; r < o; r++)
    arguments[r] && Pa(arguments[r], n);
  return e;
}
const ix = (t, e, n, { allOwnKeys: r } = {}) => (Pa(e, (o, a) => {
  n && $t(o) ? t[a] = jg(o, n) : t[a] = o;
}, { allOwnKeys: r }), t), sx = (t) => (t.charCodeAt(0) === 65279 && (t = t.slice(1)), t), lx = (t, e, n, r) => {
  t.prototype = Object.create(e.prototype, r), t.prototype.constructor = t, Object.defineProperty(t, "super", {
    value: e.prototype
  }), n && Object.assign(t.prototype, n);
}, ux = (t, e, n, r) => {
  let o, a, i;
  const s = {};
  if (e = e || {}, t == null) return e;
  do {
    for (o = Object.getOwnPropertyNames(t), a = o.length; a-- > 0; )
      i = o[a], (!r || r(i, t, e)) && !s[i] && (e[i] = t[i], s[i] = !0);
    t = n !== !1 && Bc(t);
  } while (t && (!n || n(t, e)) && t !== Object.prototype);
  return e;
}, cx = (t, e, n) => {
  t = String(t), (n === void 0 || n > t.length) && (n = t.length), n -= e.length;
  const r = t.indexOf(e, n);
  return r !== -1 && r === n;
}, fx = (t) => {
  if (!t) return null;
  if (To(t)) return t;
  let e = t.length;
  if (!Yg(e)) return null;
  const n = new Array(e);
  for (; e-- > 0; )
    n[e] = t[e];
  return n;
}, dx = /* @__PURE__ */ ((t) => (e) => t && e instanceof t)(typeof Uint8Array < "u" && Bc(Uint8Array)), hx = (t, e) => {
  const r = (t && t[Symbol.iterator]).call(t);
  let o;
  for (; (o = r.next()) && !o.done; ) {
    const a = o.value;
    e.call(t, a[0], a[1]);
  }
}, px = (t, e) => {
  let n;
  const r = [];
  for (; (n = t.exec(e)) !== null; )
    r.push(n);
  return r;
}, vx = un("HTMLFormElement"), gx = (t) => t.toLowerCase().replace(
  /[-_\s]([a-z\d])(\w*)/g,
  function(n, r, o) {
    return r.toUpperCase() + o;
  }
), dd = (({ hasOwnProperty: t }) => (e, n) => t.call(e, n))(Object.prototype), yx = un("RegExp"), Zg = (t, e) => {
  const n = Object.getOwnPropertyDescriptors(t), r = {};
  Pa(n, (o, a) => {
    let i;
    (i = e(o, a, t)) !== !1 && (r[a] = i || o);
  }), Object.defineProperties(t, r);
}, mx = (t) => {
  Zg(t, (e, n) => {
    if ($t(t) && ["arguments", "caller", "callee"].indexOf(n) !== -1)
      return !1;
    const r = t[n];
    if ($t(r)) {
      if (e.enumerable = !1, "writable" in e) {
        e.writable = !1;
        return;
      }
      e.set || (e.set = () => {
        throw Error("Can not rewrite read-only method '" + n + "'");
      });
    }
  });
}, Sx = (t, e) => {
  const n = {}, r = (o) => {
    o.forEach((a) => {
      n[a] = !0;
    });
  };
  return To(t) ? r(t) : r(String(t).split(e)), n;
}, bx = () => {
}, _x = (t, e) => t != null && Number.isFinite(t = +t) ? t : e, ol = "abcdefghijklmnopqrstuvwxyz", hd = "0123456789", Kg = {
  DIGIT: hd,
  ALPHA: ol,
  ALPHA_DIGIT: ol + ol.toUpperCase() + hd
}, xx = (t = 16, e = Kg.ALPHA_DIGIT) => {
  let n = "";
  const { length: r } = e;
  for (; t--; )
    n += e[Math.random() * r | 0];
  return n;
};
function Dx(t) {
  return !!(t && $t(t.append) && t[Symbol.toStringTag] === "FormData" && t[Symbol.iterator]);
}
const Cx = (t) => {
  const e = new Array(10), n = (r, o) => {
    if (As(r)) {
      if (e.indexOf(r) >= 0)
        return;
      if (!("toJSON" in r)) {
        e[o] = r;
        const a = To(r) ? [] : {};
        return Pa(r, (i, s) => {
          const l = n(i, o + 1);
          !Ca(l) && (a[s] = l);
        }), e[o] = void 0, a;
      }
    }
    return r;
  };
  return n(t, 0);
}, Tx = un("AsyncFunction"), Fx = (t) => t && (As(t) || $t(t)) && $t(t.then) && $t(t.catch), Jg = ((t, e) => t ? setImmediate : e ? ((n, r) => (kr.addEventListener("message", ({ source: o, data: a }) => {
  o === kr && a === n && r.length && r.shift()();
}, !1), (o) => {
  r.push(o), kr.postMessage(n, "*");
}))(`axios@${Math.random()}`, []) : (n) => setTimeout(n))(
  typeof setImmediate == "function",
  $t(kr.postMessage)
), Ax = typeof queueMicrotask < "u" ? queueMicrotask.bind(kr) : typeof process < "u" && process.nextTick || Jg, Y = {
  isArray: To,
  isArrayBuffer: Ug,
  isBuffer: q2,
  isFormData: Q2,
  isArrayBufferView: j2,
  isString: U2,
  isNumber: Yg,
  isBoolean: Y2,
  isObject: As,
  isPlainObject: Fi,
  isReadableStream: tx,
  isRequest: nx,
  isResponse: rx,
  isHeaders: ox,
  isUndefined: Ca,
  isDate: G2,
  isFile: X2,
  isBlob: Z2,
  isRegExp: yx,
  isFunction: $t,
  isStream: J2,
  isURLSearchParams: ex,
  isTypedArray: dx,
  isFileList: K2,
  forEach: Pa,
  merge: Fu,
  extend: ix,
  trim: ax,
  stripBOM: sx,
  inherits: lx,
  toFlatObject: ux,
  kindOf: Ts,
  kindOfTest: un,
  endsWith: cx,
  toArray: fx,
  forEachEntry: hx,
  matchAll: px,
  isHTMLForm: vx,
  hasOwnProperty: dd,
  hasOwnProp: dd,
  // an alias to avoid ESLint no-prototype-builtins detection
  reduceDescriptors: Zg,
  freezeMethods: mx,
  toObjectSet: Sx,
  toCamelCase: gx,
  noop: bx,
  toFiniteNumber: _x,
  findKey: Gg,
  global: kr,
  isContextDefined: Xg,
  ALPHABET: Kg,
  generateString: xx,
  isSpecCompliantForm: Dx,
  toJSONObject: Cx,
  isAsyncFn: Tx,
  isThenable: Fx,
  setImmediate: Jg,
  asap: Ax
};
function ye(t, e, n, r, o) {
  Error.call(this), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : this.stack = new Error().stack, this.message = t, this.name = "AxiosError", e && (this.code = e), n && (this.config = n), r && (this.request = r), o && (this.response = o, this.status = o.status ? o.status : null);
}
Y.inherits(ye, Error, {
  toJSON: function() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: Y.toJSONObject(this.config),
      code: this.code,
      status: this.status
    };
  }
});
const Qg = ye.prototype, e0 = {};
[
  "ERR_BAD_OPTION_VALUE",
  "ERR_BAD_OPTION",
  "ECONNABORTED",
  "ETIMEDOUT",
  "ERR_NETWORK",
  "ERR_FR_TOO_MANY_REDIRECTS",
  "ERR_DEPRECATED",
  "ERR_BAD_RESPONSE",
  "ERR_BAD_REQUEST",
  "ERR_CANCELED",
  "ERR_NOT_SUPPORT",
  "ERR_INVALID_URL"
  // eslint-disable-next-line func-names
].forEach((t) => {
  e0[t] = { value: t };
});
Object.defineProperties(ye, e0);
Object.defineProperty(Qg, "isAxiosError", { value: !0 });
ye.from = (t, e, n, r, o, a) => {
  const i = Object.create(Qg);
  return Y.toFlatObject(t, i, function(l) {
    return l !== Error.prototype;
  }, (s) => s !== "isAxiosError"), ye.call(i, t.message, e, n, r, o), i.cause = t, i.name = t.name, a && Object.assign(i, a), i;
};
const kx = null;
function Au(t) {
  return Y.isPlainObject(t) || Y.isArray(t);
}
function t0(t) {
  return Y.endsWith(t, "[]") ? t.slice(0, -2) : t;
}
function pd(t, e, n) {
  return t ? t.concat(e).map(function(o, a) {
    return o = t0(o), !n && a ? "[" + o + "]" : o;
  }).join(n ? "." : "") : e;
}
function Ex(t) {
  return Y.isArray(t) && !t.some(Au);
}
const Mx = Y.toFlatObject(Y, {}, null, function(e) {
  return /^is[A-Z]/.test(e);
});
function ks(t, e, n) {
  if (!Y.isObject(t))
    throw new TypeError("target must be an object");
  e = e || new FormData(), n = Y.toFlatObject(n, {
    metaTokens: !0,
    dots: !1,
    indexes: !1
  }, !1, function(m, g) {
    return !Y.isUndefined(g[m]);
  });
  const r = n.metaTokens, o = n.visitor || c, a = n.dots, i = n.indexes, l = (n.Blob || typeof Blob < "u" && Blob) && Y.isSpecCompliantForm(e);
  if (!Y.isFunction(o))
    throw new TypeError("visitor must be a function");
  function u(p) {
    if (p === null) return "";
    if (Y.isDate(p))
      return p.toISOString();
    if (!l && Y.isBlob(p))
      throw new ye("Blob is not supported. Use a Buffer instead.");
    return Y.isArrayBuffer(p) || Y.isTypedArray(p) ? l && typeof Blob == "function" ? new Blob([p]) : Buffer.from(p) : p;
  }
  function c(p, m, g) {
    let v = p;
    if (p && !g && typeof p == "object") {
      if (Y.endsWith(m, "{}"))
        m = r ? m : m.slice(0, -2), p = JSON.stringify(p);
      else if (Y.isArray(p) && Ex(p) || (Y.isFileList(p) || Y.endsWith(m, "[]")) && (v = Y.toArray(p)))
        return m = t0(m), v.forEach(function(S, b) {
          !(Y.isUndefined(S) || S === null) && e.append(
            // eslint-disable-next-line no-nested-ternary
            i === !0 ? pd([m], b, a) : i === null ? m : m + "[]",
            u(S)
          );
        }), !1;
    }
    return Au(p) ? !0 : (e.append(pd(g, m, a), u(p)), !1);
  }
  const f = [], h = Object.assign(Mx, {
    defaultVisitor: c,
    convertValue: u,
    isVisitable: Au
  });
  function d(p, m) {
    if (!Y.isUndefined(p)) {
      if (f.indexOf(p) !== -1)
        throw Error("Circular reference detected in " + m.join("."));
      f.push(p), Y.forEach(p, function(v, y) {
        (!(Y.isUndefined(v) || v === null) && o.call(
          e,
          v,
          Y.isString(y) ? y.trim() : y,
          m,
          h
        )) === !0 && d(v, m ? m.concat(y) : [y]);
      }), f.pop();
    }
  }
  if (!Y.isObject(t))
    throw new TypeError("data must be an object");
  return d(t), e;
}
function vd(t) {
  const e = {
    "!": "%21",
    "'": "%27",
    "(": "%28",
    ")": "%29",
    "~": "%7E",
    "%20": "+",
    "%00": "\0"
  };
  return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g, function(r) {
    return e[r];
  });
}
function Wc(t, e) {
  this._pairs = [], t && ks(t, this, e);
}
const n0 = Wc.prototype;
n0.append = function(e, n) {
  this._pairs.push([e, n]);
};
n0.toString = function(e) {
  const n = e ? function(r) {
    return e.call(this, r, vd);
  } : vd;
  return this._pairs.map(function(o) {
    return n(o[0]) + "=" + n(o[1]);
  }, "").join("&");
};
function Ox(t) {
  return encodeURIComponent(t).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
}
function r0(t, e, n) {
  if (!e)
    return t;
  const r = n && n.encode || Ox;
  Y.isFunction(n) && (n = {
    serialize: n
  });
  const o = n && n.serialize;
  let a;
  if (o ? a = o(e, n) : a = Y.isURLSearchParams(e) ? e.toString() : new Wc(e, n).toString(r), a) {
    const i = t.indexOf("#");
    i !== -1 && (t = t.slice(0, i)), t += (t.indexOf("?") === -1 ? "?" : "&") + a;
  }
  return t;
}
class gd {
  constructor() {
    this.handlers = [];
  }
  /**
   * Add a new interceptor to the stack
   *
   * @param {Function} fulfilled The function to handle `then` for a `Promise`
   * @param {Function} rejected The function to handle `reject` for a `Promise`
   *
   * @return {Number} An ID used to remove interceptor later
   */
  use(e, n, r) {
    return this.handlers.push({
      fulfilled: e,
      rejected: n,
      synchronous: r ? r.synchronous : !1,
      runWhen: r ? r.runWhen : null
    }), this.handlers.length - 1;
  }
  /**
   * Remove an interceptor from the stack
   *
   * @param {Number} id The ID that was returned by `use`
   *
   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
   */
  eject(e) {
    this.handlers[e] && (this.handlers[e] = null);
  }
  /**
   * Clear all interceptors from the stack
   *
   * @returns {void}
   */
  clear() {
    this.handlers && (this.handlers = []);
  }
  /**
   * Iterate over all the registered interceptors
   *
   * This method is particularly useful for skipping over any
   * interceptors that may have become `null` calling `eject`.
   *
   * @param {Function} fn The function to call for each interceptor
   *
   * @returns {void}
   */
  forEach(e) {
    Y.forEach(this.handlers, function(r) {
      r !== null && e(r);
    });
  }
}
const o0 = {
  silentJSONParsing: !0,
  forcedJSONParsing: !0,
  clarifyTimeoutError: !1
}, Rx = typeof URLSearchParams < "u" ? URLSearchParams : Wc, Lx = typeof FormData < "u" ? FormData : null, $x = typeof Blob < "u" ? Blob : null, Ix = {
  isBrowser: !0,
  classes: {
    URLSearchParams: Rx,
    FormData: Lx,
    Blob: $x
  },
  protocols: ["http", "https", "file", "blob", "url", "data"]
}, Nc = typeof window < "u" && typeof document < "u", ku = typeof navigator == "object" && navigator || void 0, Px = Nc && (!ku || ["ReactNative", "NativeScript", "NS"].indexOf(ku.product) < 0), zx = typeof WorkerGlobalScope < "u" && // eslint-disable-next-line no-undef
self instanceof WorkerGlobalScope && typeof self.importScripts == "function", Bx = Nc && window.location.href || "http://localhost", Wx = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  hasBrowserEnv: Nc,
  hasStandardBrowserEnv: Px,
  hasStandardBrowserWebWorkerEnv: zx,
  navigator: ku,
  origin: Bx
}, Symbol.toStringTag, { value: "Module" })), dt = {
  ...Wx,
  ...Ix
};
function Nx(t, e) {
  return ks(t, new dt.classes.URLSearchParams(), Object.assign({
    visitor: function(n, r, o, a) {
      return dt.isNode && Y.isBuffer(n) ? (this.append(r, n.toString("base64")), !1) : a.defaultVisitor.apply(this, arguments);
    }
  }, e));
}
function Hx(t) {
  return Y.matchAll(/\w+|\[(\w*)]/g, t).map((e) => e[0] === "[]" ? "" : e[1] || e[0]);
}
function Vx(t) {
  const e = {}, n = Object.keys(t);
  let r;
  const o = n.length;
  let a;
  for (r = 0; r < o; r++)
    a = n[r], e[a] = t[a];
  return e;
}
function a0(t) {
  function e(n, r, o, a) {
    let i = n[a++];
    if (i === "__proto__") return !0;
    const s = Number.isFinite(+i), l = a >= n.length;
    return i = !i && Y.isArray(o) ? o.length : i, l ? (Y.hasOwnProp(o, i) ? o[i] = [o[i], r] : o[i] = r, !s) : ((!o[i] || !Y.isObject(o[i])) && (o[i] = []), e(n, r, o[i], a) && Y.isArray(o[i]) && (o[i] = Vx(o[i])), !s);
  }
  if (Y.isFormData(t) && Y.isFunction(t.entries)) {
    const n = {};
    return Y.forEachEntry(t, (r, o) => {
      e(Hx(r), o, n, 0);
    }), n;
  }
  return null;
}
function qx(t, e, n) {
  if (Y.isString(t))
    try {
      return (e || JSON.parse)(t), Y.trim(t);
    } catch (r) {
      if (r.name !== "SyntaxError")
        throw r;
    }
  return (n || JSON.stringify)(t);
}
const za = {
  transitional: o0,
  adapter: ["xhr", "http", "fetch"],
  transformRequest: [function(e, n) {
    const r = n.getContentType() || "", o = r.indexOf("application/json") > -1, a = Y.isObject(e);
    if (a && Y.isHTMLForm(e) && (e = new FormData(e)), Y.isFormData(e))
      return o ? JSON.stringify(a0(e)) : e;
    if (Y.isArrayBuffer(e) || Y.isBuffer(e) || Y.isStream(e) || Y.isFile(e) || Y.isBlob(e) || Y.isReadableStream(e))
      return e;
    if (Y.isArrayBufferView(e))
      return e.buffer;
    if (Y.isURLSearchParams(e))
      return n.setContentType("application/x-www-form-urlencoded;charset=utf-8", !1), e.toString();
    let s;
    if (a) {
      if (r.indexOf("application/x-www-form-urlencoded") > -1)
        return Nx(e, this.formSerializer).toString();
      if ((s = Y.isFileList(e)) || r.indexOf("multipart/form-data") > -1) {
        const l = this.env && this.env.FormData;
        return ks(
          s ? { "files[]": e } : e,
          l && new l(),
          this.formSerializer
        );
      }
    }
    return a || o ? (n.setContentType("application/json", !1), qx(e)) : e;
  }],
  transformResponse: [function(e) {
    const n = this.transitional || za.transitional, r = n && n.forcedJSONParsing, o = this.responseType === "json";
    if (Y.isResponse(e) || Y.isReadableStream(e))
      return e;
    if (e && Y.isString(e) && (r && !this.responseType || o)) {
      const i = !(n && n.silentJSONParsing) && o;
      try {
        return JSON.parse(e);
      } catch (s) {
        if (i)
          throw s.name === "SyntaxError" ? ye.from(s, ye.ERR_BAD_RESPONSE, this, null, this.response) : s;
      }
    }
    return e;
  }],
  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  env: {
    FormData: dt.classes.FormData,
    Blob: dt.classes.Blob
  },
  validateStatus: function(e) {
    return e >= 200 && e < 300;
  },
  headers: {
    common: {
      Accept: "application/json, text/plain, */*",
      "Content-Type": void 0
    }
  }
};
Y.forEach(["delete", "get", "head", "post", "put", "patch"], (t) => {
  za.headers[t] = {};
});
const jx = Y.toObjectSet([
  "age",
  "authorization",
  "content-length",
  "content-type",
  "etag",
  "expires",
  "from",
  "host",
  "if-modified-since",
  "if-unmodified-since",
  "last-modified",
  "location",
  "max-forwards",
  "proxy-authorization",
  "referer",
  "retry-after",
  "user-agent"
]), Ux = (t) => {
  const e = {};
  let n, r, o;
  return t && t.split(`
`).forEach(function(i) {
    o = i.indexOf(":"), n = i.substring(0, o).trim().toLowerCase(), r = i.substring(o + 1).trim(), !(!n || e[n] && jx[n]) && (n === "set-cookie" ? e[n] ? e[n].push(r) : e[n] = [r] : e[n] = e[n] ? e[n] + ", " + r : r);
  }), e;
}, yd = Symbol("internals");
function Lo(t) {
  return t && String(t).trim().toLowerCase();
}
function Ai(t) {
  return t === !1 || t == null ? t : Y.isArray(t) ? t.map(Ai) : String(t);
}
function Yx(t) {
  const e = /* @__PURE__ */ Object.create(null), n = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let r;
  for (; r = n.exec(t); )
    e[r[1]] = r[2];
  return e;
}
const Gx = (t) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());
function al(t, e, n, r, o) {
  if (Y.isFunction(r))
    return r.call(this, e, n);
  if (o && (e = n), !!Y.isString(e)) {
    if (Y.isString(r))
      return e.indexOf(r) !== -1;
    if (Y.isRegExp(r))
      return r.test(e);
  }
}
function Xx(t) {
  return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (e, n, r) => n.toUpperCase() + r);
}
function Zx(t, e) {
  const n = Y.toCamelCase(" " + e);
  ["get", "set", "has"].forEach((r) => {
    Object.defineProperty(t, r + n, {
      value: function(o, a, i) {
        return this[r].call(this, e, o, a, i);
      },
      configurable: !0
    });
  });
}
let Tt = class {
  constructor(e) {
    e && this.set(e);
  }
  set(e, n, r) {
    const o = this;
    function a(s, l, u) {
      const c = Lo(l);
      if (!c)
        throw new Error("header name must be a non-empty string");
      const f = Y.findKey(o, c);
      (!f || o[f] === void 0 || u === !0 || u === void 0 && o[f] !== !1) && (o[f || l] = Ai(s));
    }
    const i = (s, l) => Y.forEach(s, (u, c) => a(u, c, l));
    if (Y.isPlainObject(e) || e instanceof this.constructor)
      i(e, n);
    else if (Y.isString(e) && (e = e.trim()) && !Gx(e))
      i(Ux(e), n);
    else if (Y.isHeaders(e))
      for (const [s, l] of e.entries())
        a(l, s, r);
    else
      e != null && a(n, e, r);
    return this;
  }
  get(e, n) {
    if (e = Lo(e), e) {
      const r = Y.findKey(this, e);
      if (r) {
        const o = this[r];
        if (!n)
          return o;
        if (n === !0)
          return Yx(o);
        if (Y.isFunction(n))
          return n.call(this, o, r);
        if (Y.isRegExp(n))
          return n.exec(o);
        throw new TypeError("parser must be boolean|regexp|function");
      }
    }
  }
  has(e, n) {
    if (e = Lo(e), e) {
      const r = Y.findKey(this, e);
      return !!(r && this[r] !== void 0 && (!n || al(this, this[r], r, n)));
    }
    return !1;
  }
  delete(e, n) {
    const r = this;
    let o = !1;
    function a(i) {
      if (i = Lo(i), i) {
        const s = Y.findKey(r, i);
        s && (!n || al(r, r[s], s, n)) && (delete r[s], o = !0);
      }
    }
    return Y.isArray(e) ? e.forEach(a) : a(e), o;
  }
  clear(e) {
    const n = Object.keys(this);
    let r = n.length, o = !1;
    for (; r--; ) {
      const a = n[r];
      (!e || al(this, this[a], a, e, !0)) && (delete this[a], o = !0);
    }
    return o;
  }
  normalize(e) {
    const n = this, r = {};
    return Y.forEach(this, (o, a) => {
      const i = Y.findKey(r, a);
      if (i) {
        n[i] = Ai(o), delete n[a];
        return;
      }
      const s = e ? Xx(a) : String(a).trim();
      s !== a && delete n[a], n[s] = Ai(o), r[s] = !0;
    }), this;
  }
  concat(...e) {
    return this.constructor.concat(this, ...e);
  }
  toJSON(e) {
    const n = /* @__PURE__ */ Object.create(null);
    return Y.forEach(this, (r, o) => {
      r != null && r !== !1 && (n[o] = e && Y.isArray(r) ? r.join(", ") : r);
    }), n;
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([e, n]) => e + ": " + n).join(`
`);
  }
  get [Symbol.toStringTag]() {
    return "AxiosHeaders";
  }
  static from(e) {
    return e instanceof this ? e : new this(e);
  }
  static concat(e, ...n) {
    const r = new this(e);
    return n.forEach((o) => r.set(o)), r;
  }
  static accessor(e) {
    const r = (this[yd] = this[yd] = {
      accessors: {}
    }).accessors, o = this.prototype;
    function a(i) {
      const s = Lo(i);
      r[s] || (Zx(o, i), r[s] = !0);
    }
    return Y.isArray(e) ? e.forEach(a) : a(e), this;
  }
};
Tt.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]);
Y.reduceDescriptors(Tt.prototype, ({ value: t }, e) => {
  let n = e[0].toUpperCase() + e.slice(1);
  return {
    get: () => t,
    set(r) {
      this[n] = r;
    }
  };
});
Y.freezeMethods(Tt);
function il(t, e) {
  const n = this || za, r = e || n, o = Tt.from(r.headers);
  let a = r.data;
  return Y.forEach(t, function(s) {
    a = s.call(n, a, o.normalize(), e ? e.status : void 0);
  }), o.normalize(), a;
}
function i0(t) {
  return !!(t && t.__CANCEL__);
}
function Fo(t, e, n) {
  ye.call(this, t ?? "canceled", ye.ERR_CANCELED, e, n), this.name = "CanceledError";
}
Y.inherits(Fo, ye, {
  __CANCEL__: !0
});
function s0(t, e, n) {
  const r = n.config.validateStatus;
  !n.status || !r || r(n.status) ? t(n) : e(new ye(
    "Request failed with status code " + n.status,
    [ye.ERR_BAD_REQUEST, ye.ERR_BAD_RESPONSE][Math.floor(n.status / 100) - 4],
    n.config,
    n.request,
    n
  ));
}
function Kx(t) {
  const e = /^([-+\w]{1,25})(:?\/\/|:)/.exec(t);
  return e && e[1] || "";
}
function Jx(t, e) {
  t = t || 10;
  const n = new Array(t), r = new Array(t);
  let o = 0, a = 0, i;
  return e = e !== void 0 ? e : 1e3, function(l) {
    const u = Date.now(), c = r[a];
    i || (i = u), n[o] = l, r[o] = u;
    let f = a, h = 0;
    for (; f !== o; )
      h += n[f++], f = f % t;
    if (o = (o + 1) % t, o === a && (a = (a + 1) % t), u - i < e)
      return;
    const d = c && u - c;
    return d ? Math.round(h * 1e3 / d) : void 0;
  };
}
function Qx(t, e) {
  let n = 0, r = 1e3 / e, o, a;
  const i = (u, c = Date.now()) => {
    n = c, o = null, a && (clearTimeout(a), a = null), t.apply(null, u);
  };
  return [(...u) => {
    const c = Date.now(), f = c - n;
    f >= r ? i(u, c) : (o = u, a || (a = setTimeout(() => {
      a = null, i(o);
    }, r - f)));
  }, () => o && i(o)];
}
const Zi = (t, e, n = 3) => {
  let r = 0;
  const o = Jx(50, 250);
  return Qx((a) => {
    const i = a.loaded, s = a.lengthComputable ? a.total : void 0, l = i - r, u = o(l), c = i <= s;
    r = i;
    const f = {
      loaded: i,
      total: s,
      progress: s ? i / s : void 0,
      bytes: l,
      rate: u || void 0,
      estimated: u && s && c ? (s - i) / u : void 0,
      event: a,
      lengthComputable: s != null,
      [e ? "download" : "upload"]: !0
    };
    t(f);
  }, n);
}, md = (t, e) => {
  const n = t != null;
  return [(r) => e[0]({
    lengthComputable: n,
    total: t,
    loaded: r
  }), e[1]];
}, Sd = (t) => (...e) => Y.asap(() => t(...e)), eD = dt.hasStandardBrowserEnv ? /* @__PURE__ */ ((t, e) => (n) => (n = new URL(n, dt.origin), t.protocol === n.protocol && t.host === n.host && (e || t.port === n.port)))(
  new URL(dt.origin),
  dt.navigator && /(msie|trident)/i.test(dt.navigator.userAgent)
) : () => !0, tD = dt.hasStandardBrowserEnv ? (
  // Standard browser envs support document.cookie
  {
    write(t, e, n, r, o, a) {
      const i = [t + "=" + encodeURIComponent(e)];
      Y.isNumber(n) && i.push("expires=" + new Date(n).toGMTString()), Y.isString(r) && i.push("path=" + r), Y.isString(o) && i.push("domain=" + o), a === !0 && i.push("secure"), document.cookie = i.join("; ");
    },
    read(t) {
      const e = document.cookie.match(new RegExp("(^|;\\s*)(" + t + ")=([^;]*)"));
      return e ? decodeURIComponent(e[3]) : null;
    },
    remove(t) {
      this.write(t, "", Date.now() - 864e5);
    }
  }
) : (
  // Non-standard browser env (web workers, react-native) lack needed support.
  {
    write() {
    },
    read() {
      return null;
    },
    remove() {
    }
  }
);
function nD(t) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);
}
function rD(t, e) {
  return e ? t.replace(/\/?\/$/, "") + "/" + e.replace(/^\/+/, "") : t;
}
function l0(t, e) {
  return t && !nD(e) ? rD(t, e) : e;
}
const bd = (t) => t instanceof Tt ? { ...t } : t;
function Pr(t, e) {
  e = e || {};
  const n = {};
  function r(u, c, f, h) {
    return Y.isPlainObject(u) && Y.isPlainObject(c) ? Y.merge.call({ caseless: h }, u, c) : Y.isPlainObject(c) ? Y.merge({}, c) : Y.isArray(c) ? c.slice() : c;
  }
  function o(u, c, f, h) {
    if (Y.isUndefined(c)) {
      if (!Y.isUndefined(u))
        return r(void 0, u, f, h);
    } else return r(u, c, f, h);
  }
  function a(u, c) {
    if (!Y.isUndefined(c))
      return r(void 0, c);
  }
  function i(u, c) {
    if (Y.isUndefined(c)) {
      if (!Y.isUndefined(u))
        return r(void 0, u);
    } else return r(void 0, c);
  }
  function s(u, c, f) {
    if (f in e)
      return r(u, c);
    if (f in t)
      return r(void 0, u);
  }
  const l = {
    url: a,
    method: a,
    data: a,
    baseURL: i,
    transformRequest: i,
    transformResponse: i,
    paramsSerializer: i,
    timeout: i,
    timeoutMessage: i,
    withCredentials: i,
    withXSRFToken: i,
    adapter: i,
    responseType: i,
    xsrfCookieName: i,
    xsrfHeaderName: i,
    onUploadProgress: i,
    onDownloadProgress: i,
    decompress: i,
    maxContentLength: i,
    maxBodyLength: i,
    beforeRedirect: i,
    transport: i,
    httpAgent: i,
    httpsAgent: i,
    cancelToken: i,
    socketPath: i,
    responseEncoding: i,
    validateStatus: s,
    headers: (u, c, f) => o(bd(u), bd(c), f, !0)
  };
  return Y.forEach(Object.keys(Object.assign({}, t, e)), function(c) {
    const f = l[c] || o, h = f(t[c], e[c], c);
    Y.isUndefined(h) && f !== s || (n[c] = h);
  }), n;
}
const u0 = (t) => {
  const e = Pr({}, t);
  let { data: n, withXSRFToken: r, xsrfHeaderName: o, xsrfCookieName: a, headers: i, auth: s } = e;
  e.headers = i = Tt.from(i), e.url = r0(l0(e.baseURL, e.url), t.params, t.paramsSerializer), s && i.set(
    "Authorization",
    "Basic " + btoa((s.username || "") + ":" + (s.password ? unescape(encodeURIComponent(s.password)) : ""))
  );
  let l;
  if (Y.isFormData(n)) {
    if (dt.hasStandardBrowserEnv || dt.hasStandardBrowserWebWorkerEnv)
      i.setContentType(void 0);
    else if ((l = i.getContentType()) !== !1) {
      const [u, ...c] = l ? l.split(";").map((f) => f.trim()).filter(Boolean) : [];
      i.setContentType([u || "multipart/form-data", ...c].join("; "));
    }
  }
  if (dt.hasStandardBrowserEnv && (r && Y.isFunction(r) && (r = r(e)), r || r !== !1 && eD(e.url))) {
    const u = o && a && tD.read(a);
    u && i.set(o, u);
  }
  return e;
}, oD = typeof XMLHttpRequest < "u", aD = oD && function(t) {
  return new Promise(function(n, r) {
    const o = u0(t);
    let a = o.data;
    const i = Tt.from(o.headers).normalize();
    let { responseType: s, onUploadProgress: l, onDownloadProgress: u } = o, c, f, h, d, p;
    function m() {
      d && d(), p && p(), o.cancelToken && o.cancelToken.unsubscribe(c), o.signal && o.signal.removeEventListener("abort", c);
    }
    let g = new XMLHttpRequest();
    g.open(o.method.toUpperCase(), o.url, !0), g.timeout = o.timeout;
    function v() {
      if (!g)
        return;
      const S = Tt.from(
        "getAllResponseHeaders" in g && g.getAllResponseHeaders()
      ), _ = {
        data: !s || s === "text" || s === "json" ? g.responseText : g.response,
        status: g.status,
        statusText: g.statusText,
        headers: S,
        config: t,
        request: g
      };
      s0(function(T) {
        n(T), m();
      }, function(T) {
        r(T), m();
      }, _), g = null;
    }
    "onloadend" in g ? g.onloadend = v : g.onreadystatechange = function() {
      !g || g.readyState !== 4 || g.status === 0 && !(g.responseURL && g.responseURL.indexOf("file:") === 0) || setTimeout(v);
    }, g.onabort = function() {
      g && (r(new ye("Request aborted", ye.ECONNABORTED, t, g)), g = null);
    }, g.onerror = function() {
      r(new ye("Network Error", ye.ERR_NETWORK, t, g)), g = null;
    }, g.ontimeout = function() {
      let b = o.timeout ? "timeout of " + o.timeout + "ms exceeded" : "timeout exceeded";
      const _ = o.transitional || o0;
      o.timeoutErrorMessage && (b = o.timeoutErrorMessage), r(new ye(
        b,
        _.clarifyTimeoutError ? ye.ETIMEDOUT : ye.ECONNABORTED,
        t,
        g
      )), g = null;
    }, a === void 0 && i.setContentType(null), "setRequestHeader" in g && Y.forEach(i.toJSON(), function(b, _) {
      g.setRequestHeader(_, b);
    }), Y.isUndefined(o.withCredentials) || (g.withCredentials = !!o.withCredentials), s && s !== "json" && (g.responseType = o.responseType), u && ([h, p] = Zi(u, !0), g.addEventListener("progress", h)), l && g.upload && ([f, d] = Zi(l), g.upload.addEventListener("progress", f), g.upload.addEventListener("loadend", d)), (o.cancelToken || o.signal) && (c = (S) => {
      g && (r(!S || S.type ? new Fo(null, t, g) : S), g.abort(), g = null);
    }, o.cancelToken && o.cancelToken.subscribe(c), o.signal && (o.signal.aborted ? c() : o.signal.addEventListener("abort", c)));
    const y = Kx(o.url);
    if (y && dt.protocols.indexOf(y) === -1) {
      r(new ye("Unsupported protocol " + y + ":", ye.ERR_BAD_REQUEST, t));
      return;
    }
    g.send(a || null);
  });
}, iD = (t, e) => {
  const { length: n } = t = t ? t.filter(Boolean) : [];
  if (e || n) {
    let r = new AbortController(), o;
    const a = function(u) {
      if (!o) {
        o = !0, s();
        const c = u instanceof Error ? u : this.reason;
        r.abort(c instanceof ye ? c : new Fo(c instanceof Error ? c.message : c));
      }
    };
    let i = e && setTimeout(() => {
      i = null, a(new ye(`timeout ${e} of ms exceeded`, ye.ETIMEDOUT));
    }, e);
    const s = () => {
      t && (i && clearTimeout(i), i = null, t.forEach((u) => {
        u.unsubscribe ? u.unsubscribe(a) : u.removeEventListener("abort", a);
      }), t = null);
    };
    t.forEach((u) => u.addEventListener("abort", a));
    const { signal: l } = r;
    return l.unsubscribe = () => Y.asap(s), l;
  }
}, sD = function* (t, e) {
  let n = t.byteLength;
  if (n < e) {
    yield t;
    return;
  }
  let r = 0, o;
  for (; r < n; )
    o = r + e, yield t.slice(r, o), r = o;
}, lD = async function* (t, e) {
  for await (const n of uD(t))
    yield* sD(n, e);
}, uD = async function* (t) {
  if (t[Symbol.asyncIterator]) {
    yield* t;
    return;
  }
  const e = t.getReader();
  try {
    for (; ; ) {
      const { done: n, value: r } = await e.read();
      if (n)
        break;
      yield r;
    }
  } finally {
    await e.cancel();
  }
}, wd = (t, e, n, r) => {
  const o = lD(t, e);
  let a = 0, i, s = (l) => {
    i || (i = !0, r && r(l));
  };
  return new ReadableStream({
    async pull(l) {
      try {
        const { done: u, value: c } = await o.next();
        if (u) {
          s(), l.close();
          return;
        }
        let f = c.byteLength;
        if (n) {
          let h = a += f;
          n(h);
        }
        l.enqueue(new Uint8Array(c));
      } catch (u) {
        throw s(u), u;
      }
    },
    cancel(l) {
      return s(l), o.return();
    }
  }, {
    highWaterMark: 2
  });
}, Es = typeof fetch == "function" && typeof Request == "function" && typeof Response == "function", c0 = Es && typeof ReadableStream == "function", cD = Es && (typeof TextEncoder == "function" ? /* @__PURE__ */ ((t) => (e) => t.encode(e))(new TextEncoder()) : async (t) => new Uint8Array(await new Response(t).arrayBuffer())), f0 = (t, ...e) => {
  try {
    return !!t(...e);
  } catch {
    return !1;
  }
}, fD = c0 && f0(() => {
  let t = !1;
  const e = new Request(dt.origin, {
    body: new ReadableStream(),
    method: "POST",
    get duplex() {
      return t = !0, "half";
    }
  }).headers.has("Content-Type");
  return t && !e;
}), _d = 64 * 1024, Eu = c0 && f0(() => Y.isReadableStream(new Response("").body)), Ki = {
  stream: Eu && ((t) => t.body)
};
Es && ((t) => {
  ["text", "arrayBuffer", "blob", "formData", "stream"].forEach((e) => {
    !Ki[e] && (Ki[e] = Y.isFunction(t[e]) ? (n) => n[e]() : (n, r) => {
      throw new ye(`Response type '${e}' is not supported`, ye.ERR_NOT_SUPPORT, r);
    });
  });
})(new Response());
const dD = async (t) => {
  if (t == null)
    return 0;
  if (Y.isBlob(t))
    return t.size;
  if (Y.isSpecCompliantForm(t))
    return (await new Request(dt.origin, {
      method: "POST",
      body: t
    }).arrayBuffer()).byteLength;
  if (Y.isArrayBufferView(t) || Y.isArrayBuffer(t))
    return t.byteLength;
  if (Y.isURLSearchParams(t) && (t = t + ""), Y.isString(t))
    return (await cD(t)).byteLength;
}, hD = async (t, e) => {
  const n = Y.toFiniteNumber(t.getContentLength());
  return n ?? dD(e);
}, pD = Es && (async (t) => {
  let {
    url: e,
    method: n,
    data: r,
    signal: o,
    cancelToken: a,
    timeout: i,
    onDownloadProgress: s,
    onUploadProgress: l,
    responseType: u,
    headers: c,
    withCredentials: f = "same-origin",
    fetchOptions: h
  } = u0(t);
  u = u ? (u + "").toLowerCase() : "text";
  let d = iD([o, a && a.toAbortSignal()], i), p;
  const m = d && d.unsubscribe && (() => {
    d.unsubscribe();
  });
  let g;
  try {
    if (l && fD && n !== "get" && n !== "head" && (g = await hD(c, r)) !== 0) {
      let _ = new Request(e, {
        method: "POST",
        body: r,
        duplex: "half"
      }), w;
      if (Y.isFormData(r) && (w = _.headers.get("content-type")) && c.setContentType(w), _.body) {
        const [T, C] = md(
          g,
          Zi(Sd(l))
        );
        r = wd(_.body, _d, T, C);
      }
    }
    Y.isString(f) || (f = f ? "include" : "omit");
    const v = "credentials" in Request.prototype;
    p = new Request(e, {
      ...h,
      signal: d,
      method: n.toUpperCase(),
      headers: c.normalize().toJSON(),
      body: r,
      duplex: "half",
      credentials: v ? f : void 0
    });
    let y = await fetch(p);
    const S = Eu && (u === "stream" || u === "response");
    if (Eu && (s || S && m)) {
      const _ = {};
      ["status", "statusText", "headers"].forEach((x) => {
        _[x] = y[x];
      });
      const w = Y.toFiniteNumber(y.headers.get("content-length")), [T, C] = s && md(
        w,
        Zi(Sd(s), !0)
      ) || [];
      y = new Response(
        wd(y.body, _d, T, () => {
          C && C(), m && m();
        }),
        _
      );
    }
    u = u || "text";
    let b = await Ki[Y.findKey(Ki, u) || "text"](y, t);
    return !S && m && m(), await new Promise((_, w) => {
      s0(_, w, {
        data: b,
        headers: Tt.from(y.headers),
        status: y.status,
        statusText: y.statusText,
        config: t,
        request: p
      });
    });
  } catch (v) {
    throw m && m(), v && v.name === "TypeError" && /fetch/i.test(v.message) ? Object.assign(
      new ye("Network Error", ye.ERR_NETWORK, t, p),
      {
        cause: v.cause || v
      }
    ) : ye.from(v, v && v.code, t, p);
  }
}), Mu = {
  http: kx,
  xhr: aD,
  fetch: pD
};
Y.forEach(Mu, (t, e) => {
  if (t) {
    try {
      Object.defineProperty(t, "name", { value: e });
    } catch {
    }
    Object.defineProperty(t, "adapterName", { value: e });
  }
});
const xd = (t) => `- ${t}`, vD = (t) => Y.isFunction(t) || t === null || t === !1, d0 = {
  getAdapter: (t) => {
    t = Y.isArray(t) ? t : [t];
    const { length: e } = t;
    let n, r;
    const o = {};
    for (let a = 0; a < e; a++) {
      n = t[a];
      let i;
      if (r = n, !vD(n) && (r = Mu[(i = String(n)).toLowerCase()], r === void 0))
        throw new ye(`Unknown adapter '${i}'`);
      if (r)
        break;
      o[i || "#" + a] = r;
    }
    if (!r) {
      const a = Object.entries(o).map(
        ([s, l]) => `adapter ${s} ` + (l === !1 ? "is not supported by the environment" : "is not available in the build")
      );
      let i = e ? a.length > 1 ? `since :
` + a.map(xd).join(`
`) : " " + xd(a[0]) : "as no adapter specified";
      throw new ye(
        "There is no suitable adapter to dispatch the request " + i,
        "ERR_NOT_SUPPORT"
      );
    }
    return r;
  },
  adapters: Mu
};
function sl(t) {
  if (t.cancelToken && t.cancelToken.throwIfRequested(), t.signal && t.signal.aborted)
    throw new Fo(null, t);
}
function Dd(t) {
  return sl(t), t.headers = Tt.from(t.headers), t.data = il.call(
    t,
    t.transformRequest
  ), ["post", "put", "patch"].indexOf(t.method) !== -1 && t.headers.setContentType("application/x-www-form-urlencoded", !1), d0.getAdapter(t.adapter || za.adapter)(t).then(function(r) {
    return sl(t), r.data = il.call(
      t,
      t.transformResponse,
      r
    ), r.headers = Tt.from(r.headers), r;
  }, function(r) {
    return i0(r) || (sl(t), r && r.response && (r.response.data = il.call(
      t,
      t.transformResponse,
      r.response
    ), r.response.headers = Tt.from(r.response.headers))), Promise.reject(r);
  });
}
const h0 = "1.7.9", Ms = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach((t, e) => {
  Ms[t] = function(r) {
    return typeof r === t || "a" + (e < 1 ? "n " : " ") + t;
  };
});
const Cd = {};
Ms.transitional = function(e, n, r) {
  function o(a, i) {
    return "[Axios v" + h0 + "] Transitional option '" + a + "'" + i + (r ? ". " + r : "");
  }
  return (a, i, s) => {
    if (e === !1)
      throw new ye(
        o(i, " has been removed" + (n ? " in " + n : "")),
        ye.ERR_DEPRECATED
      );
    return n && !Cd[i] && (Cd[i] = !0, console.warn(
      o(
        i,
        " has been deprecated since v" + n + " and will be removed in the near future"
      )
    )), e ? e(a, i, s) : !0;
  };
};
Ms.spelling = function(e) {
  return (n, r) => (console.warn(`${r} is likely a misspelling of ${e}`), !0);
};
function gD(t, e, n) {
  if (typeof t != "object")
    throw new ye("options must be an object", ye.ERR_BAD_OPTION_VALUE);
  const r = Object.keys(t);
  let o = r.length;
  for (; o-- > 0; ) {
    const a = r[o], i = e[a];
    if (i) {
      const s = t[a], l = s === void 0 || i(s, a, t);
      if (l !== !0)
        throw new ye("option " + a + " must be " + l, ye.ERR_BAD_OPTION_VALUE);
      continue;
    }
    if (n !== !0)
      throw new ye("Unknown option " + a, ye.ERR_BAD_OPTION);
  }
}
const ki = {
  assertOptions: gD,
  validators: Ms
}, cn = ki.validators;
let Rr = class {
  constructor(e) {
    this.defaults = e, this.interceptors = {
      request: new gd(),
      response: new gd()
    };
  }
  /**
   * Dispatch a request
   *
   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)
   * @param {?Object} config
   *
   * @returns {Promise} The Promise to be fulfilled
   */
  async request(e, n) {
    try {
      return await this._request(e, n);
    } catch (r) {
      if (r instanceof Error) {
        let o = {};
        Error.captureStackTrace ? Error.captureStackTrace(o) : o = new Error();
        const a = o.stack ? o.stack.replace(/^.+\n/, "") : "";
        try {
          r.stack ? a && !String(r.stack).endsWith(a.replace(/^.+\n.+\n/, "")) && (r.stack += `
` + a) : r.stack = a;
        } catch {
        }
      }
      throw r;
    }
  }
  _request(e, n) {
    typeof e == "string" ? (n = n || {}, n.url = e) : n = e || {}, n = Pr(this.defaults, n);
    const { transitional: r, paramsSerializer: o, headers: a } = n;
    r !== void 0 && ki.assertOptions(r, {
      silentJSONParsing: cn.transitional(cn.boolean),
      forcedJSONParsing: cn.transitional(cn.boolean),
      clarifyTimeoutError: cn.transitional(cn.boolean)
    }, !1), o != null && (Y.isFunction(o) ? n.paramsSerializer = {
      serialize: o
    } : ki.assertOptions(o, {
      encode: cn.function,
      serialize: cn.function
    }, !0)), ki.assertOptions(n, {
      baseUrl: cn.spelling("baseURL"),
      withXsrfToken: cn.spelling("withXSRFToken")
    }, !0), n.method = (n.method || this.defaults.method || "get").toLowerCase();
    let i = a && Y.merge(
      a.common,
      a[n.method]
    );
    a && Y.forEach(
      ["delete", "get", "head", "post", "put", "patch", "common"],
      (p) => {
        delete a[p];
      }
    ), n.headers = Tt.concat(i, a);
    const s = [];
    let l = !0;
    this.interceptors.request.forEach(function(m) {
      typeof m.runWhen == "function" && m.runWhen(n) === !1 || (l = l && m.synchronous, s.unshift(m.fulfilled, m.rejected));
    });
    const u = [];
    this.interceptors.response.forEach(function(m) {
      u.push(m.fulfilled, m.rejected);
    });
    let c, f = 0, h;
    if (!l) {
      const p = [Dd.bind(this), void 0];
      for (p.unshift.apply(p, s), p.push.apply(p, u), h = p.length, c = Promise.resolve(n); f < h; )
        c = c.then(p[f++], p[f++]);
      return c;
    }
    h = s.length;
    let d = n;
    for (f = 0; f < h; ) {
      const p = s[f++], m = s[f++];
      try {
        d = p(d);
      } catch (g) {
        m.call(this, g);
        break;
      }
    }
    try {
      c = Dd.call(this, d);
    } catch (p) {
      return Promise.reject(p);
    }
    for (f = 0, h = u.length; f < h; )
      c = c.then(u[f++], u[f++]);
    return c;
  }
  getUri(e) {
    e = Pr(this.defaults, e);
    const n = l0(e.baseURL, e.url);
    return r0(n, e.params, e.paramsSerializer);
  }
};
Y.forEach(["delete", "get", "head", "options"], function(e) {
  Rr.prototype[e] = function(n, r) {
    return this.request(Pr(r || {}, {
      method: e,
      url: n,
      data: (r || {}).data
    }));
  };
});
Y.forEach(["post", "put", "patch"], function(e) {
  function n(r) {
    return function(a, i, s) {
      return this.request(Pr(s || {}, {
        method: e,
        headers: r ? {
          "Content-Type": "multipart/form-data"
        } : {},
        url: a,
        data: i
      }));
    };
  }
  Rr.prototype[e] = n(), Rr.prototype[e + "Form"] = n(!0);
});
let yD = class p0 {
  constructor(e) {
    if (typeof e != "function")
      throw new TypeError("executor must be a function.");
    let n;
    this.promise = new Promise(function(a) {
      n = a;
    });
    const r = this;
    this.promise.then((o) => {
      if (!r._listeners) return;
      let a = r._listeners.length;
      for (; a-- > 0; )
        r._listeners[a](o);
      r._listeners = null;
    }), this.promise.then = (o) => {
      let a;
      const i = new Promise((s) => {
        r.subscribe(s), a = s;
      }).then(o);
      return i.cancel = function() {
        r.unsubscribe(a);
      }, i;
    }, e(function(a, i, s) {
      r.reason || (r.reason = new Fo(a, i, s), n(r.reason));
    });
  }
  /**
   * Throws a `CanceledError` if cancellation has been requested.
   */
  throwIfRequested() {
    if (this.reason)
      throw this.reason;
  }
  /**
   * Subscribe to the cancel signal
   */
  subscribe(e) {
    if (this.reason) {
      e(this.reason);
      return;
    }
    this._listeners ? this._listeners.push(e) : this._listeners = [e];
  }
  /**
   * Unsubscribe from the cancel signal
   */
  unsubscribe(e) {
    if (!this._listeners)
      return;
    const n = this._listeners.indexOf(e);
    n !== -1 && this._listeners.splice(n, 1);
  }
  toAbortSignal() {
    const e = new AbortController(), n = (r) => {
      e.abort(r);
    };
    return this.subscribe(n), e.signal.unsubscribe = () => this.unsubscribe(n), e.signal;
  }
  /**
   * Returns an object that contains a new `CancelToken` and a function that, when called,
   * cancels the `CancelToken`.
   */
  static source() {
    let e;
    return {
      token: new p0(function(o) {
        e = o;
      }),
      cancel: e
    };
  }
};
function mD(t) {
  return function(n) {
    return t.apply(null, n);
  };
}
function SD(t) {
  return Y.isObject(t) && t.isAxiosError === !0;
}
const Ou = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511
};
Object.entries(Ou).forEach(([t, e]) => {
  Ou[e] = t;
});
function v0(t) {
  const e = new Rr(t), n = jg(Rr.prototype.request, e);
  return Y.extend(n, Rr.prototype, e, { allOwnKeys: !0 }), Y.extend(n, e, null, { allOwnKeys: !0 }), n.create = function(o) {
    return v0(Pr(t, o));
  }, n;
}
const Ge = v0(za);
Ge.Axios = Rr;
Ge.CanceledError = Fo;
Ge.CancelToken = yD;
Ge.isCancel = i0;
Ge.VERSION = h0;
Ge.toFormData = ks;
Ge.AxiosError = ye;
Ge.Cancel = Ge.CanceledError;
Ge.all = function(e) {
  return Promise.all(e);
};
Ge.spread = mD;
Ge.isAxiosError = SD;
Ge.mergeConfig = Pr;
Ge.AxiosHeaders = Tt;
Ge.formToJSON = (t) => a0(Y.isHTMLForm(t) ? new FormData(t) : t);
Ge.getAdapter = d0.getAdapter;
Ge.HttpStatusCode = Ou;
Ge.default = Ge;
const {
  Axios: R3,
  AxiosError: L3,
  CanceledError: $3,
  isCancel: I3,
  CancelToken: P3,
  VERSION: z3,
  all: B3,
  Cancel: W3,
  isAxiosError: N3,
  spread: H3,
  toFormData: V3,
  AxiosHeaders: q3,
  HttpStatusCode: j3,
  formToJSON: U3,
  getAdapter: Y3,
  mergeConfig: G3
} = Ge, ll = (t) => {
  try {
    return Tu(t);
  } catch (e) {
    return console.log("error in analyze script", e), "";
  }
}, he = (t) => {
  let e = null;
  const n = () => {
    const s = t.requests;
    if (e && (clearTimeout(e), e = null), !s.url) return;
    const { header: l, params: u, method: c, url: f, dataFilter: h, internal: d } = s, p = l ? ll(l) : "", m = u ? ll(u) : "";
    Ge({
      url: f,
      headers: p ? p(t) : {},
      // 请求头
      params: m ? m(t) : {},
      // 请求参数
      method: c
    }).then((g) => {
      const y = ll(h)(g, t);
      y && (t.emit("setData", y), t.editor.fire("object:set:data", t));
    }).finally(() => {
      d > 0 && (e = setTimeout(() => {
        n();
      }, d * 1e3));
    });
  }, r = (s) => {
    t.stateIndex = Number(s);
  }, o = (s, l) => {
    if (!t.events || !t.events.enable) return;
    const u = t.events[s];
    if (!u) return;
    const { enable: c, config: f } = u;
    if (c)
      for (let h in f) {
        const d = f[h];
        if (d.enable)
          switch (h) {
            case "request":
              n();
              break;
            case "state":
              t.emit("state", d.index);
              break;
            case "page":
              t.editor.fire(tr.pageSwitch, d);
              break;
            case "script":
              t.editor.visApi.funRunScript(d.code)(t);
              break;
            case "dialog":
              t.editor.fire(tr.dialogOpen, { node: t, data: d });
              break;
          }
      }
  }, a = H(() => H2(t)), i = H(() => {
    const { states: s, stateIndex: l } = t;
    return {
      ...qg(s[l])
    };
  });
  return { handleRequest: n, handleEvent: o, handleState: r, wrapperAttrs: a, combineStyle: i };
};
var g0 = { exports: {} }, y0 = {
  aliceblue: [240, 248, 255],
  antiquewhite: [250, 235, 215],
  aqua: [0, 255, 255],
  aquamarine: [127, 255, 212],
  azure: [240, 255, 255],
  beige: [245, 245, 220],
  bisque: [255, 228, 196],
  black: [0, 0, 0],
  blanchedalmond: [255, 235, 205],
  blue: [0, 0, 255],
  blueviolet: [138, 43, 226],
  brown: [165, 42, 42],
  burlywood: [222, 184, 135],
  cadetblue: [95, 158, 160],
  chartreuse: [127, 255, 0],
  chocolate: [210, 105, 30],
  coral: [255, 127, 80],
  cornflowerblue: [100, 149, 237],
  cornsilk: [255, 248, 220],
  crimson: [220, 20, 60],
  cyan: [0, 255, 255],
  darkblue: [0, 0, 139],
  darkcyan: [0, 139, 139],
  darkgoldenrod: [184, 134, 11],
  darkgray: [169, 169, 169],
  darkgreen: [0, 100, 0],
  darkgrey: [169, 169, 169],
  darkkhaki: [189, 183, 107],
  darkmagenta: [139, 0, 139],
  darkolivegreen: [85, 107, 47],
  darkorange: [255, 140, 0],
  darkorchid: [153, 50, 204],
  darkred: [139, 0, 0],
  darksalmon: [233, 150, 122],
  darkseagreen: [143, 188, 143],
  darkslateblue: [72, 61, 139],
  darkslategray: [47, 79, 79],
  darkslategrey: [47, 79, 79],
  darkturquoise: [0, 206, 209],
  darkviolet: [148, 0, 211],
  deeppink: [255, 20, 147],
  deepskyblue: [0, 191, 255],
  dimgray: [105, 105, 105],
  dimgrey: [105, 105, 105],
  dodgerblue: [30, 144, 255],
  firebrick: [178, 34, 34],
  floralwhite: [255, 250, 240],
  forestgreen: [34, 139, 34],
  fuchsia: [255, 0, 255],
  gainsboro: [220, 220, 220],
  ghostwhite: [248, 248, 255],
  gold: [255, 215, 0],
  goldenrod: [218, 165, 32],
  gray: [128, 128, 128],
  green: [0, 128, 0],
  greenyellow: [173, 255, 47],
  grey: [128, 128, 128],
  honeydew: [240, 255, 240],
  hotpink: [255, 105, 180],
  indianred: [205, 92, 92],
  indigo: [75, 0, 130],
  ivory: [255, 255, 240],
  khaki: [240, 230, 140],
  lavender: [230, 230, 250],
  lavenderblush: [255, 240, 245],
  lawngreen: [124, 252, 0],
  lemonchiffon: [255, 250, 205],
  lightblue: [173, 216, 230],
  lightcoral: [240, 128, 128],
  lightcyan: [224, 255, 255],
  lightgoldenrodyellow: [250, 250, 210],
  lightgray: [211, 211, 211],
  lightgreen: [144, 238, 144],
  lightgrey: [211, 211, 211],
  lightpink: [255, 182, 193],
  lightsalmon: [255, 160, 122],
  lightseagreen: [32, 178, 170],
  lightskyblue: [135, 206, 250],
  lightslategray: [119, 136, 153],
  lightslategrey: [119, 136, 153],
  lightsteelblue: [176, 196, 222],
  lightyellow: [255, 255, 224],
  lime: [0, 255, 0],
  limegreen: [50, 205, 50],
  linen: [250, 240, 230],
  magenta: [255, 0, 255],
  maroon: [128, 0, 0],
  mediumaquamarine: [102, 205, 170],
  mediumblue: [0, 0, 205],
  mediumorchid: [186, 85, 211],
  mediumpurple: [147, 112, 219],
  mediumseagreen: [60, 179, 113],
  mediumslateblue: [123, 104, 238],
  mediumspringgreen: [0, 250, 154],
  mediumturquoise: [72, 209, 204],
  mediumvioletred: [199, 21, 133],
  midnightblue: [25, 25, 112],
  mintcream: [245, 255, 250],
  mistyrose: [255, 228, 225],
  moccasin: [255, 228, 181],
  navajowhite: [255, 222, 173],
  navy: [0, 0, 128],
  oldlace: [253, 245, 230],
  olive: [128, 128, 0],
  olivedrab: [107, 142, 35],
  orange: [255, 165, 0],
  orangered: [255, 69, 0],
  orchid: [218, 112, 214],
  palegoldenrod: [238, 232, 170],
  palegreen: [152, 251, 152],
  paleturquoise: [175, 238, 238],
  palevioletred: [219, 112, 147],
  papayawhip: [255, 239, 213],
  peachpuff: [255, 218, 185],
  peru: [205, 133, 63],
  pink: [255, 192, 203],
  plum: [221, 160, 221],
  powderblue: [176, 224, 230],
  purple: [128, 0, 128],
  rebeccapurple: [102, 51, 153],
  red: [255, 0, 0],
  rosybrown: [188, 143, 143],
  royalblue: [65, 105, 225],
  saddlebrown: [139, 69, 19],
  salmon: [250, 128, 114],
  sandybrown: [244, 164, 96],
  seagreen: [46, 139, 87],
  seashell: [255, 245, 238],
  sienna: [160, 82, 45],
  silver: [192, 192, 192],
  skyblue: [135, 206, 235],
  slateblue: [106, 90, 205],
  slategray: [112, 128, 144],
  slategrey: [112, 128, 144],
  snow: [255, 250, 250],
  springgreen: [0, 255, 127],
  steelblue: [70, 130, 180],
  tan: [210, 180, 140],
  teal: [0, 128, 128],
  thistle: [216, 191, 216],
  tomato: [255, 99, 71],
  turquoise: [64, 224, 208],
  violet: [238, 130, 238],
  wheat: [245, 222, 179],
  white: [255, 255, 255],
  whitesmoke: [245, 245, 245],
  yellow: [255, 255, 0],
  yellowgreen: [154, 205, 50]
}, m0 = { exports: {} }, bD = function(e) {
  return !e || typeof e == "string" ? !1 : e instanceof Array || Array.isArray(e) || e.length >= 0 && (e.splice instanceof Function || Object.getOwnPropertyDescriptor(e, e.length - 1) && e.constructor.name !== "String");
}, wD = bD, _D = Array.prototype.concat, xD = Array.prototype.slice, Td = m0.exports = function(e) {
  for (var n = [], r = 0, o = e.length; r < o; r++) {
    var a = e[r];
    wD(a) ? n = _D.call(n, xD.call(a)) : n.push(a);
  }
  return n;
};
Td.wrap = function(t) {
  return function() {
    return t(Td(arguments));
  };
};
var DD = m0.exports, la = y0, Ba = DD, S0 = Object.hasOwnProperty, b0 = /* @__PURE__ */ Object.create(null);
for (var ul in la)
  S0.call(la, ul) && (b0[la[ul]] = ul);
var Lt = g0.exports = {
  to: {},
  get: {}
};
Lt.get = function(t) {
  var e = t.substring(0, 3).toLowerCase(), n, r;
  switch (e) {
    case "hsl":
      n = Lt.get.hsl(t), r = "hsl";
      break;
    case "hwb":
      n = Lt.get.hwb(t), r = "hwb";
      break;
    default:
      n = Lt.get.rgb(t), r = "rgb";
      break;
  }
  return n ? { model: r, value: n } : null;
};
Lt.get.rgb = function(t) {
  if (!t)
    return null;
  var e = /^#([a-f0-9]{3,4})$/i, n = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i, r = /^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/, o = /^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/, a = /^(\w+)$/, i = [0, 0, 0, 1], s, l, u;
  if (s = t.match(n)) {
    for (u = s[2], s = s[1], l = 0; l < 3; l++) {
      var c = l * 2;
      i[l] = parseInt(s.slice(c, c + 2), 16);
    }
    u && (i[3] = parseInt(u, 16) / 255);
  } else if (s = t.match(e)) {
    for (s = s[1], u = s[3], l = 0; l < 3; l++)
      i[l] = parseInt(s[l] + s[l], 16);
    u && (i[3] = parseInt(u + u, 16) / 255);
  } else if (s = t.match(r)) {
    for (l = 0; l < 3; l++)
      i[l] = parseInt(s[l + 1], 0);
    s[4] && (s[5] ? i[3] = parseFloat(s[4]) * 0.01 : i[3] = parseFloat(s[4]));
  } else if (s = t.match(o)) {
    for (l = 0; l < 3; l++)
      i[l] = Math.round(parseFloat(s[l + 1]) * 2.55);
    s[4] && (s[5] ? i[3] = parseFloat(s[4]) * 0.01 : i[3] = parseFloat(s[4]));
  } else return (s = t.match(a)) ? s[1] === "transparent" ? [0, 0, 0, 0] : S0.call(la, s[1]) ? (i = la[s[1]], i[3] = 1, i) : null : null;
  for (l = 0; l < 3; l++)
    i[l] = nr(i[l], 0, 255);
  return i[3] = nr(i[3], 0, 1), i;
};
Lt.get.hsl = function(t) {
  if (!t)
    return null;
  var e = /^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/, n = t.match(e);
  if (n) {
    var r = parseFloat(n[4]), o = (parseFloat(n[1]) % 360 + 360) % 360, a = nr(parseFloat(n[2]), 0, 100), i = nr(parseFloat(n[3]), 0, 100), s = nr(isNaN(r) ? 1 : r, 0, 1);
    return [o, a, i, s];
  }
  return null;
};
Lt.get.hwb = function(t) {
  if (!t)
    return null;
  var e = /^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/, n = t.match(e);
  if (n) {
    var r = parseFloat(n[4]), o = (parseFloat(n[1]) % 360 + 360) % 360, a = nr(parseFloat(n[2]), 0, 100), i = nr(parseFloat(n[3]), 0, 100), s = nr(isNaN(r) ? 1 : r, 0, 1);
    return [o, a, i, s];
  }
  return null;
};
Lt.to.hex = function() {
  var t = Ba(arguments);
  return "#" + Ua(t[0]) + Ua(t[1]) + Ua(t[2]) + (t[3] < 1 ? Ua(Math.round(t[3] * 255)) : "");
};
Lt.to.rgb = function() {
  var t = Ba(arguments);
  return t.length < 4 || t[3] === 1 ? "rgb(" + Math.round(t[0]) + ", " + Math.round(t[1]) + ", " + Math.round(t[2]) + ")" : "rgba(" + Math.round(t[0]) + ", " + Math.round(t[1]) + ", " + Math.round(t[2]) + ", " + t[3] + ")";
};
Lt.to.rgb.percent = function() {
  var t = Ba(arguments), e = Math.round(t[0] / 255 * 100), n = Math.round(t[1] / 255 * 100), r = Math.round(t[2] / 255 * 100);
  return t.length < 4 || t[3] === 1 ? "rgb(" + e + "%, " + n + "%, " + r + "%)" : "rgba(" + e + "%, " + n + "%, " + r + "%, " + t[3] + ")";
};
Lt.to.hsl = function() {
  var t = Ba(arguments);
  return t.length < 4 || t[3] === 1 ? "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)" : "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + t[3] + ")";
};
Lt.to.hwb = function() {
  var t = Ba(arguments), e = "";
  return t.length >= 4 && t[3] !== 1 && (e = ", " + t[3]), "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + e + ")";
};
Lt.to.keyword = function(t) {
  return b0[t.slice(0, 3)];
};
function nr(t, e, n) {
  return Math.min(Math.max(e, t), n);
}
function Ua(t) {
  var e = Math.round(t).toString(16).toUpperCase();
  return e.length < 2 ? "0" + e : e;
}
var CD = g0.exports;
const Ta = y0, w0 = {};
for (const t of Object.keys(Ta))
  w0[Ta[t]] = t;
const ae = {
  rgb: { channels: 3, labels: "rgb" },
  hsl: { channels: 3, labels: "hsl" },
  hsv: { channels: 3, labels: "hsv" },
  hwb: { channels: 3, labels: "hwb" },
  cmyk: { channels: 4, labels: "cmyk" },
  xyz: { channels: 3, labels: "xyz" },
  lab: { channels: 3, labels: "lab" },
  lch: { channels: 3, labels: "lch" },
  hex: { channels: 1, labels: ["hex"] },
  keyword: { channels: 1, labels: ["keyword"] },
  ansi16: { channels: 1, labels: ["ansi16"] },
  ansi256: { channels: 1, labels: ["ansi256"] },
  hcg: { channels: 3, labels: ["h", "c", "g"] },
  apple: { channels: 3, labels: ["r16", "g16", "b16"] },
  gray: { channels: 1, labels: ["gray"] }
};
var _0 = ae;
for (const t of Object.keys(ae)) {
  if (!("channels" in ae[t]))
    throw new Error("missing channels property: " + t);
  if (!("labels" in ae[t]))
    throw new Error("missing channel labels property: " + t);
  if (ae[t].labels.length !== ae[t].channels)
    throw new Error("channel and label counts mismatch: " + t);
  const { channels: e, labels: n } = ae[t];
  delete ae[t].channels, delete ae[t].labels, Object.defineProperty(ae[t], "channels", { value: e }), Object.defineProperty(ae[t], "labels", { value: n });
}
ae.rgb.hsl = function(t) {
  const e = t[0] / 255, n = t[1] / 255, r = t[2] / 255, o = Math.min(e, n, r), a = Math.max(e, n, r), i = a - o;
  let s, l;
  a === o ? s = 0 : e === a ? s = (n - r) / i : n === a ? s = 2 + (r - e) / i : r === a && (s = 4 + (e - n) / i), s = Math.min(s * 60, 360), s < 0 && (s += 360);
  const u = (o + a) / 2;
  return a === o ? l = 0 : u <= 0.5 ? l = i / (a + o) : l = i / (2 - a - o), [s, l * 100, u * 100];
};
ae.rgb.hsv = function(t) {
  let e, n, r, o, a;
  const i = t[0] / 255, s = t[1] / 255, l = t[2] / 255, u = Math.max(i, s, l), c = u - Math.min(i, s, l), f = function(h) {
    return (u - h) / 6 / c + 1 / 2;
  };
  return c === 0 ? (o = 0, a = 0) : (a = c / u, e = f(i), n = f(s), r = f(l), i === u ? o = r - n : s === u ? o = 1 / 3 + e - r : l === u && (o = 2 / 3 + n - e), o < 0 ? o += 1 : o > 1 && (o -= 1)), [
    o * 360,
    a * 100,
    u * 100
  ];
};
ae.rgb.hwb = function(t) {
  const e = t[0], n = t[1];
  let r = t[2];
  const o = ae.rgb.hsl(t)[0], a = 1 / 255 * Math.min(e, Math.min(n, r));
  return r = 1 - 1 / 255 * Math.max(e, Math.max(n, r)), [o, a * 100, r * 100];
};
ae.rgb.cmyk = function(t) {
  const e = t[0] / 255, n = t[1] / 255, r = t[2] / 255, o = Math.min(1 - e, 1 - n, 1 - r), a = (1 - e - o) / (1 - o) || 0, i = (1 - n - o) / (1 - o) || 0, s = (1 - r - o) / (1 - o) || 0;
  return [a * 100, i * 100, s * 100, o * 100];
};
function TD(t, e) {
  return (t[0] - e[0]) ** 2 + (t[1] - e[1]) ** 2 + (t[2] - e[2]) ** 2;
}
ae.rgb.keyword = function(t) {
  const e = w0[t];
  if (e)
    return e;
  let n = 1 / 0, r;
  for (const o of Object.keys(Ta)) {
    const a = Ta[o], i = TD(t, a);
    i < n && (n = i, r = o);
  }
  return r;
};
ae.keyword.rgb = function(t) {
  return Ta[t];
};
ae.rgb.xyz = function(t) {
  let e = t[0] / 255, n = t[1] / 255, r = t[2] / 255;
  e = e > 0.04045 ? ((e + 0.055) / 1.055) ** 2.4 : e / 12.92, n = n > 0.04045 ? ((n + 0.055) / 1.055) ** 2.4 : n / 12.92, r = r > 0.04045 ? ((r + 0.055) / 1.055) ** 2.4 : r / 12.92;
  const o = e * 0.4124 + n * 0.3576 + r * 0.1805, a = e * 0.2126 + n * 0.7152 + r * 0.0722, i = e * 0.0193 + n * 0.1192 + r * 0.9505;
  return [o * 100, a * 100, i * 100];
};
ae.rgb.lab = function(t) {
  const e = ae.rgb.xyz(t);
  let n = e[0], r = e[1], o = e[2];
  n /= 95.047, r /= 100, o /= 108.883, n = n > 8856e-6 ? n ** (1 / 3) : 7.787 * n + 16 / 116, r = r > 8856e-6 ? r ** (1 / 3) : 7.787 * r + 16 / 116, o = o > 8856e-6 ? o ** (1 / 3) : 7.787 * o + 16 / 116;
  const a = 116 * r - 16, i = 500 * (n - r), s = 200 * (r - o);
  return [a, i, s];
};
ae.hsl.rgb = function(t) {
  const e = t[0] / 360, n = t[1] / 100, r = t[2] / 100;
  let o, a, i;
  if (n === 0)
    return i = r * 255, [i, i, i];
  r < 0.5 ? o = r * (1 + n) : o = r + n - r * n;
  const s = 2 * r - o, l = [0, 0, 0];
  for (let u = 0; u < 3; u++)
    a = e + 1 / 3 * -(u - 1), a < 0 && a++, a > 1 && a--, 6 * a < 1 ? i = s + (o - s) * 6 * a : 2 * a < 1 ? i = o : 3 * a < 2 ? i = s + (o - s) * (2 / 3 - a) * 6 : i = s, l[u] = i * 255;
  return l;
};
ae.hsl.hsv = function(t) {
  const e = t[0];
  let n = t[1] / 100, r = t[2] / 100, o = n;
  const a = Math.max(r, 0.01);
  r *= 2, n *= r <= 1 ? r : 2 - r, o *= a <= 1 ? a : 2 - a;
  const i = (r + n) / 2, s = r === 0 ? 2 * o / (a + o) : 2 * n / (r + n);
  return [e, s * 100, i * 100];
};
ae.hsv.rgb = function(t) {
  const e = t[0] / 60, n = t[1] / 100;
  let r = t[2] / 100;
  const o = Math.floor(e) % 6, a = e - Math.floor(e), i = 255 * r * (1 - n), s = 255 * r * (1 - n * a), l = 255 * r * (1 - n * (1 - a));
  switch (r *= 255, o) {
    case 0:
      return [r, l, i];
    case 1:
      return [s, r, i];
    case 2:
      return [i, r, l];
    case 3:
      return [i, s, r];
    case 4:
      return [l, i, r];
    case 5:
      return [r, i, s];
  }
};
ae.hsv.hsl = function(t) {
  const e = t[0], n = t[1] / 100, r = t[2] / 100, o = Math.max(r, 0.01);
  let a, i;
  i = (2 - n) * r;
  const s = (2 - n) * o;
  return a = n * o, a /= s <= 1 ? s : 2 - s, a = a || 0, i /= 2, [e, a * 100, i * 100];
};
ae.hwb.rgb = function(t) {
  const e = t[0] / 360;
  let n = t[1] / 100, r = t[2] / 100;
  const o = n + r;
  let a;
  o > 1 && (n /= o, r /= o);
  const i = Math.floor(6 * e), s = 1 - r;
  a = 6 * e - i, i & 1 && (a = 1 - a);
  const l = n + a * (s - n);
  let u, c, f;
  switch (i) {
    default:
    case 6:
    case 0:
      u = s, c = l, f = n;
      break;
    case 1:
      u = l, c = s, f = n;
      break;
    case 2:
      u = n, c = s, f = l;
      break;
    case 3:
      u = n, c = l, f = s;
      break;
    case 4:
      u = l, c = n, f = s;
      break;
    case 5:
      u = s, c = n, f = l;
      break;
  }
  return [u * 255, c * 255, f * 255];
};
ae.cmyk.rgb = function(t) {
  const e = t[0] / 100, n = t[1] / 100, r = t[2] / 100, o = t[3] / 100, a = 1 - Math.min(1, e * (1 - o) + o), i = 1 - Math.min(1, n * (1 - o) + o), s = 1 - Math.min(1, r * (1 - o) + o);
  return [a * 255, i * 255, s * 255];
};
ae.xyz.rgb = function(t) {
  const e = t[0] / 100, n = t[1] / 100, r = t[2] / 100;
  let o, a, i;
  return o = e * 3.2406 + n * -1.5372 + r * -0.4986, a = e * -0.9689 + n * 1.8758 + r * 0.0415, i = e * 0.0557 + n * -0.204 + r * 1.057, o = o > 31308e-7 ? 1.055 * o ** (1 / 2.4) - 0.055 : o * 12.92, a = a > 31308e-7 ? 1.055 * a ** (1 / 2.4) - 0.055 : a * 12.92, i = i > 31308e-7 ? 1.055 * i ** (1 / 2.4) - 0.055 : i * 12.92, o = Math.min(Math.max(0, o), 1), a = Math.min(Math.max(0, a), 1), i = Math.min(Math.max(0, i), 1), [o * 255, a * 255, i * 255];
};
ae.xyz.lab = function(t) {
  let e = t[0], n = t[1], r = t[2];
  e /= 95.047, n /= 100, r /= 108.883, e = e > 8856e-6 ? e ** (1 / 3) : 7.787 * e + 16 / 116, n = n > 8856e-6 ? n ** (1 / 3) : 7.787 * n + 16 / 116, r = r > 8856e-6 ? r ** (1 / 3) : 7.787 * r + 16 / 116;
  const o = 116 * n - 16, a = 500 * (e - n), i = 200 * (n - r);
  return [o, a, i];
};
ae.lab.xyz = function(t) {
  const e = t[0], n = t[1], r = t[2];
  let o, a, i;
  a = (e + 16) / 116, o = n / 500 + a, i = a - r / 200;
  const s = a ** 3, l = o ** 3, u = i ** 3;
  return a = s > 8856e-6 ? s : (a - 16 / 116) / 7.787, o = l > 8856e-6 ? l : (o - 16 / 116) / 7.787, i = u > 8856e-6 ? u : (i - 16 / 116) / 7.787, o *= 95.047, a *= 100, i *= 108.883, [o, a, i];
};
ae.lab.lch = function(t) {
  const e = t[0], n = t[1], r = t[2];
  let o;
  o = Math.atan2(r, n) * 360 / 2 / Math.PI, o < 0 && (o += 360);
  const i = Math.sqrt(n * n + r * r);
  return [e, i, o];
};
ae.lch.lab = function(t) {
  const e = t[0], n = t[1], o = t[2] / 360 * 2 * Math.PI, a = n * Math.cos(o), i = n * Math.sin(o);
  return [e, a, i];
};
ae.rgb.ansi16 = function(t, e = null) {
  const [n, r, o] = t;
  let a = e === null ? ae.rgb.hsv(t)[2] : e;
  if (a = Math.round(a / 50), a === 0)
    return 30;
  let i = 30 + (Math.round(o / 255) << 2 | Math.round(r / 255) << 1 | Math.round(n / 255));
  return a === 2 && (i += 60), i;
};
ae.hsv.ansi16 = function(t) {
  return ae.rgb.ansi16(ae.hsv.rgb(t), t[2]);
};
ae.rgb.ansi256 = function(t) {
  const e = t[0], n = t[1], r = t[2];
  return e === n && n === r ? e < 8 ? 16 : e > 248 ? 231 : Math.round((e - 8) / 247 * 24) + 232 : 16 + 36 * Math.round(e / 255 * 5) + 6 * Math.round(n / 255 * 5) + Math.round(r / 255 * 5);
};
ae.ansi16.rgb = function(t) {
  let e = t % 10;
  if (e === 0 || e === 7)
    return t > 50 && (e += 3.5), e = e / 10.5 * 255, [e, e, e];
  const n = (~~(t > 50) + 1) * 0.5, r = (e & 1) * n * 255, o = (e >> 1 & 1) * n * 255, a = (e >> 2 & 1) * n * 255;
  return [r, o, a];
};
ae.ansi256.rgb = function(t) {
  if (t >= 232) {
    const a = (t - 232) * 10 + 8;
    return [a, a, a];
  }
  t -= 16;
  let e;
  const n = Math.floor(t / 36) / 5 * 255, r = Math.floor((e = t % 36) / 6) / 5 * 255, o = e % 6 / 5 * 255;
  return [n, r, o];
};
ae.rgb.hex = function(t) {
  const n = (((Math.round(t[0]) & 255) << 16) + ((Math.round(t[1]) & 255) << 8) + (Math.round(t[2]) & 255)).toString(16).toUpperCase();
  return "000000".substring(n.length) + n;
};
ae.hex.rgb = function(t) {
  const e = t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);
  if (!e)
    return [0, 0, 0];
  let n = e[0];
  e[0].length === 3 && (n = n.split("").map((s) => s + s).join(""));
  const r = parseInt(n, 16), o = r >> 16 & 255, a = r >> 8 & 255, i = r & 255;
  return [o, a, i];
};
ae.rgb.hcg = function(t) {
  const e = t[0] / 255, n = t[1] / 255, r = t[2] / 255, o = Math.max(Math.max(e, n), r), a = Math.min(Math.min(e, n), r), i = o - a;
  let s, l;
  return i < 1 ? s = a / (1 - i) : s = 0, i <= 0 ? l = 0 : o === e ? l = (n - r) / i % 6 : o === n ? l = 2 + (r - e) / i : l = 4 + (e - n) / i, l /= 6, l %= 1, [l * 360, i * 100, s * 100];
};
ae.hsl.hcg = function(t) {
  const e = t[1] / 100, n = t[2] / 100, r = n < 0.5 ? 2 * e * n : 2 * e * (1 - n);
  let o = 0;
  return r < 1 && (o = (n - 0.5 * r) / (1 - r)), [t[0], r * 100, o * 100];
};
ae.hsv.hcg = function(t) {
  const e = t[1] / 100, n = t[2] / 100, r = e * n;
  let o = 0;
  return r < 1 && (o = (n - r) / (1 - r)), [t[0], r * 100, o * 100];
};
ae.hcg.rgb = function(t) {
  const e = t[0] / 360, n = t[1] / 100, r = t[2] / 100;
  if (n === 0)
    return [r * 255, r * 255, r * 255];
  const o = [0, 0, 0], a = e % 1 * 6, i = a % 1, s = 1 - i;
  let l = 0;
  switch (Math.floor(a)) {
    case 0:
      o[0] = 1, o[1] = i, o[2] = 0;
      break;
    case 1:
      o[0] = s, o[1] = 1, o[2] = 0;
      break;
    case 2:
      o[0] = 0, o[1] = 1, o[2] = i;
      break;
    case 3:
      o[0] = 0, o[1] = s, o[2] = 1;
      break;
    case 4:
      o[0] = i, o[1] = 0, o[2] = 1;
      break;
    default:
      o[0] = 1, o[1] = 0, o[2] = s;
  }
  return l = (1 - n) * r, [
    (n * o[0] + l) * 255,
    (n * o[1] + l) * 255,
    (n * o[2] + l) * 255
  ];
};
ae.hcg.hsv = function(t) {
  const e = t[1] / 100, n = t[2] / 100, r = e + n * (1 - e);
  let o = 0;
  return r > 0 && (o = e / r), [t[0], o * 100, r * 100];
};
ae.hcg.hsl = function(t) {
  const e = t[1] / 100, r = t[2] / 100 * (1 - e) + 0.5 * e;
  let o = 0;
  return r > 0 && r < 0.5 ? o = e / (2 * r) : r >= 0.5 && r < 1 && (o = e / (2 * (1 - r))), [t[0], o * 100, r * 100];
};
ae.hcg.hwb = function(t) {
  const e = t[1] / 100, n = t[2] / 100, r = e + n * (1 - e);
  return [t[0], (r - e) * 100, (1 - r) * 100];
};
ae.hwb.hcg = function(t) {
  const e = t[1] / 100, r = 1 - t[2] / 100, o = r - e;
  let a = 0;
  return o < 1 && (a = (r - o) / (1 - o)), [t[0], o * 100, a * 100];
};
ae.apple.rgb = function(t) {
  return [t[0] / 65535 * 255, t[1] / 65535 * 255, t[2] / 65535 * 255];
};
ae.rgb.apple = function(t) {
  return [t[0] / 255 * 65535, t[1] / 255 * 65535, t[2] / 255 * 65535];
};
ae.gray.rgb = function(t) {
  return [t[0] / 100 * 255, t[0] / 100 * 255, t[0] / 100 * 255];
};
ae.gray.hsl = function(t) {
  return [0, 0, t[0]];
};
ae.gray.hsv = ae.gray.hsl;
ae.gray.hwb = function(t) {
  return [0, 100, t[0]];
};
ae.gray.cmyk = function(t) {
  return [0, 0, 0, t[0]];
};
ae.gray.lab = function(t) {
  return [t[0], 0, 0];
};
ae.gray.hex = function(t) {
  const e = Math.round(t[0] / 100 * 255) & 255, r = ((e << 16) + (e << 8) + e).toString(16).toUpperCase();
  return "000000".substring(r.length) + r;
};
ae.rgb.gray = function(t) {
  return [(t[0] + t[1] + t[2]) / 3 / 255 * 100];
};
const Ji = _0;
function FD() {
  const t = {}, e = Object.keys(Ji);
  for (let n = e.length, r = 0; r < n; r++)
    t[e[r]] = {
      // http://jsperf.com/1-vs-infinity
      // micro-opt, but this is simple.
      distance: -1,
      parent: null
    };
  return t;
}
function AD(t) {
  const e = FD(), n = [t];
  for (e[t].distance = 0; n.length; ) {
    const r = n.pop(), o = Object.keys(Ji[r]);
    for (let a = o.length, i = 0; i < a; i++) {
      const s = o[i], l = e[s];
      l.distance === -1 && (l.distance = e[r].distance + 1, l.parent = r, n.unshift(s));
    }
  }
  return e;
}
function kD(t, e) {
  return function(n) {
    return e(t(n));
  };
}
function ED(t, e) {
  const n = [e[t].parent, t];
  let r = Ji[e[t].parent][t], o = e[t].parent;
  for (; e[o].parent; )
    n.unshift(e[o].parent), r = kD(Ji[e[o].parent][o], r), o = e[o].parent;
  return r.conversion = n, r;
}
var MD = function(t) {
  const e = AD(t), n = {}, r = Object.keys(e);
  for (let o = r.length, a = 0; a < o; a++) {
    const i = r[a];
    e[i].parent !== null && (n[i] = ED(i, e));
  }
  return n;
};
const Ru = _0, OD = MD, oo = {}, RD = Object.keys(Ru);
function LD(t) {
  const e = function(...n) {
    const r = n[0];
    return r == null ? r : (r.length > 1 && (n = r), t(n));
  };
  return "conversion" in t && (e.conversion = t.conversion), e;
}
function $D(t) {
  const e = function(...n) {
    const r = n[0];
    if (r == null)
      return r;
    r.length > 1 && (n = r);
    const o = t(n);
    if (typeof o == "object")
      for (let a = o.length, i = 0; i < a; i++)
        o[i] = Math.round(o[i]);
    return o;
  };
  return "conversion" in t && (e.conversion = t.conversion), e;
}
RD.forEach((t) => {
  oo[t] = {}, Object.defineProperty(oo[t], "channels", { value: Ru[t].channels }), Object.defineProperty(oo[t], "labels", { value: Ru[t].labels });
  const e = OD(t);
  Object.keys(e).forEach((r) => {
    const o = e[r];
    oo[t][r] = $D(o), oo[t][r].raw = LD(o);
  });
});
var ID = oo;
const ao = CD, Rt = ID, x0 = [
  // To be honest, I don't really feel like keyword belongs in color convert, but eh.
  "keyword",
  // Gray conflicts with some method names, and has its own method defined.
  "gray",
  // Shouldn't really be in color-convert either...
  "hex"
], Lu = {};
for (const t of Object.keys(Rt))
  Lu[[...Rt[t].labels].sort().join("")] = t;
const Qi = {};
function rt(t, e) {
  if (!(this instanceof rt))
    return new rt(t, e);
  if (e && e in x0 && (e = null), e && !(e in Rt))
    throw new Error("Unknown model: " + e);
  let n, r;
  if (t == null)
    this.model = "rgb", this.color = [0, 0, 0], this.valpha = 1;
  else if (t instanceof rt)
    this.model = t.model, this.color = [...t.color], this.valpha = t.valpha;
  else if (typeof t == "string") {
    const o = ao.get(t);
    if (o === null)
      throw new Error("Unable to parse color from string: " + t);
    this.model = o.model, r = Rt[this.model].channels, this.color = o.value.slice(0, r), this.valpha = typeof o.value[r] == "number" ? o.value[r] : 1;
  } else if (t.length > 0) {
    this.model = e || "rgb", r = Rt[this.model].channels;
    const o = Array.prototype.slice.call(t, 0, r);
    this.color = $u(o, r), this.valpha = typeof t[r] == "number" ? t[r] : 1;
  } else if (typeof t == "number")
    this.model = "rgb", this.color = [
      t >> 16 & 255,
      t >> 8 & 255,
      t & 255
    ], this.valpha = 1;
  else {
    this.valpha = 1;
    const o = Object.keys(t);
    "alpha" in t && (o.splice(o.indexOf("alpha"), 1), this.valpha = typeof t.alpha == "number" ? t.alpha : 0);
    const a = o.sort().join("");
    if (!(a in Lu))
      throw new Error("Unable to parse color from object: " + JSON.stringify(t));
    this.model = Lu[a];
    const { labels: i } = Rt[this.model], s = [];
    for (n = 0; n < i.length; n++)
      s.push(t[i[n]]);
    this.color = $u(s);
  }
  if (Qi[this.model])
    for (r = Rt[this.model].channels, n = 0; n < r; n++) {
      const o = Qi[this.model][n];
      o && (this.color[n] = o(this.color[n]));
    }
  this.valpha = Math.max(0, Math.min(1, this.valpha)), Object.freeze && Object.freeze(this);
}
rt.prototype = {
  toString() {
    return this.string();
  },
  toJSON() {
    return this[this.model]();
  },
  string(t) {
    let e = this.model in ao.to ? this : this.rgb();
    e = e.round(typeof t == "number" ? t : 1);
    const n = e.valpha === 1 ? e.color : [...e.color, this.valpha];
    return ao.to[e.model](n);
  },
  percentString(t) {
    const e = this.rgb().round(typeof t == "number" ? t : 1), n = e.valpha === 1 ? e.color : [...e.color, this.valpha];
    return ao.to.rgb.percent(n);
  },
  array() {
    return this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];
  },
  object() {
    const t = {}, { channels: e } = Rt[this.model], { labels: n } = Rt[this.model];
    for (let r = 0; r < e; r++)
      t[n[r]] = this.color[r];
    return this.valpha !== 1 && (t.alpha = this.valpha), t;
  },
  unitArray() {
    const t = this.rgb().color;
    return t[0] /= 255, t[1] /= 255, t[2] /= 255, this.valpha !== 1 && t.push(this.valpha), t;
  },
  unitObject() {
    const t = this.rgb().object();
    return t.r /= 255, t.g /= 255, t.b /= 255, this.valpha !== 1 && (t.alpha = this.valpha), t;
  },
  round(t) {
    return t = Math.max(t || 0, 0), new rt([...this.color.map(zD(t)), this.valpha], this.model);
  },
  alpha(t) {
    return t !== void 0 ? new rt([...this.color, Math.max(0, Math.min(1, t))], this.model) : this.valpha;
  },
  // Rgb
  red: Ue("rgb", 0, Qe(255)),
  green: Ue("rgb", 1, Qe(255)),
  blue: Ue("rgb", 2, Qe(255)),
  hue: Ue(["hsl", "hsv", "hsl", "hwb", "hcg"], 0, (t) => (t % 360 + 360) % 360),
  saturationl: Ue("hsl", 1, Qe(100)),
  lightness: Ue("hsl", 2, Qe(100)),
  saturationv: Ue("hsv", 1, Qe(100)),
  value: Ue("hsv", 2, Qe(100)),
  chroma: Ue("hcg", 1, Qe(100)),
  gray: Ue("hcg", 2, Qe(100)),
  white: Ue("hwb", 1, Qe(100)),
  wblack: Ue("hwb", 2, Qe(100)),
  cyan: Ue("cmyk", 0, Qe(100)),
  magenta: Ue("cmyk", 1, Qe(100)),
  yellow: Ue("cmyk", 2, Qe(100)),
  black: Ue("cmyk", 3, Qe(100)),
  x: Ue("xyz", 0, Qe(95.047)),
  y: Ue("xyz", 1, Qe(100)),
  z: Ue("xyz", 2, Qe(108.833)),
  l: Ue("lab", 0, Qe(100)),
  a: Ue("lab", 1),
  b: Ue("lab", 2),
  keyword(t) {
    return t !== void 0 ? new rt(t) : Rt[this.model].keyword(this.color);
  },
  hex(t) {
    return t !== void 0 ? new rt(t) : ao.to.hex(this.rgb().round().color);
  },
  hexa(t) {
    if (t !== void 0)
      return new rt(t);
    const e = this.rgb().round().color;
    let n = Math.round(this.valpha * 255).toString(16).toUpperCase();
    return n.length === 1 && (n = "0" + n), ao.to.hex(e) + n;
  },
  rgbNumber() {
    const t = this.rgb().color;
    return (t[0] & 255) << 16 | (t[1] & 255) << 8 | t[2] & 255;
  },
  luminosity() {
    const t = this.rgb().color, e = [];
    for (const [n, r] of t.entries()) {
      const o = r / 255;
      e[n] = o <= 0.04045 ? o / 12.92 : ((o + 0.055) / 1.055) ** 2.4;
    }
    return 0.2126 * e[0] + 0.7152 * e[1] + 0.0722 * e[2];
  },
  contrast(t) {
    const e = this.luminosity(), n = t.luminosity();
    return e > n ? (e + 0.05) / (n + 0.05) : (n + 0.05) / (e + 0.05);
  },
  level(t) {
    const e = this.contrast(t);
    return e >= 7 ? "AAA" : e >= 4.5 ? "AA" : "";
  },
  isDark() {
    const t = this.rgb().color;
    return (t[0] * 2126 + t[1] * 7152 + t[2] * 722) / 1e4 < 128;
  },
  isLight() {
    return !this.isDark();
  },
  negate() {
    const t = this.rgb();
    for (let e = 0; e < 3; e++)
      t.color[e] = 255 - t.color[e];
    return t;
  },
  lighten(t) {
    const e = this.hsl();
    return e.color[2] += e.color[2] * t, e;
  },
  darken(t) {
    const e = this.hsl();
    return e.color[2] -= e.color[2] * t, e;
  },
  saturate(t) {
    const e = this.hsl();
    return e.color[1] += e.color[1] * t, e;
  },
  desaturate(t) {
    const e = this.hsl();
    return e.color[1] -= e.color[1] * t, e;
  },
  whiten(t) {
    const e = this.hwb();
    return e.color[1] += e.color[1] * t, e;
  },
  blacken(t) {
    const e = this.hwb();
    return e.color[2] += e.color[2] * t, e;
  },
  grayscale() {
    const t = this.rgb().color, e = t[0] * 0.3 + t[1] * 0.59 + t[2] * 0.11;
    return rt.rgb(e, e, e);
  },
  fade(t) {
    return this.alpha(this.valpha - this.valpha * t);
  },
  opaquer(t) {
    return this.alpha(this.valpha + this.valpha * t);
  },
  rotate(t) {
    const e = this.hsl();
    let n = e.color[0];
    return n = (n + t) % 360, n = n < 0 ? 360 + n : n, e.color[0] = n, e;
  },
  mix(t, e) {
    if (!t || !t.rgb)
      throw new Error('Argument to "mix" was not a Color instance, but rather an instance of ' + typeof t);
    const n = t.rgb(), r = this.rgb(), o = e === void 0 ? 0.5 : e, a = 2 * o - 1, i = n.alpha() - r.alpha(), s = ((a * i === -1 ? a : (a + i) / (1 + a * i)) + 1) / 2, l = 1 - s;
    return rt.rgb(
      s * n.red() + l * r.red(),
      s * n.green() + l * r.green(),
      s * n.blue() + l * r.blue(),
      n.alpha() * o + r.alpha() * (1 - o)
    );
  }
};
for (const t of Object.keys(Rt)) {
  if (x0.includes(t))
    continue;
  const { channels: e } = Rt[t];
  rt.prototype[t] = function(...n) {
    return this.model === t ? new rt(this) : n.length > 0 ? new rt(n, t) : new rt([...BD(Rt[this.model][t].raw(this.color)), this.valpha], t);
  }, rt[t] = function(...n) {
    let r = n[0];
    return typeof r == "number" && (r = $u(n, e)), new rt(r, t);
  };
}
function PD(t, e) {
  return Number(t.toFixed(e));
}
function zD(t) {
  return function(e) {
    return PD(e, t);
  };
}
function Ue(t, e, n) {
  t = Array.isArray(t) ? t : [t];
  for (const r of t)
    (Qi[r] || (Qi[r] = []))[e] = n;
  return t = t[0], function(r) {
    let o;
    return r !== void 0 ? (n && (r = n(r)), o = this[t](), o.color[e] = r, o) : (o = this[t]().color[e], n && (o = n(o)), o);
  };
}
function Qe(t) {
  return function(e) {
    return Math.max(0, Math.min(t, e));
  };
}
function BD(t) {
  return Array.isArray(t) ? t : [t];
}
function $u(t, e) {
  for (let n = 0; n < e; n++)
    typeof t[n] != "number" && (t[n] = 0);
  return t;
}
var WD = rt;
const $e = /* @__PURE__ */ ug(WD), tt = (t) => {
  const e = {
    bar: ["itemStyle"],
    line: ["itemStyle", "lineStyle"],
    scatter: ["itemStyle"],
    sankey: ["itemStyle"],
    pie: ["itemStyle"],
    funnel: ["itemStyle"],
    pictorialBar: ["itemStyle"],
    radar: ["lineStyle", "areaStyle", "symbolStyle"]
  }, n = Q(!1), r = Q(["#2F9AFF", "#66E1A4", "#D0DEEE", "#4F84D4", "#FCC97A", "#E37D4B", "#DD5B5B"]), o = ({ flag: v, themeConfig: y }) => {
    n.value = v, v && (y != null && y.list) && (r.value = y.list || []), t.emit("updateChart");
  }, a = ({ uuid: v, themeConfig: y }) => {
    v ? v === t.id && (i(y), Ia(["chartOption"], t, !0), t.editor.fire(tr.selectionUpdated, t.editor.getActiveObjects())) : i(y);
  }, i = (v) => {
    t.themeConfig = v;
    const y = (v == null ? void 0 : v.list) || [];
    if (y != null && y.length) {
      if (["visWidgetChartGaugeSpeed", "visWidgetChartTreemap", "visWidgetChartFunnel"].includes(t.component.name)) {
        switch (t.component.name) {
          case "visWidgetChartGaugeSpeed":
            f(t.chartOption, y);
            break;
          case "visWidgetChartTreemap":
            h(t.chartOption, y);
            break;
          case "visWidgetChartFunnel":
            d(t.chartOption, y);
            break;
        }
        return;
      }
      const b = me(t.chartOption.series);
      b.forEach((_, w) => {
        const T = y[w % y.length];
        switch (_.type) {
          case "pie":
            l(_, y);
            break;
          case "liquidFill":
            u(_, T);
            break;
          case "radar":
            c(_, y);
            break;
          default:
            s(_, T);
            break;
        }
        t.chartOption.series = b;
      });
    }
  }, s = (v, y) => {
    const S = e[v.type];
    y && (S != null && S.length) && S.forEach((b) => {
      v[b] && (v[b].color = y);
    });
  }, l = (v, y) => {
    t.chartOption.seriesColor.forEach((S, b) => {
      const _ = y[b % y.length];
      _ && (S.color = _, S.itemStyle.color = _, S.rich.value.color = _, S.rich.percent.color = _, S.rich.suffix.color = _);
    }), v.itemStyle.color = y;
  }, u = (v, y) => {
    v.color = y, v.outline.itemStyle.borderColor = y;
  }, c = (v, y) => {
    (v.data || []).forEach((b, _) => {
      const w = y[_ % y.length];
      b.lineStyle.color = w, b.symbolStyle.color = w, b.lineStyle.color = w, b.areaStyle.color = $e(w).alpha(0.2).string();
    });
  }, f = (v, y) => {
    const S = me(v.backProgress);
    S.forEach((b, _) => {
      b.color = y[_ % y.length];
    }), v.backProgress = S;
  }, h = (v, y) => {
    const S = me(v.seriesColor);
    S.forEach((b, _) => {
      b.color = y[_ % y.length];
    }), v.seriesColor = S;
  }, d = (v, y) => {
    const S = me(v.seriesColor);
    S.forEach((b, _) => {
      b.itemStyle.color = y[_ % y.length];
    }), v.seriesColor = S;
  }, p = (v, y, S) => {
    var w;
    const b = $e(y);
    S === void 0 && (S = b.valpha);
    let _ = b.alpha(S).string();
    return n.value && ((w = r.value) != null && w.length) && (_ = r.value[v % r.value.length], S && (_ = $e(_).alpha(S).string())), _;
  }, m = () => {
    var y;
    let v;
    return n.value && ((y = r.value) != null && y.length) ? v = r.value : v = t.themeConfig.list, {
      isPreview: n.value,
      colorList: v
    };
  }, g = (v) => {
    const { data: y } = v;
    switch (v.type) {
      case yu.themeSet:
        a(y);
        break;
      case yu.themePreview:
        o(y);
        break;
    }
  };
  return le(() => {
    r.value = t.themeConfig.list, t.editor.on(tr.pageOperation, g);
  }), se(() => {
    t.editor.off(tr.pageOperation, g);
  }), {
    getThemeColor: p,
    getThemeColorList: m
  };
}, ND = {
  average: "均值",
  median: "中位数",
  max: "最大值",
  min: "最小值",
  custom: "自定义"
}, Tn = () => ({
  getMarkLine: (e) => {
    const n = {
      symbol: "none",
      data: [
        {
          label: {
            show: !0,
            position: e.position || "end",
            formatter: e.name || ND[e.markType] || "",
            color: e.label.color || "#fff",
            fontSize: e.label.fontSize || 12,
            fontStyle: e.label.fontStyle || "normal",
            fontFamily: e.label.fontFamily,
            fontWeight: e.label.fontWeight || "normal",
            lineHeight: e.label.lineHeight || 14,
            distance: e.label.distance || 0
          },
          lineStyle: {
            color: e.lineStyle.color || "#FFC225",
            type: e.lineStyle.type || "dashed"
          }
        }
      ],
      animation: !1
    };
    return e.markType === "custom" ? n.data[0].yAxis = e.markValue || 0 : n.data[0].type = e.markType || "average", n;
  }
}), Wa = (t) => {
  const { getThemeColor: e } = tt(t), { getMarkLine: n } = Tn(), r = (u, c) => {
    const f = c.chartOption.series, d = c.chartDataFieldMap.measure.field, p = [];
    return f.forEach((m, g) => {
      const { type: v, name: y, showSymbol: S, symbol: b, symbolSize: _, smooth: w, yAxisIndex: T, lineStyle: C, label: x, markLine: D, flowLight: F } = m, I = d[g % d.length];
      if (!I) return;
      const P = I.fieldName;
      let O = [];
      O = u.map((M) => ({
        value: M[P],
        dataRef: M || {},
        yAxisIndex: T
      }));
      const k = {
        showSymbol: S,
        symbol: b,
        symbolSize: _
      };
      x.show && (!S || b === "none") && (k.showSymbol = !0, k.symbol = "circle", k.symbolSize = 0);
      const $ = {
        type: v,
        name: y,
        showSymbol: k.showSymbol,
        symbol: k.symbol,
        symbolSize: k.symbolSize,
        smooth: w,
        yAxisIndex: T,
        lineStyle: {
          width: C.width,
          color: e(g, C.color)
        },
        itemStyle: {
          color: e(g, C.color)
        },
        areaStyle: {
          opacity: 0
        },
        label: {
          show: x.show || !1,
          // 开启显示
          position: "top",
          // 在上方显示,
          // 数值样式
          fontSize: x.fontSize,
          color: x.color,
          fontWeight: x.fontWeight,
          fontFamily: x.fontFamily,
          opacity: x.opacity / 100,
          textDecoration: x.textDecoration,
          fontStyle: x.fontStyle,
          letterSpacing: x.letterSpacing,
          lineHeight: x.lineHeight
        },
        data: O
      };
      if (D && D.show && ($.markLine = n(D)), m.areaStyleShow && ($.areaStyle = l($.lineStyle)), p.push($), F && F.show) {
        const M = o(m, g, $);
        p.push(M);
      }
    }), p;
  }, o = (u, c, f) => {
    const { yAxisIndex: h, lineStyle: d, flowLight: p, name: m } = u, g = f.data.map((S) => S.value);
    if (!p) return;
    const v = p.polyline ? s(g) : i(g);
    return {
      ...p,
      yAxisIndex: h,
      zlevel: c || 1,
      // 解决第一个系列 流光处于最低层级问题
      name: m,
      lineStyle: {
        color: d.color,
        width: 0,
        opacity: 0,
        curveness: 0
      },
      data: v
    };
  }, a = (u) => u != null, i = (u) => {
    const c = [];
    return u.forEach((f, h) => {
      const d = u[h + 1];
      a(f) && a(d) && c.push([{ coord: [h, f] }, { coord: [h + 1, d] }]);
    }), c;
  }, s = (u) => {
    const c = [{ coords: [] }];
    return u.forEach((f, h) => {
      const d = h == 0 ? 1 : a(u[h - 1]), p = h == u.length - 1 ? 1 : a(u[h + 1]);
      a(f) && d ? c[0].coords.push([h, f]) : a(f) && p && c[0].coords.push([h, f]);
    }), c;
  }, l = (u) => {
    const c = new $e(u.color).color.toString();
    return {
      color: {
        x: 0,
        y: 0,
        x2: 0,
        y2: 1,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${c}, 0.3)`
          },
          {
            offset: 1,
            color: `rgba(${c}, 0)`
          }
        ],
        globalCoord: !1
      }
    };
  };
  return {
    getSeries: r,
    getAreaStyle: l,
    getFlowLight: o
  };
}, Os = (t) => {
  const { getThemeColor: e } = tt(t), n = {
    name: (s) => s,
    nameRate: (s) => {
      let l = 0, u = null;
      return t.data.forEach((c) => {
        l += (c == null ? void 0 : c.value) || 0, c.name == s && (u = c);
      }), u ? `${u.name} ${(u.value / l * 100).toFixed(0)}%` : s;
    },
    nameValue: (s) => {
      const l = t.data && t.data.find((u) => u.name == s);
      return l ? `{name|${l.name}} {value|${l.value}${t.legendSuffix || ""}}` : s;
    },
    nameValueRate: (s) => {
      let l = 0, u = null;
      t.data.forEach((S) => {
        l += +(S.value || 0), S.name == s && (u = S);
      }), u || (u = {
        name: "",
        value: 0
      });
      const { type: c, value: f, percent: h } = t.chartOption.legend.textStyle.rich, d = `{type|${c.show ? u.name : ""}}`, p = `{value|${f.show ? u.value : ""}}`, m = t.chartOption.legend.legendSuffix || "", g = `{suffix|${f.show ? m : ""}}`, v = `${+(u.value / l * 100).toFixed(2)}%`, y = `{percent|${h.show ? v : ""}}`;
      return u ? `${d} ${p}${g} ${y}` : s;
    }
  }, r = (s, l) => s[l % s.length].color, o = (s, l, u) => s[l % s.length].rich[u].color;
  return {
    getLegend: (s, l) => {
      const u = l.chartOption.seriesColor, c = l.chartOption.legend, f = me(s);
      if (l.chartOption.legend.show) {
        const p = (l.chartDataFieldMap.measure.field[0] || {}).fieldName, m = !!l.chartOption.series[0].sort;
        f.sort((g, v) => m ? v[p] - g[p] : g[p] - v[p]);
      }
      return {
        ...c,
        formatter: n[c.formatterStr],
        data: f.map((h, d) => {
          const p = c.textStyle.rich;
          return {
            name: h.name,
            textStyle: {
              rich: {
                ...p,
                type: {
                  ...p.type,
                  color: p.type.follow ? o(u, d, "type") : p.type.color,
                  width: p.type.show ? p.type.width : 0
                },
                value: {
                  ...p.value,
                  color: p.value.follow ? o(u, d, "value") : p.value.color,
                  width: p.value.show ? p.value.width : 0
                },
                suffix: {
                  ...p.suffix,
                  color: p.suffix.follow ? o(u, d, "suffix") : p.suffix.color,
                  width: p.value.show ? p.suffix.width : 0
                },
                percent: {
                  ...p.percent,
                  color: p.percent.follow ? o(u, d, "percent") : p.percent.color,
                  width: p.percent.show ? p.percent.width : 0
                }
              }
            }
          };
        })
      };
    },
    getSeries: (s, l) => {
      const u = l.chartOption.series, c = l.chartOption.seriesColor, f = l.chartDataFieldMap, h = [];
      return u.forEach((d) => {
        const p = l.chartDataFieldMap.dimension.field[0] || {}, m = f.measure.field[0] || {};
        if (!m || !p) return;
        const g = p.fieldName, v = m.fieldName, y = me(s);
        if (l.chartOption.legend.show) {
          const _ = !!l.chartOption.series[0].sort;
          y.sort((w, T) => _ ? T[v] - w[v] : w[v] - T[v]);
        }
        const S = y.map((_, w) => {
          const T = c[w % c.length], C = T.rich.type.show ? "{type|{b}}" : "", x = T.rich.type.align ? `
` : "", D = T.rich.value.show ? "{value|{c}}" : "", F = T.rich.value.show && T.rich.suffix.text ? `{suffix|${T.rich.suffix.text}}` : "", I = T.rich.percent.show ? "{percent|{d}%}" : "", P = e(w, T.itemStyle.color);
          return {
            name: _[g],
            value: _[v],
            dataRef: _ || {},
            label: {
              show: T.show || !1,
              // 开启显示
              // formatter: item.label.formatterStr,
              // formatter: `${currentSeries.rich.type.show ? '{type|{b}}' : ''} ${
              //   item.label.rich.align ? '\n' : ''
              // }${currentSeries.rich.value.show ? '{value|{c}}' : ''}${
              //   currentSeries.rich.percent.show ? '{percent|{d}%}' : ''
              // }`,
              formatter: `${C} ${x} ${D} ${F} ${I}`,
              // 数值样式
              fontSize: d.label.fontSize || 14,
              color: d.label.color || "#fff",
              fontWeight: d.label.fontWeight || 500,
              rich: {
                type: {
                  ...T.rich.type
                },
                value: {
                  ...T.rich.value
                },
                percent: {
                  ...T.rich.percent
                },
                suffix: {
                  ...T.rich.suffix
                }
              }
            },
            itemStyle: {
              color: P,
              shadowColor: P
            }
          };
        }), b = {
          ...d,
          type: d.type,
          roseType: d.roseType,
          radius: [`${d.radiusFlag || d.roseType ? d.insideRadius : 0}%`, `${d.outsideRadius}%`],
          center: [`${d.centerX}%`, `${d.centerY}%`],
          itemStyle: {
            color: (_) => r(c, _.dataIndex),
            borderRadius: d.itemStyle.borderRadius,
            shadowBlur: d.itemStyle.shadowBlur
          },
          // legend
          data: S,
          labelLayout: function(_) {
            const w = _.labelRect.x < l.w / 2, T = _.labelLinePoints;
            return T ? (T[2][0] = w ? _.labelRect.x : _.labelRect.x + _.labelRect.width, T[2][1] = _.labelRect.height + _.labelRect.y, T[1][1] = _.labelRect.height + _.labelRect.y, {
              labelLinePoints: T
            }) : {};
          }
        };
        h.push(b);
      }), h;
    }
  };
}, Hc = (t, e, n) => {
  const r = {
    interval: 2e3,
    loopSeries: !1,
    seriesIndex: 0,
    updateData: null
  }, o = t.getChartInstance();
  if (!o || !e)
    return {};
  let a = 0, i = 0, s = 0;
  const l = e.series.length;
  let u = 0, c, f = !0;
  n ? (n.interval = n.interval || r.interval, n.loopSeries = n.loopSeries || r.loopSeries, n.seriesIndex = n.seriesIndex || r.seriesIndex, n.updateData = n.updateData || r.updateData) : n = r, n.seriesIndex < 0 || n.seriesIndex >= l ? i = 0 : i = n.seriesIndex;
  function h() {
    function v() {
      var _, w;
      a === 0 && !f && typeof n.updateData == "function" && (n.updateData(), o.setOption(e));
      const y = e.series, S = e.dataset;
      c = y[i].type, u = ((_ = S == null ? void 0 : S.source) == null ? void 0 : _.length) || ((w = y[i].data) == null ? void 0 : w.length) || 0;
      const b = { seriesIndex: i };
      switch (c) {
        case "map":
        case "pie":
        case "chord":
        case "sankey":
          b.name = y[i].data[a].name;
          break;
        case "radar":
          b.seriesIndex = i, b.dataIndex = a;
          break;
        default:
          b.dataIndex = a;
          break;
      }
      (c === "pie" || c === "radar" || c === "map" || c === "sankey" || c === "scatter") && (o.dispatchAction({
        type: "downplay",
        seriesIndex: n.loopSeries ? i === 0 ? l - 1 : i - 1 : i,
        dataIndex: a === 0 ? u - 1 : a - 1
      }), o.dispatchAction({
        type: "highlight",
        seriesIndex: i,
        dataIndex: a
      })), b.type = "showTip", o.dispatchAction(b), a = (a + 1) % u, n.loopSeries && a === 0 && !f && (i = (i + 1) % l), f = !1;
    }
    v(), s = setInterval(v, n.interval);
  }
  function d() {
    s && (clearInterval(s), s = 0, (c === "pie" || c === "radar" || c === "map" || c === "scatter") && o.dispatchAction({
      type: "downplay",
      seriesIndex: n.loopSeries ? i === 0 ? l - 1 : i - 1 : i,
      dataIndex: a === 0 ? u - 1 : a - 1
    }));
  }
  function p(v) {
    v.event && (v.event.cancelBubble = !0), d();
  }
  function m() {
    s || h();
  }
  const g = o.getZr();
  return o.on("mousemove", d), g.on("mousemove", p), g.on("globalout", m), h(), {
    clearLoop: function() {
      s && (clearInterval(s), s = 0);
      const v = o.getZr();
      o.off("mousemove", d), v.off("mousemove", p), v.off("globalout", m);
    }
  };
}, Zt = (t) => {
  const e = Q(), n = (i) => {
    const { fontFamily: s, color: l, fontSize: u, opacity: c, fontWeight: f, fontStyle: h, letterSpacing: d, lineHeight: p } = i;
    return `font-family:${s};color:${l};font-size:${u}px;opacity:${c / 100};font-weight:${f};font-style:${h};letter-spacing:${d}px;line-height:${p}px;`;
  }, r = () => {
    const i = t.chartOption.tooltip, s = t.chartOption.yAxis, l = t.chartOption.xAxis, u = i.valueStyle.flowSeries, c = n(i.nameStyle), f = n(i.typeStyle), h = n(i.valueStyle), d = n(i.unitStyle);
    return (m) => {
      var _;
      let g = "";
      const v = ((_ = l == null ? void 0 : l.nameTextStyle) == null ? void 0 : _.show) && l.name, y = `<span style="margin-left:4px;">${v}</span>`;
      m.forEach((w) => {
        w.axisValue && (g = `<div style="${f}">${w.axisValue}${v ? y : ""}</div>`);
      });
      const S = "display:inline-block;width:9px;height:9px;border-radius:9px;margin-right:5px;", b = "display:flex;align-items:center;justify-content:space-between;padding-top:6px;";
      return m.forEach((w) => {
        var A, L;
        const { value: T, color: C, seriesName: x } = w, D = w.data.yAxisIndex || 0;
        if (T == null) return;
        const F = typeof C == "string" ? C : C.colorStops[0].color, I = `<span style="${S}background:${F}"></span>`, P = `<span style="${c};padding-right:8px;">${x}</span>`, O = u ? `color:${F};` : "", k = `<span style="${h}${O}">${T}</span>`, $ = s[D] && ((L = (A = s[D]) == null ? void 0 : A.nameTextStyle) == null ? void 0 : L.show) && s[D].name, M = `<span style="${d};padding-left:4px;">${$}</span>`;
        g += `<div style="${b}"><span>${I}${P}</span><span>${k}${$ ? M : ""}</span></div>`;
      }), g;
    };
  }, o = (i, s) => {
    const { interactive: l } = t.editor.config;
    e.value && e.value.clearLoop(), s.tooltip.loopEnable && l && (e.value = Hc(i, s, {
      interval: s.tooltip.loopInterval * 1e3,
      // 是否循环轮播所有序列
      loopSeries: s.tooltip.loopSeries,
      // 第1个被轮播的序列下标
      seriesIndex: 0
    }));
  }, a = () => {
    e.value && e.value.clearLoop(), e.value = null;
  };
  return se(() => {
    a();
  }), {
    getTooltipFormatter: r,
    getTooltipStyleString: n,
    toogleTooltipLoop: o
  };
}, Rs = (t) => {
  const e = Q(), n = (i) => {
    const { fontFamily: s, color: l, fontSize: u, opacity: c, fontWeight: f, fontStyle: h, letterSpacing: d, lineHeight: p } = i;
    return `font-family:${s};color:${l};font-size:${u}px;opacity:${c / 100};font-weight:${f};font-style:${h};letter-spacing:${d}px;line-height:${p}px;`;
  }, r = () => {
    const i = t.chartOption.seriesColor, s = t.chartOption.tooltip, l = s.valueStyle.flowSeries, u = s.unitStyle.flowSeries, c = s.percentStyle.flowSeries, f = s.ratioStyle.flowSeries, h = n(s.nameStyle), d = n(s.valueStyle), p = n(s.unitStyle), m = n(s.percentStyle), g = n(s.ratioStyle);
    return (y) => {
      const { color: S, dataIndex: b, name: _, percent: w, value: T } = y;
      if (y.name === "gap") return "";
      const x = `color:${typeof S == "string" ? S : S.colorStops[0].color}`, D = `<span style="${h};padding-right:8px;">${_}</span>`, I = `<span style="${d}${l ? x : ""}">${T}</span>`, P = i[b % i.length].rich.suffix.text, k = `<span style="${p};${u ? x : ""};padding-left:2px;">${P}</span>`, M = `<span style="${m};${c ? x : ""};padding-left:8px;">${w}</span>`, L = `<span style="${g};${f ? x : ""};padding-left:2px;">%</span>`;
      return `<div>${D}${I}${P ? k : ""}${M}${L}</div>`;
    };
  }, o = (i, s) => {
    const { interactive: l } = t.editor.config;
    e.value && e.value.clearLoop(), s.tooltip.loopEnable && l && (e.value = Hc(i, s, {
      interval: s.tooltip.loopInterval * 1e3,
      // 是否循环轮播所有序列
      loopSeries: s.tooltip.loopSeries,
      // 第1个被轮播的序列下标
      seriesIndex: 0
    }));
  }, a = () => {
    e.value && e.value.clearLoop(), e.value = null;
  };
  return se(() => {
    a();
  }), {
    getTooltipFormatter: r,
    toogleTooltipLoop: o
  };
}, D0 = (t) => {
  const e = Q(), n = (i) => {
    const { fontFamily: s, color: l, fontSize: u, opacity: c, fontWeight: f, fontStyle: h, letterSpacing: d, lineHeight: p } = i;
    return `font-family:${s};color:${l};font-size:${u}px;opacity:${c / 100};font-weight:${f};font-style:${h};letter-spacing:${d}px;line-height:${p}px;`;
  }, r = () => {
    const i = t.chartOption.tooltip, s = t.chartOption.yAxis[0], l = t.chartOption.xAxis, u = i.valueStyle.flowSeries, c = i.unitStyle.flowSeries, f = n(i.typeStyle), h = n(i.nameStyle), d = n(i.valueStyle), p = n(i.unitStyle), m = "display:flex;align-items:center;justify-content:space-between;padding-top:6px;";
    return (v) => {
      const { color: y, seriesName: S, value: b } = v, w = `color:${typeof y == "string" ? y : y.colorStops[0].color}`, T = u ? w : "", C = c ? w : "", x = `<div style="${f}">${S}</div>`, D = `<span style="${h};padding-right:8px;">X</span>`, F = `<span style="${d}${T}">${b[0]}</span>`, I = l.name || "", P = `<span style="${p};${C};padding-left:2px;">${I}</span>`, O = `<div style="${m}">${D}<span>${F}${I ? P : ""}</span></div>`, k = `<span style="${h};padding-right:8px;">Y</span>`, $ = `<span style="${d}${T}">${b[1]}</span>`, M = s.name || "", A = `<span style="${p};${C};padding-left:2px;">${M}</span>`, L = `<div style="${m}">${k}<span>${$}${M ? A : ""}</span></div>`;
      return `<div>${x}${O}${L}</div>`;
    };
  }, o = (i, s) => {
    const { interactive: l } = t.editor.config;
    e.value && e.value.clearLoop(), s.tooltip.loopEnable && l && (e.value = Hc(i, s, {
      interval: s.tooltip.loopInterval * 1e3,
      // 是否循环轮播所有序列
      loopSeries: !0,
      // 第1个被轮播的序列下标
      seriesIndex: 0
    }));
  }, a = () => {
    e.value && e.value.clearLoop(), e.value = null;
  };
  return se(() => {
    a();
  }), {
    getTooltipFormatter: r,
    toogleTooltipLoop: o
  };
}, Fd = [
  ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
  // New WebKit
  [
    "webkitRequestFullscreen",
    "webkitExitFullscreen",
    "webkitFullscreenElement",
    "webkitFullscreenEnabled",
    "webkitfullscreenchange",
    "webkitfullscreenerror"
  ],
  // Old WebKit
  [
    "webkitRequestFullScreen",
    "webkitCancelFullScreen",
    "webkitCurrentFullScreenElement",
    "webkitCancelFullScreen",
    "webkitfullscreenchange",
    "webkitfullscreenerror"
  ],
  [
    "mozRequestFullScreen",
    "mozCancelFullScreen",
    "mozFullScreenElement",
    "mozFullScreenEnabled",
    "mozfullscreenchange",
    "mozfullscreenerror"
  ],
  ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
], Pn = (() => {
  if (typeof document > "u")
    return !1;
  const t = Fd[0], e = {};
  for (const n of Fd)
    if ((n == null ? void 0 : n[1]) in document) {
      for (const [o, a] of n.entries())
        e[t[o]] = a;
      return e;
    }
  return !1;
})(), Ad = {
  change: Pn.fullscreenchange,
  error: Pn.fullscreenerror
};
let Et = {
  // eslint-disable-next-line default-param-last
  request(t = document.documentElement, e) {
    return new Promise((n, r) => {
      const o = () => {
        Et.off("change", o), n("");
      };
      Et.on("change", o);
      const a = t[Pn.requestFullscreen](e);
      a instanceof Promise && a.then(o).catch(r);
    });
  },
  exit() {
    return new Promise((t, e) => {
      if (!Et.isFullscreen) {
        t("");
        return;
      }
      const n = () => {
        Et.off("change", n), t("");
      };
      Et.on("change", n);
      const r = document[Pn.exitFullscreen]();
      r instanceof Promise && r.then(n).catch(e);
    });
  },
  toggle(t, e) {
    return Et.isFullscreen ? Et.exit() : Et.request(t, e);
  },
  onchange(t) {
    Et.on("change", t);
  },
  onerror(t) {
    Et.on("error", t);
  },
  on(t, e) {
    const n = Ad[t];
    n && document.addEventListener(n, e, !1);
  },
  off(t, e) {
    const n = Ad[t];
    n && document.removeEventListener(n, e, !1);
  },
  raw: Pn
};
Object.defineProperties(Et, {
  isFullscreen: {
    get: () => !!document[Pn.fullscreenElement]
  },
  element: {
    enumerable: !0,
    get: () => document[Pn.fullscreenElement] ?? void 0
  },
  isEnabled: {
    enumerable: !0,
    // Coerce to boolean in case of old WebKit.
    get: () => !!document[Pn.fullscreenEnabled]
  }
});
Pn || (Et = { isEnabled: !1 });
const Ya = Et, kd = "visWidgetBaseRect", HD = "矩形", VD = "0.0.1", C0 = /* @__PURE__ */ ue({
  name: kd,
  defaultValue: {
    type: "rect",
    events: fe,
    requests: de(),
    component: { name: kd, title: HD },
    version: VD,
    x: 200,
    y: 300,
    w: 100,
    h: 50,
    stroke: "#000000",
    fill: "rgba(0, 0, 0, 0)",
    strokeWidth: 2,
    rx: 0,
    ry: 0,
    states: []
  },
  __name: "index",
  props: {
    node: {
      type: Object,
      default: () => ({})
    }
  },
  setup(t) {
    const e = t, { wrapperAttrs: n } = he(e.node), r = H(() => {
      const { w: o, h: a, stroke: i, strokeWidth: s, fill: l, rx: u, willChange: c, visible: f } = e.node, h = {
        x: s / 2,
        y: s / 2,
        width: o - s,
        height: a - s,
        fill: l,
        "stroke-width": s,
        stroke: i,
        rx: u,
        ry: u,
        style: {
          display: f ? "block" : "none"
        }
      };
      return c && Reflect.set(h.style, "will-change", c), h;
    });
    return (o, a) => (j(), G("g", So(bo(N(n))), [
      ne("rect", So(bo(r.value)), null, 16)
    ], 16));
  }
}), Ed = "visWidgetBaseLine", qD = "线条", jD = "0.0.1", T0 = /* @__PURE__ */ ue({
  name: Ed,
  defaultValue: {
    type: "line",
    events: fe,
    requests: de(),
    component: { name: Ed, title: qD },
    version: jD,
    x1: 0,
    y1: 0,
    x2: 100,
    y2: 100,
    w: 100,
    h: 100,
    strokeWidth: 1,
    stroke: "#000",
    fill: "none"
  },
  __name: "index",
  props: {
    node: {
      type: Object,
      default: () => ({})
    }
  },
  setup(t) {
    const e = t, { wrapperAttrs: n } = he(e.node), r = H(() => {
      const { x1: o, y1: a, x2: i, y2: s, strokeWidth: l, stroke: u, fill: c, willChange: f, visible: h } = e.node, d = {
        x1: o,
        y1: a,
        x2: i,
        y2: s,
        "stroke-width": l,
        stroke: u,
        fill: c,
        style: {
          display: h ? "block" : "none"
        }
      };
      return f && Reflect.set(d.style, "will-change", f), d;
    });
    return (o, a) => (j(), G("g", So(bo(N(n))), [
      ne("line", So(bo(r.value)), null, 16)
    ], 16));
  }
});
var F0 = {
  update: null,
  begin: null,
  loopBegin: null,
  changeBegin: null,
  change: null,
  changeComplete: null,
  loopComplete: null,
  complete: null,
  loop: 1,
  direction: "normal",
  autoplay: !0,
  timelineOffset: 0
}, Vc = {
  duration: 1e3,
  delay: 0,
  endDelay: 0,
  easing: "easeOutElastic(1, .5)",
  round: 0
}, UD = ["translateX", "translateY", "translateZ", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "scaleX", "scaleY", "scaleZ", "skew", "skewX", "skewY", "perspective", "matrix", "matrix3d"], es = {
  CSS: {},
  springs: {}
};
function mn(t, e, n) {
  return Math.min(Math.max(t, e), n);
}
function ua(t, e) {
  return t.indexOf(e) > -1;
}
function cl(t, e) {
  return t.apply(null, e);
}
var pe = {
  arr: function(t) {
    return Array.isArray(t);
  },
  obj: function(t) {
    return ua(Object.prototype.toString.call(t), "Object");
  },
  pth: function(t) {
    return pe.obj(t) && t.hasOwnProperty("totalLength");
  },
  svg: function(t) {
    return t instanceof SVGElement;
  },
  inp: function(t) {
    return t instanceof HTMLInputElement;
  },
  dom: function(t) {
    return t.nodeType || pe.svg(t);
  },
  str: function(t) {
    return typeof t == "string";
  },
  fnc: function(t) {
    return typeof t == "function";
  },
  und: function(t) {
    return typeof t > "u";
  },
  nil: function(t) {
    return pe.und(t) || t === null;
  },
  hex: function(t) {
    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);
  },
  rgb: function(t) {
    return /^rgb/.test(t);
  },
  hsl: function(t) {
    return /^hsl/.test(t);
  },
  col: function(t) {
    return pe.hex(t) || pe.rgb(t) || pe.hsl(t);
  },
  key: function(t) {
    return !F0.hasOwnProperty(t) && !Vc.hasOwnProperty(t) && t !== "targets" && t !== "keyframes";
  }
};
function A0(t) {
  var e = /\(([^)]+)\)/.exec(t);
  return e ? e[1].split(",").map(function(n) {
    return parseFloat(n);
  }) : [];
}
function k0(t, e) {
  var n = A0(t), r = mn(pe.und(n[0]) ? 1 : n[0], 0.1, 100), o = mn(pe.und(n[1]) ? 100 : n[1], 0.1, 100), a = mn(pe.und(n[2]) ? 10 : n[2], 0.1, 100), i = mn(pe.und(n[3]) ? 0 : n[3], 0.1, 100), s = Math.sqrt(o / r), l = a / (2 * Math.sqrt(o * r)), u = l < 1 ? s * Math.sqrt(1 - l * l) : 0, c = 1, f = l < 1 ? (l * s + -i) / u : -i + s;
  function h(p) {
    var m = e ? e * p / 1e3 : p;
    return l < 1 ? m = Math.exp(-m * l * s) * (c * Math.cos(u * m) + f * Math.sin(u * m)) : m = (c + f * m) * Math.exp(-m * s), p === 0 || p === 1 ? p : 1 - m;
  }
  function d() {
    var p = es.springs[t];
    if (p)
      return p;
    for (var m = 1 / 6, g = 0, v = 0; ; )
      if (g += m, h(g) === 1) {
        if (v++, v >= 16)
          break;
      } else
        v = 0;
    var y = g * m * 1e3;
    return es.springs[t] = y, y;
  }
  return e ? h : d;
}
function YD(t) {
  return t === void 0 && (t = 10), function(e) {
    return Math.ceil(mn(e, 1e-6, 1) * t) * (1 / t);
  };
}
var GD = function() {
  var t = 11, e = 1 / (t - 1);
  function n(c, f) {
    return 1 - 3 * f + 3 * c;
  }
  function r(c, f) {
    return 3 * f - 6 * c;
  }
  function o(c) {
    return 3 * c;
  }
  function a(c, f, h) {
    return ((n(f, h) * c + r(f, h)) * c + o(f)) * c;
  }
  function i(c, f, h) {
    return 3 * n(f, h) * c * c + 2 * r(f, h) * c + o(f);
  }
  function s(c, f, h, d, p) {
    var m, g, v = 0;
    do
      g = f + (h - f) / 2, m = a(g, d, p) - c, m > 0 ? h = g : f = g;
    while (Math.abs(m) > 1e-7 && ++v < 10);
    return g;
  }
  function l(c, f, h, d) {
    for (var p = 0; p < 4; ++p) {
      var m = i(f, h, d);
      if (m === 0)
        return f;
      var g = a(f, h, d) - c;
      f -= g / m;
    }
    return f;
  }
  function u(c, f, h, d) {
    if (!(0 <= c && c <= 1 && 0 <= h && h <= 1))
      return;
    var p = new Float32Array(t);
    if (c !== f || h !== d)
      for (var m = 0; m < t; ++m)
        p[m] = a(m * e, c, h);
    function g(v) {
      for (var y = 0, S = 1, b = t - 1; S !== b && p[S] <= v; ++S)
        y += e;
      --S;
      var _ = (v - p[S]) / (p[S + 1] - p[S]), w = y + _ * e, T = i(w, c, h);
      return T >= 1e-3 ? l(v, w, c, h) : T === 0 ? w : s(v, y, y + e, c, h);
    }
    return function(v) {
      return c === f && h === d || v === 0 || v === 1 ? v : a(g(v), f, d);
    };
  }
  return u;
}(), E0 = function() {
  var t = { linear: function() {
    return function(r) {
      return r;
    };
  } }, e = {
    Sine: function() {
      return function(r) {
        return 1 - Math.cos(r * Math.PI / 2);
      };
    },
    Expo: function() {
      return function(r) {
        return r ? Math.pow(2, 10 * r - 10) : 0;
      };
    },
    Circ: function() {
      return function(r) {
        return 1 - Math.sqrt(1 - r * r);
      };
    },
    Back: function() {
      return function(r) {
        return r * r * (3 * r - 2);
      };
    },
    Bounce: function() {
      return function(r) {
        for (var o, a = 4; r < ((o = Math.pow(2, --a)) - 1) / 11; )
          ;
        return 1 / Math.pow(4, 3 - a) - 7.5625 * Math.pow((o * 3 - 2) / 22 - r, 2);
      };
    },
    Elastic: function(r, o) {
      r === void 0 && (r = 1), o === void 0 && (o = 0.5);
      var a = mn(r, 1, 10), i = mn(o, 0.1, 2);
      return function(s) {
        return s === 0 || s === 1 ? s : -a * Math.pow(2, 10 * (s - 1)) * Math.sin((s - 1 - i / (Math.PI * 2) * Math.asin(1 / a)) * (Math.PI * 2) / i);
      };
    }
  }, n = ["Quad", "Cubic", "Quart", "Quint"];
  return n.forEach(function(r, o) {
    e[r] = function() {
      return function(a) {
        return Math.pow(a, o + 2);
      };
    };
  }), Object.keys(e).forEach(function(r) {
    var o = e[r];
    t["easeIn" + r] = o, t["easeOut" + r] = function(a, i) {
      return function(s) {
        return 1 - o(a, i)(1 - s);
      };
    }, t["easeInOut" + r] = function(a, i) {
      return function(s) {
        return s < 0.5 ? o(a, i)(s * 2) / 2 : 1 - o(a, i)(s * -2 + 2) / 2;
      };
    }, t["easeOutIn" + r] = function(a, i) {
      return function(s) {
        return s < 0.5 ? (1 - o(a, i)(1 - s * 2)) / 2 : (o(a, i)(s * 2 - 1) + 1) / 2;
      };
    };
  }), t;
}();
function qc(t, e) {
  if (pe.fnc(t))
    return t;
  var n = t.split("(")[0], r = E0[n], o = A0(t);
  switch (n) {
    case "spring":
      return k0(t, e);
    case "cubicBezier":
      return cl(GD, o);
    case "steps":
      return cl(YD, o);
    default:
      return cl(r, o);
  }
}
function M0(t) {
  try {
    var e = document.querySelectorAll(t);
    return e;
  } catch {
    return;
  }
}
function Ls(t, e) {
  for (var n = t.length, r = arguments.length >= 2 ? arguments[1] : void 0, o = [], a = 0; a < n; a++)
    if (a in t) {
      var i = t[a];
      e.call(r, i, a, t) && o.push(i);
    }
  return o;
}
function $s(t) {
  return t.reduce(function(e, n) {
    return e.concat(pe.arr(n) ? $s(n) : n);
  }, []);
}
function Md(t) {
  return pe.arr(t) ? t : (pe.str(t) && (t = M0(t) || t), t instanceof NodeList || t instanceof HTMLCollection ? [].slice.call(t) : [t]);
}
function jc(t, e) {
  return t.some(function(n) {
    return n === e;
  });
}
function Uc(t) {
  var e = {};
  for (var n in t)
    e[n] = t[n];
  return e;
}
function Iu(t, e) {
  var n = Uc(t);
  for (var r in t)
    n[r] = e.hasOwnProperty(r) ? e[r] : t[r];
  return n;
}
function Is(t, e) {
  var n = Uc(t);
  for (var r in e)
    n[r] = pe.und(t[r]) ? e[r] : t[r];
  return n;
}
function XD(t) {
  var e = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);
  return e ? "rgba(" + e[1] + ",1)" : t;
}
function ZD(t) {
  var e = /^#?([a-f\d])([a-f\d])([a-f\d])$/i, n = t.replace(e, function(s, l, u, c) {
    return l + l + u + u + c + c;
  }), r = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n), o = parseInt(r[1], 16), a = parseInt(r[2], 16), i = parseInt(r[3], 16);
  return "rgba(" + o + "," + a + "," + i + ",1)";
}
function KD(t) {
  var e = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t), n = parseInt(e[1], 10) / 360, r = parseInt(e[2], 10) / 100, o = parseInt(e[3], 10) / 100, a = e[4] || 1;
  function i(h, d, p) {
    return p < 0 && (p += 1), p > 1 && (p -= 1), p < 1 / 6 ? h + (d - h) * 6 * p : p < 1 / 2 ? d : p < 2 / 3 ? h + (d - h) * (2 / 3 - p) * 6 : h;
  }
  var s, l, u;
  if (r == 0)
    s = l = u = o;
  else {
    var c = o < 0.5 ? o * (1 + r) : o + r - o * r, f = 2 * o - c;
    s = i(f, c, n + 1 / 3), l = i(f, c, n), u = i(f, c, n - 1 / 3);
  }
  return "rgba(" + s * 255 + "," + l * 255 + "," + u * 255 + "," + a + ")";
}
function JD(t) {
  if (pe.rgb(t))
    return XD(t);
  if (pe.hex(t))
    return ZD(t);
  if (pe.hsl(t))
    return KD(t);
}
function zn(t) {
  var e = /[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);
  if (e)
    return e[1];
}
function QD(t) {
  if (ua(t, "translate") || t === "perspective")
    return "px";
  if (ua(t, "rotate") || ua(t, "skew"))
    return "deg";
}
function Pu(t, e) {
  return pe.fnc(t) ? t(e.target, e.id, e.total) : t;
}
function Sn(t, e) {
  return t.getAttribute(e);
}
function Yc(t, e, n) {
  var r = zn(e);
  if (jc([n, "deg", "rad", "turn"], r))
    return e;
  var o = es.CSS[e + n];
  if (!pe.und(o))
    return o;
  var a = 100, i = document.createElement(t.tagName), s = t.parentNode && t.parentNode !== document ? t.parentNode : document.body;
  s.appendChild(i), i.style.position = "absolute", i.style.width = a + n;
  var l = a / i.offsetWidth;
  s.removeChild(i);
  var u = l * parseFloat(e);
  return es.CSS[e + n] = u, u;
}
function O0(t, e, n) {
  if (e in t.style) {
    var r = e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(), o = t.style[e] || getComputedStyle(t).getPropertyValue(r) || "0";
    return n ? Yc(t, o, n) : o;
  }
}
function Gc(t, e) {
  if (pe.dom(t) && !pe.inp(t) && (!pe.nil(Sn(t, e)) || pe.svg(t) && t[e]))
    return "attribute";
  if (pe.dom(t) && jc(UD, e))
    return "transform";
  if (pe.dom(t) && e !== "transform" && O0(t, e))
    return "css";
  if (t[e] != null)
    return "object";
}
function R0(t) {
  if (pe.dom(t)) {
    for (var e = t.style.transform || "", n = /(\w+)\(([^)]*)\)/g, r = /* @__PURE__ */ new Map(), o; o = n.exec(e); )
      r.set(o[1], o[2]);
    return r;
  }
}
function eC(t, e, n, r) {
  var o = ua(e, "scale") ? 1 : 0 + QD(e), a = R0(t).get(e) || o;
  return n && (n.transforms.list.set(e, a), n.transforms.last = e), r ? Yc(t, a, r) : a;
}
function Xc(t, e, n, r) {
  switch (Gc(t, e)) {
    case "transform":
      return eC(t, e, r, n);
    case "css":
      return O0(t, e, n);
    case "attribute":
      return Sn(t, e);
    default:
      return t[e] || 0;
  }
}
function Zc(t, e) {
  var n = /^(\*=|\+=|-=)/.exec(t);
  if (!n)
    return t;
  var r = zn(t) || 0, o = parseFloat(e), a = parseFloat(t.replace(n[0], ""));
  switch (n[0][0]) {
    case "+":
      return o + a + r;
    case "-":
      return o - a + r;
    case "*":
      return o * a + r;
  }
}
function L0(t, e) {
  if (pe.col(t))
    return JD(t);
  if (/\s/g.test(t))
    return t;
  var n = zn(t), r = n ? t.substr(0, t.length - n.length) : t;
  return e ? r + e : r;
}
function Kc(t, e) {
  return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
}
function tC(t) {
  return Math.PI * 2 * Sn(t, "r");
}
function nC(t) {
  return Sn(t, "width") * 2 + Sn(t, "height") * 2;
}
function rC(t) {
  return Kc(
    { x: Sn(t, "x1"), y: Sn(t, "y1") },
    { x: Sn(t, "x2"), y: Sn(t, "y2") }
  );
}
function $0(t) {
  for (var e = t.points, n = 0, r, o = 0; o < e.numberOfItems; o++) {
    var a = e.getItem(o);
    o > 0 && (n += Kc(r, a)), r = a;
  }
  return n;
}
function oC(t) {
  var e = t.points;
  return $0(t) + Kc(e.getItem(e.numberOfItems - 1), e.getItem(0));
}
function I0(t) {
  if (t.getTotalLength)
    return t.getTotalLength();
  switch (t.tagName.toLowerCase()) {
    case "circle":
      return tC(t);
    case "rect":
      return nC(t);
    case "line":
      return rC(t);
    case "polyline":
      return $0(t);
    case "polygon":
      return oC(t);
  }
}
function aC(t) {
  var e = I0(t);
  return t.setAttribute("stroke-dasharray", e), e;
}
function iC(t) {
  for (var e = t.parentNode; pe.svg(e) && pe.svg(e.parentNode); )
    e = e.parentNode;
  return e;
}
function P0(t, e) {
  var n = e || {}, r = n.el || iC(t), o = r.getBoundingClientRect(), a = Sn(r, "viewBox"), i = o.width, s = o.height, l = n.viewBox || (a ? a.split(" ") : [0, 0, i, s]);
  return {
    el: r,
    viewBox: l,
    x: l[0] / 1,
    y: l[1] / 1,
    w: i,
    h: s,
    vW: l[2],
    vH: l[3]
  };
}
function sC(t, e) {
  var n = pe.str(t) ? M0(t)[0] : t, r = e || 100;
  return function(o) {
    return {
      property: o,
      el: n,
      svg: P0(n),
      totalLength: I0(n) * (r / 100)
    };
  };
}
function lC(t, e, n) {
  function r(c) {
    c === void 0 && (c = 0);
    var f = e + c >= 1 ? e + c : 0;
    return t.el.getPointAtLength(f);
  }
  var o = P0(t.el, t.svg), a = r(), i = r(-1), s = r(1), l = n ? 1 : o.w / o.vW, u = n ? 1 : o.h / o.vH;
  switch (t.property) {
    case "x":
      return (a.x - o.x) * l;
    case "y":
      return (a.y - o.y) * u;
    case "angle":
      return Math.atan2(s.y - i.y, s.x - i.x) * 180 / Math.PI;
  }
}
function Od(t, e) {
  var n = /[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g, r = L0(pe.pth(t) ? t.totalLength : t, e) + "";
  return {
    original: r,
    numbers: r.match(n) ? r.match(n).map(Number) : [0],
    strings: pe.str(t) || e ? r.split(n) : []
  };
}
function Jc(t) {
  var e = t ? $s(pe.arr(t) ? t.map(Md) : Md(t)) : [];
  return Ls(e, function(n, r, o) {
    return o.indexOf(n) === r;
  });
}
function z0(t) {
  var e = Jc(t);
  return e.map(function(n, r) {
    return { target: n, id: r, total: e.length, transforms: { list: R0(n) } };
  });
}
function uC(t, e) {
  var n = Uc(e);
  if (/^spring/.test(n.easing) && (n.duration = k0(n.easing)), pe.arr(t)) {
    var r = t.length, o = r === 2 && !pe.obj(t[0]);
    o ? t = { value: t } : pe.fnc(e.duration) || (n.duration = e.duration / r);
  }
  var a = pe.arr(t) ? t : [t];
  return a.map(function(i, s) {
    var l = pe.obj(i) && !pe.pth(i) ? i : { value: i };
    return pe.und(l.delay) && (l.delay = s ? 0 : e.delay), pe.und(l.endDelay) && (l.endDelay = s === a.length - 1 ? e.endDelay : 0), l;
  }).map(function(i) {
    return Is(i, n);
  });
}
function cC(t) {
  for (var e = Ls($s(t.map(function(a) {
    return Object.keys(a);
  })), function(a) {
    return pe.key(a);
  }).reduce(function(a, i) {
    return a.indexOf(i) < 0 && a.push(i), a;
  }, []), n = {}, r = function(a) {
    var i = e[a];
    n[i] = t.map(function(s) {
      var l = {};
      for (var u in s)
        pe.key(u) ? u == i && (l.value = s[u]) : l[u] = s[u];
      return l;
    });
  }, o = 0; o < e.length; o++) r(o);
  return n;
}
function fC(t, e) {
  var n = [], r = e.keyframes;
  r && (e = Is(cC(r), e));
  for (var o in e)
    pe.key(o) && n.push({
      name: o,
      tweens: uC(e[o], t)
    });
  return n;
}
function dC(t, e) {
  var n = {};
  for (var r in t) {
    var o = Pu(t[r], e);
    pe.arr(o) && (o = o.map(function(a) {
      return Pu(a, e);
    }), o.length === 1 && (o = o[0])), n[r] = o;
  }
  return n.duration = parseFloat(n.duration), n.delay = parseFloat(n.delay), n;
}
function hC(t, e) {
  var n;
  return t.tweens.map(function(r) {
    var o = dC(r, e), a = o.value, i = pe.arr(a) ? a[1] : a, s = zn(i), l = Xc(e.target, t.name, s, e), u = n ? n.to.original : l, c = pe.arr(a) ? a[0] : u, f = zn(c) || zn(l), h = s || f;
    return pe.und(i) && (i = u), o.from = Od(c, h), o.to = Od(Zc(i, c), h), o.start = n ? n.end : 0, o.end = o.start + o.delay + o.duration + o.endDelay, o.easing = qc(o.easing, o.duration), o.isPath = pe.pth(a), o.isPathTargetInsideSVG = o.isPath && pe.svg(e.target), o.isColor = pe.col(o.from.original), o.isColor && (o.round = 1), n = o, o;
  });
}
var B0 = {
  css: function(t, e, n) {
    return t.style[e] = n;
  },
  attribute: function(t, e, n) {
    return t.setAttribute(e, n);
  },
  object: function(t, e, n) {
    return t[e] = n;
  },
  transform: function(t, e, n, r, o) {
    if (r.list.set(e, n), e === r.last || o) {
      var a = "";
      r.list.forEach(function(i, s) {
        a += s + "(" + i + ") ";
      }), t.style.transform = a;
    }
  }
};
function W0(t, e) {
  var n = z0(t);
  n.forEach(function(r) {
    for (var o in e) {
      var a = Pu(e[o], r), i = r.target, s = zn(a), l = Xc(i, o, s, r), u = s || zn(l), c = Zc(L0(a, u), l), f = Gc(i, o);
      B0[f](i, o, c, r.transforms, !0);
    }
  });
}
function pC(t, e) {
  var n = Gc(t.target, e.name);
  if (n) {
    var r = hC(e, t), o = r[r.length - 1];
    return {
      type: n,
      property: e.name,
      animatable: t,
      tweens: r,
      duration: o.end,
      delay: r[0].delay,
      endDelay: o.endDelay
    };
  }
}
function vC(t, e) {
  return Ls($s(t.map(function(n) {
    return e.map(function(r) {
      return pC(n, r);
    });
  })), function(n) {
    return !pe.und(n);
  });
}
function N0(t, e) {
  var n = t.length, r = function(a) {
    return a.timelineOffset ? a.timelineOffset : 0;
  }, o = {};
  return o.duration = n ? Math.max.apply(Math, t.map(function(a) {
    return r(a) + a.duration;
  })) : e.duration, o.delay = n ? Math.min.apply(Math, t.map(function(a) {
    return r(a) + a.delay;
  })) : e.delay, o.endDelay = n ? o.duration - Math.max.apply(Math, t.map(function(a) {
    return r(a) + a.duration - a.endDelay;
  })) : e.endDelay, o;
}
var Rd = 0;
function gC(t) {
  var e = Iu(F0, t), n = Iu(Vc, t), r = fC(n, t), o = z0(t.targets), a = vC(o, r), i = N0(a, n), s = Rd;
  return Rd++, Is(e, {
    id: s,
    children: [],
    animatables: o,
    animations: a,
    duration: i.duration,
    delay: i.delay,
    endDelay: i.endDelay
  });
}
var rn = [], H0 = function() {
  var t;
  function e() {
    !t && (!Ld() || !qe.suspendWhenDocumentHidden) && rn.length > 0 && (t = requestAnimationFrame(n));
  }
  function n(o) {
    for (var a = rn.length, i = 0; i < a; ) {
      var s = rn[i];
      s.paused ? (rn.splice(i, 1), a--) : (s.tick(o), i++);
    }
    t = i > 0 ? requestAnimationFrame(n) : void 0;
  }
  function r() {
    qe.suspendWhenDocumentHidden && (Ld() ? t = cancelAnimationFrame(t) : (rn.forEach(
      function(o) {
        return o._onDocumentVisibility();
      }
    ), H0()));
  }
  return typeof document < "u" && document.addEventListener("visibilitychange", r), e;
}();
function Ld() {
  return !!document && document.hidden;
}
function qe(t) {
  t === void 0 && (t = {});
  var e = 0, n = 0, r = 0, o, a = 0, i = null;
  function s(y) {
    var S = window.Promise && new Promise(function(b) {
      return i = b;
    });
    return y.finished = S, S;
  }
  var l = gC(t);
  s(l);
  function u() {
    var y = l.direction;
    y !== "alternate" && (l.direction = y !== "normal" ? "normal" : "reverse"), l.reversed = !l.reversed, o.forEach(function(S) {
      return S.reversed = l.reversed;
    });
  }
  function c(y) {
    return l.reversed ? l.duration - y : y;
  }
  function f() {
    e = 0, n = c(l.currentTime) * (1 / qe.speed);
  }
  function h(y, S) {
    S && S.seek(y - S.timelineOffset);
  }
  function d(y) {
    if (l.reversePlayback)
      for (var b = a; b--; )
        h(y, o[b]);
    else
      for (var S = 0; S < a; S++)
        h(y, o[S]);
  }
  function p(y) {
    for (var S = 0, b = l.animations, _ = b.length; S < _; ) {
      var w = b[S], T = w.animatable, C = w.tweens, x = C.length - 1, D = C[x];
      x && (D = Ls(C, function(q) {
        return y < q.end;
      })[0] || D);
      for (var F = mn(y - D.start - D.delay, 0, D.duration) / D.duration, I = isNaN(F) ? 1 : D.easing(F), P = D.to.strings, O = D.round, k = [], $ = D.to.numbers.length, M = void 0, A = 0; A < $; A++) {
        var L = void 0, R = D.to.numbers[A], E = D.from.numbers[A] || 0;
        D.isPath ? L = lC(D.value, I * R, D.isPathTargetInsideSVG) : L = E + I * (R - E), O && (D.isColor && A > 2 || (L = Math.round(L * O) / O)), k.push(L);
      }
      var B = P.length;
      if (!B)
        M = k[0];
      else {
        M = P[0];
        for (var W = 0; W < B; W++) {
          P[W];
          var z = P[W + 1], V = k[W];
          isNaN(V) || (z ? M += V + z : M += V + " ");
        }
      }
      B0[w.type](T.target, w.property, M, T.transforms), w.currentValue = M, S++;
    }
  }
  function m(y) {
    l[y] && !l.passThrough && l[y](l);
  }
  function g() {
    l.remaining && l.remaining !== !0 && l.remaining--;
  }
  function v(y) {
    var S = l.duration, b = l.delay, _ = S - l.endDelay, w = c(y);
    l.progress = mn(w / S * 100, 0, 100), l.reversePlayback = w < l.currentTime, o && d(w), !l.began && l.currentTime > 0 && (l.began = !0, m("begin")), !l.loopBegan && l.currentTime > 0 && (l.loopBegan = !0, m("loopBegin")), w <= b && l.currentTime !== 0 && p(0), (w >= _ && l.currentTime !== S || !S) && p(S), w > b && w < _ ? (l.changeBegan || (l.changeBegan = !0, l.changeCompleted = !1, m("changeBegin")), m("change"), p(w)) : l.changeBegan && (l.changeCompleted = !0, l.changeBegan = !1, m("changeComplete")), l.currentTime = mn(w, 0, S), l.began && m("update"), y >= S && (n = 0, g(), l.remaining ? (e = r, m("loopComplete"), l.loopBegan = !1, l.direction === "alternate" && u()) : (l.paused = !0, l.completed || (l.completed = !0, m("loopComplete"), m("complete"), !l.passThrough && "Promise" in window && (i(), s(l)))));
  }
  return l.reset = function() {
    var y = l.direction;
    l.passThrough = !1, l.currentTime = 0, l.progress = 0, l.paused = !0, l.began = !1, l.loopBegan = !1, l.changeBegan = !1, l.completed = !1, l.changeCompleted = !1, l.reversePlayback = !1, l.reversed = y === "reverse", l.remaining = l.loop, o = l.children, a = o.length;
    for (var S = a; S--; )
      l.children[S].reset();
    (l.reversed && l.loop !== !0 || y === "alternate" && l.loop === 1) && l.remaining++, p(l.reversed ? l.duration : 0);
  }, l._onDocumentVisibility = f, l.set = function(y, S) {
    return W0(y, S), l;
  }, l.tick = function(y) {
    r = y, e || (e = r), v((r + (n - e)) * qe.speed);
  }, l.seek = function(y) {
    v(c(y));
  }, l.pause = function() {
    l.paused = !0, f();
  }, l.play = function() {
    l.paused && (l.completed && l.reset(), l.paused = !1, rn.push(l), f(), H0());
  }, l.reverse = function() {
    u(), l.completed = !l.reversed, f();
  }, l.restart = function() {
    l.reset(), l.play();
  }, l.remove = function(y) {
    var S = Jc(y);
    V0(S, l);
  }, l.reset(), l.autoplay && l.play(), l;
}
function $d(t, e) {
  for (var n = e.length; n--; )
    jc(t, e[n].animatable.target) && e.splice(n, 1);
}
function V0(t, e) {
  var n = e.animations, r = e.children;
  $d(t, n);
  for (var o = r.length; o--; ) {
    var a = r[o], i = a.animations;
    $d(t, i), !i.length && !a.children.length && r.splice(o, 1);
  }
  !n.length && !r.length && e.pause();
}
function yC(t) {
  for (var e = Jc(t), n = rn.length; n--; ) {
    var r = rn[n];
    V0(e, r);
  }
}
function mC(t, e) {
  e === void 0 && (e = {});
  var n = e.direction || "normal", r = e.easing ? qc(e.easing) : null, o = e.grid, a = e.axis, i = e.from || 0, s = i === "first", l = i === "center", u = i === "last", c = pe.arr(t), f = parseFloat(c ? t[0] : t), h = c ? parseFloat(t[1]) : 0, d = zn(c ? t[1] : t) || 0, p = e.start || 0 + (c ? f : 0), m = [], g = 0;
  return function(v, y, S) {
    if (s && (i = 0), l && (i = (S - 1) / 2), u && (i = S - 1), !m.length) {
      for (var b = 0; b < S; b++) {
        if (!o)
          m.push(Math.abs(i - b));
        else {
          var _ = l ? (o[0] - 1) / 2 : i % o[0], w = l ? (o[1] - 1) / 2 : Math.floor(i / o[0]), T = b % o[0], C = Math.floor(b / o[0]), x = _ - T, D = w - C, F = Math.sqrt(x * x + D * D);
          a === "x" && (F = -x), a === "y" && (F = -D), m.push(F);
        }
        g = Math.max.apply(Math, m);
      }
      r && (m = m.map(function(P) {
        return r(P / g) * g;
      })), n === "reverse" && (m = m.map(function(P) {
        return a ? P < 0 ? P * -1 : -P : Math.abs(g - P);
      }));
    }
    var I = c ? (h - f) / g : f;
    return p + I * (Math.round(m[y] * 100) / 100) + d;
  };
}
function SC(t) {
  t === void 0 && (t = {});
  var e = qe(t);
  return e.duration = 0, e.add = function(n, r) {
    var o = rn.indexOf(e), a = e.children;
    o > -1 && rn.splice(o, 1);
    function i(h) {
      h.passThrough = !0;
    }
    for (var s = 0; s < a.length; s++)
      i(a[s]);
    var l = Is(n, Iu(Vc, t));
    l.targets = l.targets || t.targets;
    var u = e.duration;
    l.autoplay = !1, l.direction = e.direction, l.timelineOffset = pe.und(r) ? u : Zc(r, u), i(e), e.seek(l.timelineOffset);
    var c = qe(l);
    i(c), a.push(c);
    var f = N0(a, t);
    return e.delay = f.delay, e.endDelay = f.endDelay, e.duration = f.duration, e.seek(0), e.reset(), e.autoplay && e.play(), e;
  }, e;
}
qe.version = "3.2.1";
qe.speed = 1;
qe.suspendWhenDocumentHidden = !0;
qe.running = rn;
qe.remove = yC;
qe.get = Xc;
qe.set = W0;
qe.convertPx = Yc;
qe.path = sC;
qe.setDashoffset = aC;
qe.stagger = mC;
qe.timeline = SC;
qe.easing = qc;
qe.penner = E0;
qe.random = function(t, e) {
  return Math.floor(Math.random() * (e - t + 1)) + t;
};
const bC = ["points", "stroke-width", "stroke"], wC = ["points", "stroke-width", "stroke", "stroke-dasharray"], _C = ["points"], Id = "visWidgetBasePolyline", xC = "折线", DC = "0.0.1", q0 = /* @__PURE__ */ ue({
  name: Id,
  defaultValue: {
    type: "polyline",
    component: { name: Id, title: xC },
    version: DC,
    dataFieldMap: [],
    data: [],
    states: [],
    events: fe,
    requests: de(),
    w: 0,
    h: 0,
    fill: "#ffffff00",
    stroke: "#000000",
    strokeWidth: 1,
    isPipe: !1,
    // 是否是管道
    pipe: {
      outerBg: "#2c83fb",
      outerWidth: 10,
      // 外径
      innerBg: "#ffffff",
      innerWidth: 4,
      // 内径
      solidLength: 10,
      // 实线长度
      dashedLength: 10,
      // 虚线长度
      flowEnabled: !1,
      // 是否开启流动
      step: 4,
      // 流动步进量
      positiveFlow: !0
      // 是否正向流动
    },
    points: []
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t;
    (() => {
      e.node.pipe.flowEnabled === void 0 && (e.node.pipe.flowEnabled = !1, e.node.pipe.step = 4, e.node.pipe.positiveFlow = !0), e.node.pipe.step === void 0 && (e.node.pipe.step = 4);
    })();
    const r = H(() => e.node.points.map((y) => `${y.x},${y.y}`).join(" ")), o = H(() => {
      const { stroke: y, strokeWidth: S, fill: b } = e.node;
      return { stroke: y, "stroke-width": S, fill: b, "stroke-linejoin": "round" };
    }), { getMappedData: a } = we(), i = H({
      get: () => {
        const y = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return a(y);
      },
      set: (y) => {
        e.node.data = y;
      }
    }), s = Q();
    let l = null, u = 0;
    const c = {
      dashOffset: 0
    }, f = () => {
      Se(() => {
        l && (Reflect.deleteProperty(e.node, "willChange"), l.pause(), l = null);
        const { interactive: y } = e.node.editor.config, { isPipe: S, pipe: b } = e.node;
        if (y && b.flowEnabled && S) {
          const _ = e.node.editor.refreshRate || 60, w = _ > 0 ? 60 / _ : 1, T = b.positiveFlow ? -1 : 1;
          u = (b.step < 1 ? 1 : b.step / 4) * T * w, c.dashOffset = 0, e.node.willChange = "transform", l = qe({
            targets: c,
            loop: !0,
            easing: "linear",
            update: function() {
              c.dashOffset += u, s.value.setAttribute("stroke-dashoffset", c.dashOffset);
            }
          });
        }
      });
    };
    ve(
      () => [e.node.pipe.flowEnabled, e.node.pipe.step, e.node.pipe.positiveFlow],
      () => {
        f();
      },
      { immediate: !0 }
    );
    const { handleEvent: h, handleRequest: d, handleState: p, wrapperAttrs: m } = he(e.node), g = (y) => {
      i.value = y;
    }, v = ({ isOn: y = !1 }) => {
      const S = y ? "on" : "off";
      e.node[S]({
        setData: g,
        request: d,
        state: p
      }), e.node.editor[S]({
        "refresh:rate": f
      });
    };
    return le(() => {
      d(), v({ isOn: !0 }), h("mounted", "");
    }), se(() => {
      v({ isOn: !1 }), l && l.pause(), l = null;
    }), (y, S) => (j(), G("g", So(bo(N(m))), [
      y.node.isPipe ? (j(), G(Ne, { key: 0 }, [
        ne("polyline", {
          class: "outer-pipeline",
          fill: "transparent",
          points: r.value,
          "stroke-width": y.node.pipe.outerWidth,
          stroke: y.node.pipe.outerBg,
          "stroke-linejoin": "round"
        }, null, 8, bC),
        ne("polyline", {
          ref_key: "flowRef",
          ref: s,
          points: r.value,
          class: "inner-pipeline",
          fill: "transparent",
          "stroke-width": y.node.pipe.innerWidth,
          stroke: y.node.pipe.innerBg,
          "stroke-dasharray": [y.node.pipe.solidLength, y.node.pipe.dashedLength].join(" ")
        }, null, 8, wC)
      ], 64)) : (j(), G("polyline", ce({
        key: 1,
        points: r.value
      }, o.value), null, 16, _C))
    ], 16));
  }
}), CC = ["d", "stroke-width", "stroke"], TC = ["d", "stroke-width", "stroke", "stroke-dasharray"], FC = ["d"], Pd = "visWidgetBaseBezierCurve", AC = "钢笔工具", kC = "0.0.1", j0 = /* @__PURE__ */ ue({
  name: Pd,
  defaultValue: {
    type: "bezierCurve",
    component: { name: Pd, title: AC },
    version: kC,
    dataFieldMap: [],
    data: [],
    states: [],
    events: fe,
    requests: de(),
    w: 0,
    h: 0,
    fill: "#ffffff00",
    stroke: "#000000",
    strokeWidth: 1,
    isPipe: !1,
    // 是否是管道
    pipe: {
      outerBg: "#2c83fb",
      outerWidth: 10,
      // 外径
      innerBg: "#ffffff",
      innerWidth: 4,
      // 内径
      solidLength: 10,
      // 实线长度
      dashedLength: 10,
      // 虚线长度
      flowEnabled: !1,
      // 是否开启流动
      step: 4,
      // 流动步进量
      positiveFlow: !0
      // 是否正向流动
    },
    path: []
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t;
    (() => {
      e.node.pipe.flowEnabled === void 0 && (e.node.pipe.flowEnabled = !1, e.node.pipe.step = 4, e.node.pipe.positiveFlow = !0), e.node.pipe.step === void 0 && (e.node.pipe.step = 4);
    })();
    const r = H(() => (e.node.path || []).reduce((b, _) => {
      const w = _[0], C = _.slice(1).map((x) => x);
      return b + `${w} ${C.join(" ")}`;
    }, "")), o = H(() => {
      const { stroke: y, strokeWidth: S, fill: b } = e.node;
      return { stroke: y, "stroke-width": S, fill: b, "stroke-linejoin": "round" };
    }), { getMappedData: a } = we(), i = H({
      get: () => {
        const y = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return a(y);
      },
      set: (y) => {
        e.node.data = y;
      }
    }), s = Q();
    let l = null, u = 0;
    const c = {
      dashOffset: 0
    }, f = () => {
      Se(() => {
        l && (Reflect.deleteProperty(e.node, "willChange"), l.pause(), l = null);
        const { interactive: y } = e.node.editor.config, { isPipe: S, pipe: b } = e.node;
        if (y && b.flowEnabled && S) {
          const _ = e.node.editor.refreshRate || 60, w = _ > 0 ? 60 / _ : 1, T = b.positiveFlow ? -1 : 1;
          u = (b.step < 1 ? 1 : b.step / 4) * T * w, c.dashOffset = 0, e.node.willChange = "transform", l = qe({
            targets: c,
            loop: !0,
            easing: "linear",
            update: function() {
              c.dashOffset += u, s.value.setAttribute("stroke-dashoffset", c.dashOffset);
            }
          });
        }
      });
    };
    ve(
      () => [e.node.pipe.flowEnabled, e.node.pipe.step, e.node.pipe.positiveFlow],
      () => {
        f();
      },
      { immediate: !0 }
    );
    const { handleEvent: h, handleRequest: d, handleState: p, wrapperAttrs: m } = he(e.node), g = (y) => {
      i.value = y;
    }, v = ({ isOn: y = !1 }) => {
      const S = y ? "on" : "off";
      e.node[S]({
        setData: g,
        request: d,
        state: p
      }), e.node.editor[S]({
        "refresh:rate": f
      });
    };
    return le(() => {
      d(), v({ isOn: !0 }), h("mounted", "");
    }), se(() => {
      v({ isOn: !1 }), l && l.pause(), l = null;
    }), (y, S) => (j(), G("g", So(bo(N(m))), [
      y.node.isPipe ? (j(), G(Ne, { key: 0 }, [
        ne("path", {
          d: r.value,
          class: "outer-pipeline",
          fill: "transparent",
          "stroke-width": y.node.pipe.outerWidth,
          stroke: y.node.pipe.outerBg,
          "stroke-linejoin": "round"
        }, null, 8, CC),
        ne("path", {
          class: "inner-pipeline",
          fill: "transparent",
          ref_key: "flowRef",
          ref: s,
          d: r.value,
          "stroke-width": y.node.pipe.innerWidth,
          stroke: y.node.pipe.innerBg,
          "stroke-dasharray": [y.node.pipe.solidLength, y.node.pipe.dashedLength].join(" ")
        }, null, 8, TC)
      ], 64)) : (j(), G("path", ce({
        key: 1,
        d: r.value
      }, o.value), null, 16, FC))
    ], 16));
  }
}), EC = ["src"], zd = "visWidgetImage", MC = "图片", OC = "0.0.1", U0 = /* @__PURE__ */ ue({
  name: zd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: zd, title: MC },
    version: OC,
    opacity: 1,
    svgStretchable: !0,
    // svg图片是否可以被拉伸
    rotate: !1,
    // 是否开启旋转
    duration: 3,
    // 旋转时间
    reverse: !1,
    // 旋转方向是否逆时针
    skewAngle: "rotating",
    // 旋转角度
    filter: {
      enable: !1,
      hueRotate: 0,
      // 色相
      contrast: 100,
      // 对比度
      saturate: 100,
      // 饱和度
      brightness: 100,
      // 亮度
      grayscale: 0
    },
    dataFieldMap: [
      {
        fieldName: "src",
        fieldAlias: "",
        fieldDesc: "文本",
        dataType: "string"
      }
    ],
    data: [],
    states: [
      {
        src: "/resource/componentConfig/source1.jpeg",
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          borderWidth: 0,
          borderStyle: "solid",
          borderColor: "#999",
          objectFit: "fill"
        },
        name: "默认状态"
      }
    ],
    w: 189,
    h: 106
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = H(() => e.node.states[e.node.stateIndex]), r = H({
      get: () => n.value,
      set: (h) => {
        n.value.src = (h == null ? void 0 : h.src) || "";
      }
    }), o = Q("");
    ve(
      () => r.value.src,
      (h) => {
        const d = h || "";
        Se(() => {
          d.toLowerCase().endsWith(".svg") && e.node.svgStretchable ? Ge.get(d).then((p) => {
            if (d === r.value.src) {
              const m = p.data.replace(/<svg([^>]*)>/, '<svg$1 preserveAspectRatio="none">'), g = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(m)}`;
              o.value = g;
            }
          }).catch(() => {
            d === r.value.src && (o.value = "");
          }) : o.value = d;
        });
      },
      {
        immediate: !0
      }
    ), (() => {
      const h = {
        enable: !1,
        hueRotate: 0,
        // 色相
        contrast: 100,
        // 对比度
        saturate: 100,
        // 饱和度
        brightness: 100,
        // 亮度
        grayscale: 0
      };
      e.node.filter ? typeof e.node.filter.hueRotate == "object" && (e.node.filter = h) : e.node.filter = h;
    })();
    const i = H(() => {
      const { reverse: h, skewAngle: d, duration: p, rotate: m, opacity: g, filter: v } = e.node, y = {
        opacity: g,
        ...qg(n.value)
      };
      if (m && (y.animationDuration = `${p}s`, y.animationName = `${d}`, y.animationDirection = h ? "reverse" : "normal"), v && v.enable) {
        const { hueRotate: S, contrast: b, saturate: _, brightness: w, grayscale: T } = v;
        y.filter = `hue-rotate(${S}deg) contrast(${b}%) saturate(${_}%) brightness(${w}%) grayscale(${T}%)`;
      }
      return y;
    }), { handleEvent: s, handleRequest: l, handleState: u, wrapperAttrs: c } = he(e.node), f = (h) => {
      r.value = h;
      const d = e.node.dataFieldMap[0], p = d.fieldAlias || d.fieldName;
      h.forEach((m, g) => {
        e.node.states[g] && (e.node.states[g].src = m[p] || "");
      });
    };
    return le(() => {
      l(), e.node.on({
        setData: f,
        request: l,
        state: u
      }), s("mounted", "");
    }), se(() => {
      e.node.off({
        setData: f,
        request: l,
        state: u
      });
    }), (h, d) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(c), {
      onClick: d[0] || (d[0] = (p) => N(s)("click", p)),
      onDblclick: d[1] || (d[1] = (p) => N(s)("dblclick", p))
    }), [
      o.value ? (j(), G("img", {
        key: 0,
        class: "full-width full-height widget-image",
        style: oe(i.value),
        src: o.value
      }, null, 12, EC)) : (j(), G("div", {
        key: 1,
        class: "full-width full-height widget-image",
        style: oe(i.value)
      }, null, 4))
    ], 16));
  }
}), RC = ["contenteditable"], Bd = "visWidgetText", LC = "文本", $C = "0.0.1", IC = /* @__PURE__ */ ue({
  name: Bd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Bd, title: LC },
    version: $C,
    link: "",
    linkEnable: !1,
    openWay: "_self",
    dataFieldMap: [
      {
        fieldName: "text",
        fieldAlias: "",
        fieldDesc: "文本",
        dataType: "string"
      }
    ],
    data: [
      {
        text: "文本"
      }
    ],
    states: [
      {
        textOverflow: "wrap",
        underline: !1,
        overline: !1,
        lineThrough: !1,
        style: {
          fontFamily: "",
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 28,
          color: "#ffffff",
          alignItems: "flex-start",
          textAlign: "left",
          justifyContent: "left",
          // justifyContent要和textAlign配合一起使用才能达到文本居中对齐效果 -_-!
          lineHeight: 32,
          letterSpacing: 0,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          paddingLeft: 6,
          paddingRight: 6
        },
        textShadow: {
          show: !0,
          horizontal: 0,
          vertical: 2,
          blur: 16,
          color: "rgba(11, 140, 240, 1)"
        }
      }
    ],
    w: 100,
    h: 36
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const y = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(y);
      },
      set: (y) => {
        var S;
        Array.isArray(y) ? e.node.data = y : y && ((S = e.node.data) != null && S.length ? Object.assign(e.node.data[0], y) : e.node.data = [y]);
      }
    }), o = H(() => {
      const { dataFieldMap: y } = e.node, S = y.find((_) => _.fieldName === "text") || {}, b = S.fieldAlias || S.fieldName;
      return r.value[b];
    }), a = e.node.states;
    (() => {
      a.forEach((y) => {
        y.textShadow === void 0 && (y.textOverflow = e.node.textOverflow, y.overline = !1, y.underline = !1, y.lineThrough = !1, y.textShadow = e.node.shadowStyle, y.style.fontWeight = e.node.textFontStyle.fontWeight, y.style.fontStyle = e.node.textFontStyle.fontStyle, y.style.letterSpacing = e.node.textFontStyle.letterSpacing, y.style.lineHeight = e.node.textFontStyle.lineHeight, delete e.node.textFontStyle, delete e.node.textOverflow, delete e.node.shadowStyle);
      });
    })();
    const s = H(() => {
      var y, S;
      return ((S = (y = e.node.editor) == null ? void 0 : y.config) == null ? void 0 : S.type) === "render" && 0;
    }), l = Q(), { handleEvent: u, handleRequest: c, handleState: f, wrapperAttrs: h, combineStyle: d } = he(e.node), p = () => {
      e.node.editing = !1;
      const y = l.value.textContent, S = r.value.text;
      y !== S ? (r.value.text = y, Ia(["data"], e.node, !0)) : (delete e.node.__data, delete e.node.editor.__tempIdList);
    }, m = (y) => {
      r.value = y;
    }, g = (y) => {
      u("click", y), e.node.linkEnable && window.open(e.node.link, e.node.openWay, "");
    }, v = (y) => {
      if (s.value)
        u("dblclick", y);
      else {
        if (e.node.editing)
          return;
        e.node.editing = !0, e.node.editor.__tempIdList = [e.node.id], e.node.__data = me(e.node.data), Se(() => {
          const S = document.createRange();
          S.selectNodeContents(l.value);
          const b = window.getSelection();
          b && (b.removeAllRanges(), b.addRange(S));
        });
      }
    };
    return le(() => {
      e.node.on({
        setData: m,
        dblclick: v,
        request: c,
        state: f
      }), u("mounted", "");
    }), se(() => {
      e.node.off({
        setData: m,
        dblclick: v,
        request: c,
        state: f
      });
    }), (y, S) => (j(), G("foreignObject", ce({
      class: ["editor-component-item", { "element-editing": y.node.editing }]
    }, N(h), {
      onClick: g,
      onDblclick: v
    }), [
      ne("div", {
        class: "widget-text",
        contenteditable: y.node.editing,
        style: oe(N(d)),
        ref_key: "textRef",
        ref: l,
        onBlur: p
      }, Me(o.value), 45, RC)
    ], 16));
  }
}), Wd = "visWidgetTextRunLight", PC = "弹幕文字", zC = "0.0.1", BC = /* @__PURE__ */ ue({
  name: Wd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Wd, title: PC },
    version: zC,
    dataFieldMap: [
      {
        fieldName: "text",
        fieldAlias: "",
        fieldDesc: "文本",
        dataType: "string"
      }
    ],
    data: [
      {
        text: "弹幕文字"
      }
    ],
    runEnable: !0,
    runSpeed: 10,
    linkEnable: !1,
    link: "",
    linkType: !1,
    openWay: "_self",
    textAlign: "left",
    // 水平对齐方式
    justifyContent: "flex-start",
    scrollType: "rightToLeft",
    textFontStyle: {
      fontFamily: "",
      color: "#fff",
      fontSize: 20,
      textDecoration: "none",
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 30
    },
    // 阴影配置
    shadowStyle: {
      show: !0,
      horizontal: 0,
      vertical: 2,
      blur: 16,
      color: "rgba(11, 140, 240, 1)"
    },
    stateIndex: 0,
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 100,
    h: 50
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const f = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(f);
      },
      set: (f) => {
        var h;
        Array.isArray(f) ? e.node.data = f : f && ((h = e.node.data) != null && h.length ? Object.assign(e.node.data[0], f) : e.node.data = [f]);
      }
    }), o = H(() => {
      const f = e.node, { show: h, color: d, horizontal: p, vertical: m, blur: g } = f.shadowStyle;
      let v = `${d} ${p}px ${m}px ${g}px`;
      const { fontFamily: y, color: S, fontSize: b, opacity: _, fontWeight: w, fontStyle: T, letterSpacing: C, lineHeight: x } = f.textFontStyle, D = {
        fontFamily: y || "Microsoft YaHei",
        color: S,
        fontSize: `${b}px`,
        opacity: _ / 100,
        fontWeight: w,
        fontStyle: T,
        letterSpacing: `${C}px`,
        lineHeight: `${x}px`,
        textAlign: f.textAlign,
        justifyContent: f.justifyContent,
        textDecoration: f.textFontStyle.textDecoration,
        textShadow: h ? v : "none",
        animation: `${f.scrollType || "none"} ${f.runSpeed || 10}s 0s linear infinite both`
      };
      return f.runEnable || (D.animation = "none"), D;
    }), { handleEvent: a, handleRequest: i, handleState: s, wrapperAttrs: l, combineStyle: u } = he(e.node), c = (f) => {
      r.value = f;
    };
    return le(() => {
      i(), e.node.on({
        setData: c,
        request: i,
        state: s
      }), a("mounted", "");
    }), se(() => {
      e.node.off({
        setData: c,
        request: i,
        state: s
      });
    }), (f, h) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(l), {
      onClick: h[0] || (h[0] = (d) => N(a)("click", d)),
      onDblclick: h[1] || (h[1] = (d) => N(a)("dblclick", d))
    }), [
      ne("div", {
        class: "widget-text-run-light",
        style: oe(N(u))
      }, [
        ne("div", {
          class: "scroll-content",
          style: oe(o.value)
        }, Me(r.value.text), 5)
      ], 4)
    ], 16));
  }
}), Nd = "visWidgetTextVertivalTitle", WC = "垂直标题", NC = "0.0.1", HC = /* @__PURE__ */ ue({
  name: Nd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Nd, title: WC },
    version: NC,
    dataFieldMap: [
      {
        fieldName: "title",
        fieldAlias: "",
        fieldDesc: "标题",
        dataType: "string"
      },
      {
        fieldName: "subTitle",
        fieldAlias: "",
        fieldDesc: "副标题",
        dataType: "string"
      }
    ],
    data: [
      {
        title: "TITLE",
        subTitle: "16,888.888"
      }
    ],
    backgroundColor: "transparent",
    alignItems: "flex-start",
    flexDirection: "column",
    // 新文本样式
    textFontStyle: {
      fontFamily: "",
      color: "#fff",
      fontSize: 20,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      textDecoration: "none",
      letterSpacing: 0,
      lineHeight: 30
    },
    // 阴影配置
    shadowStyle: {
      show: !0,
      horizontal: 0,
      vertical: 2,
      blur: 16,
      color: "rgba(11, 140, 240, 1)"
    },
    // 新文本样式
    subTextFontStyle: {
      fontFamily: "",
      color: "#fff",
      fontSize: 20,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      textDecoration: "none",
      letterSpacing: 0,
      lineHeight: 30
    },
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 130,
    h: 60
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const d = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(d);
      },
      set: (d) => {
        var p;
        Array.isArray(d) ? e.node.data = d : d && ((p = e.node.data) != null && p.length ? Object.assign(e.node.data[0], d) : e.node.data = [d]);
      }
    }), o = H(() => ({
      alignItems: e.node.alignItems,
      flexDirection: e.node.flexDirection
    })), a = H(() => {
      const { show: d, color: p, horizontal: m, vertical: g, blur: v } = e.node.shadowStyle;
      let y = `${p} ${m}px ${g}px ${v}px`;
      const { fontFamily: S, color: b, fontSize: _, opacity: w, fontWeight: T, fontStyle: C, letterSpacing: x, lineHeight: D, textDecoration: F } = e.node.textFontStyle;
      return {
        fontFamily: S || "Microsoft YaHei",
        color: b,
        fontSize: `${_}px`,
        opacity: w / 100,
        fontWeight: T,
        fontStyle: C,
        letterSpacing: `${x}px`,
        lineHeight: `${D}px`,
        textDecoration: F,
        textAlign: e.node.textAlign,
        textShadow: d ? y : "none"
      };
    }), i = H(() => {
      const { show: d, color: p, horizontal: m, vertical: g, blur: v } = e.node.shadowStyle;
      let y = `${p} ${m}px ${g}px ${v}px`;
      const { fontFamily: S, color: b, fontSize: _, opacity: w, fontWeight: T, fontStyle: C, letterSpacing: x, lineHeight: D, textDecoration: F } = e.node.subTextFontStyle;
      return {
        fontFamily: S || "Microsoft YaHei",
        color: b,
        fontSize: `${_}px`,
        opacity: w / 100,
        fontWeight: T,
        fontStyle: C,
        letterSpacing: `${x}px`,
        lineHeight: `${D}px`,
        textDecoration: F,
        textAlign: e.node.textAlign,
        textShadow: d ? y : "none"
      };
    }), { handleEvent: s, handleRequest: l, handleState: u, wrapperAttrs: c, combineStyle: f } = he(e.node), h = (d) => {
      r.value = d;
    };
    return le(() => {
      l(), e.node.on({
        setData: h,
        request: l,
        state: u
      }), s("mounted", "");
    }), se(() => {
      e.node.off({
        setData: h,
        request: l,
        state: u
      });
    }), (d, p) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(c), {
      onClick: p[0] || (p[0] = (m) => N(s)("click", m)),
      onDblclick: p[1] || (p[1] = (m) => N(s)("dblclick", m))
    }), [
      ne("div", {
        class: "widget-text-title",
        style: oe(N(f))
      }, [
        ne("div", {
          class: "num-card",
          style: oe(o.value)
        }, [
          ne("div", {
            class: "num-card-num",
            style: oe(a.value)
          }, Me(r.value.title), 5),
          ne("span", {
            class: "num-card-suffix",
            style: oe(i.value)
          }, Me(r.value.subTitle), 5)
        ], 4)
      ], 4)
    ], 16));
  }
}), Na = (t, e) => {
  const n = t.__vccOpts || t;
  for (const [r, o] of e)
    n[r] = o;
  return n;
}, VC = {
  name: "CountFlop",
  data() {
    return {
      statusDIC: [".", ","],
      value: [],
      numberList: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
      compKey: 0,
      timer: null
    };
  },
  props: ["refKey", "boxHeight", "val", "suffix", "width", "suffixSize", "suffixColor", "suffixWeight", "marginX"],
  watch: {
    val: {
      deep: !0,
      immediate: !0,
      handler(t, e) {
        this.compareDiff(t), this.compKey += 1;
      }
    }
  },
  methods: {
    // 比较数值差异
    compareDiff(t) {
      const e = t.toString().split("");
      if (e.length != this.value.length) {
        const n = e.length - this.value.length;
        if (n > 0)
          for (let r = n - 1; r >= 0; r--)
            this.value.unshift({
              value: e[r],
              rollNum: ""
            });
        else
          for (let r = 0; r < Math.abs(n); r++) this.value.shift();
      }
      for (let n = 0; n < e.length; n++)
        this.value[n].value = e[n];
      this.setNumberTransform();
    },
    // 设置数值滚动
    setNumberTransform() {
      const t = this;
      t.timer = setTimeout((e) => {
        t.value.forEach((n) => {
          n.rollNum != n.value && !this.statusDIC.includes(n.value) && (n.rollNum = n.value);
        });
      }, 20);
    },
    isPoint(t) {
      return this.statusDIC.includes(t);
    },
    boxwidth(t) {
      return this.isPoint(t.value) ? {} : {
        width: `${this.width}px` || "36px"
      };
    },
    unitStyle() {
      return {
        fontSize: `${this.suffixSize || "20"}px`,
        color: `${this.suffixColor || "transparent"}`,
        fontWeight: this.suffixWeight,
        marginLeft: this.marginX
      };
    }
  }
}, qC = {
  key: 1,
  class: "count-flop-content"
};
function jC(t, e, n, r, o, a) {
  return j(), G("div", {
    class: "text-count-flop",
    key: `${n.refKey}-${o.compKey}`,
    style: oe({ height: `${n.boxHeight || "50"}px` })
  }, [
    (j(!0), G(Ne, null, ot(o.value, (i, s) => (j(), G("div", {
      class: Jn(a.isPoint(i.value) ? "count-flop-point" : "count-flop-box"),
      key: `${s}-${i}`,
      style: oe(a.boxwidth(i))
    }, [
      a.isPoint(i.value) ? (j(), G("div", qC, Me(i.value), 1)) : (j(), G("div", {
        key: 0,
        class: Jn(["count-flop-content", ["rolling_" + i.rollNum]])
      }, [
        (j(!0), G(Ne, null, ot(o.numberList, (l, u) => (j(), G("div", {
          key: u,
          class: "count-flop-num"
        }, Me(l), 1))), 128))
      ], 2))
    ], 6))), 128)),
    n.suffix ? (j(), G("div", {
      key: 0,
      class: "count-flop-unit",
      style: oe(a.unitStyle())
    }, Me(n.suffix), 5)) : vt("", !0)
  ], 4);
}
const UC = /* @__PURE__ */ Na(VC, [["render", jC]]);
var ts = function() {
  return ts = Object.assign || function(t) {
    for (var e, n = 1, r = arguments.length; n < r; n++) for (var o in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    return t;
  }, ts.apply(this, arguments);
}, YC = function() {
  function t(e, n, r) {
    var o = this;
    this.endVal = n, this.options = r, this.version = "2.8.0", this.defaults = { startVal: 0, decimalPlaces: 0, duration: 2, useEasing: !0, useGrouping: !0, useIndianSeparators: !1, smartEasingThreshold: 999, smartEasingAmount: 333, separator: ",", decimal: ".", prefix: "", suffix: "", enableScrollSpy: !1, scrollSpyDelay: 200, scrollSpyOnce: !1 }, this.finalEndVal = null, this.useEasing = !0, this.countDown = !1, this.error = "", this.startVal = 0, this.paused = !0, this.once = !1, this.count = function(a) {
      o.startTime || (o.startTime = a);
      var i = a - o.startTime;
      o.remaining = o.duration - i, o.useEasing ? o.countDown ? o.frameVal = o.startVal - o.easingFn(i, 0, o.startVal - o.endVal, o.duration) : o.frameVal = o.easingFn(i, o.startVal, o.endVal - o.startVal, o.duration) : o.frameVal = o.startVal + (o.endVal - o.startVal) * (i / o.duration);
      var s = o.countDown ? o.frameVal < o.endVal : o.frameVal > o.endVal;
      o.frameVal = s ? o.endVal : o.frameVal, o.frameVal = Number(o.frameVal.toFixed(o.options.decimalPlaces)), o.printValue(o.frameVal), i < o.duration ? o.rAF = requestAnimationFrame(o.count) : o.finalEndVal !== null ? o.update(o.finalEndVal) : o.options.onCompleteCallback && o.options.onCompleteCallback();
    }, this.formatNumber = function(a) {
      var i, s, l, u, c = a < 0 ? "-" : "";
      i = Math.abs(a).toFixed(o.options.decimalPlaces);
      var f = (i += "").split(".");
      if (s = f[0], l = f.length > 1 ? o.options.decimal + f[1] : "", o.options.useGrouping) {
        u = "";
        for (var h = 3, d = 0, p = 0, m = s.length; p < m; ++p) o.options.useIndianSeparators && p === 4 && (h = 2, d = 1), p !== 0 && d % h == 0 && (u = o.options.separator + u), d++, u = s[m - p - 1] + u;
        s = u;
      }
      return o.options.numerals && o.options.numerals.length && (s = s.replace(/[0-9]/g, function(g) {
        return o.options.numerals[+g];
      }), l = l.replace(/[0-9]/g, function(g) {
        return o.options.numerals[+g];
      })), c + o.options.prefix + s + l + o.options.suffix;
    }, this.easeOutExpo = function(a, i, s, l) {
      return s * (1 - Math.pow(2, -10 * a / l)) * 1024 / 1023 + i;
    }, this.options = ts(ts({}, this.defaults), r), this.formattingFn = this.options.formattingFn ? this.options.formattingFn : this.formatNumber, this.easingFn = this.options.easingFn ? this.options.easingFn : this.easeOutExpo, this.startVal = this.validateValue(this.options.startVal), this.frameVal = this.startVal, this.endVal = this.validateValue(n), this.options.decimalPlaces = Math.max(this.options.decimalPlaces), this.resetDuration(), this.options.separator = String(this.options.separator), this.useEasing = this.options.useEasing, this.options.separator === "" && (this.options.useGrouping = !1), this.el = typeof e == "string" ? document.getElementById(e) : e, this.el ? this.printValue(this.startVal) : this.error = "[CountUp] target is null or undefined", typeof window < "u" && this.options.enableScrollSpy && (this.error ? console.error(this.error, e) : (window.onScrollFns = window.onScrollFns || [], window.onScrollFns.push(function() {
      return o.handleScroll(o);
    }), window.onscroll = function() {
      window.onScrollFns.forEach(function(a) {
        return a();
      });
    }, this.handleScroll(this)));
  }
  return t.prototype.handleScroll = function(e) {
    if (e && window && !e.once) {
      var n = window.innerHeight + window.scrollY, r = e.el.getBoundingClientRect(), o = r.top + window.pageYOffset, a = r.top + r.height + window.pageYOffset;
      a < n && a > window.scrollY && e.paused ? (e.paused = !1, setTimeout(function() {
        return e.start();
      }, e.options.scrollSpyDelay), e.options.scrollSpyOnce && (e.once = !0)) : (window.scrollY > a || o > n) && !e.paused && e.reset();
    }
  }, t.prototype.determineDirectionAndSmartEasing = function() {
    var e = this.finalEndVal ? this.finalEndVal : this.endVal;
    this.countDown = this.startVal > e;
    var n = e - this.startVal;
    if (Math.abs(n) > this.options.smartEasingThreshold && this.options.useEasing) {
      this.finalEndVal = e;
      var r = this.countDown ? 1 : -1;
      this.endVal = e + r * this.options.smartEasingAmount, this.duration = this.duration / 2;
    } else this.endVal = e, this.finalEndVal = null;
    this.finalEndVal !== null ? this.useEasing = !1 : this.useEasing = this.options.useEasing;
  }, t.prototype.start = function(e) {
    this.error || (this.options.onStartCallback && this.options.onStartCallback(), e && (this.options.onCompleteCallback = e), this.duration > 0 ? (this.determineDirectionAndSmartEasing(), this.paused = !1, this.rAF = requestAnimationFrame(this.count)) : this.printValue(this.endVal));
  }, t.prototype.pauseResume = function() {
    this.paused ? (this.startTime = null, this.duration = this.remaining, this.startVal = this.frameVal, this.determineDirectionAndSmartEasing(), this.rAF = requestAnimationFrame(this.count)) : cancelAnimationFrame(this.rAF), this.paused = !this.paused;
  }, t.prototype.reset = function() {
    cancelAnimationFrame(this.rAF), this.paused = !0, this.resetDuration(), this.startVal = this.validateValue(this.options.startVal), this.frameVal = this.startVal, this.printValue(this.startVal);
  }, t.prototype.update = function(e) {
    cancelAnimationFrame(this.rAF), this.startTime = null, this.endVal = this.validateValue(e), this.endVal !== this.frameVal && (this.startVal = this.frameVal, this.finalEndVal == null && this.resetDuration(), this.finalEndVal = null, this.determineDirectionAndSmartEasing(), this.rAF = requestAnimationFrame(this.count));
  }, t.prototype.printValue = function(e) {
    var n;
    if (this.el) {
      var r = this.formattingFn(e);
      !((n = this.options.plugin) === null || n === void 0) && n.render ? this.options.plugin.render(this.el, r) : this.el.tagName === "INPUT" ? this.el.value = r : this.el.tagName === "text" || this.el.tagName === "tspan" ? this.el.textContent = r : this.el.innerHTML = r;
    }
  }, t.prototype.ensureNumber = function(e) {
    return typeof e == "number" && !isNaN(e);
  }, t.prototype.validateValue = function(e) {
    var n = Number(e);
    return this.ensureNumber(n) ? n : (this.error = "[CountUp] invalid start or end value: ".concat(e), null);
  }, t.prototype.resetDuration = function() {
    this.startTime = null, this.duration = 1e3 * Number(this.options.duration), this.remaining = this.duration;
  }, t;
}();
const GC = {
  name: "my-count-up",
  props: {
    animation: {
      type: Boolean,
      default: !0
    },
    start: {
      type: Number,
      required: !1,
      default: 0
    },
    end: {
      required: !0
    },
    decimals: {
      type: Number,
      required: !1,
      default: 0
    },
    duration: {
      type: Number,
      required: !1,
      default: 2
    },
    options: {
      type: Object,
      required: !1,
      default() {
        return {};
      }
    },
    callback: {
      type: Function,
      required: !1,
      default: () => {
      }
    }
  },
  data() {
    return {
      c: null
    };
  },
  watch: {
    decimals() {
      this.c && this.c.update && this.c.update(this.end);
    },
    end(t) {
      this.c && this.c.update && this.c.update(t);
    }
  },
  mounted() {
    this.animation && this.init();
  },
  methods: {
    init() {
      this.c || (this.c = new YC(this.$el, this.end, {
        decimalPlaces: this.decimals,
        duration: this.duration,
        ...this.options
      }), this.c.start(() => {
        this.callback(this.c);
      }));
    },
    destroy() {
      this.c = null;
    }
  },
  beforeDestroy() {
    this.destroy();
  },
  start(t) {
    this.c && this.c.start && this.c.start(() => {
      t && t(this.c);
    });
  },
  pauseResume() {
    this.c && this.c.pauseResume && this.c.pauseResume();
  },
  reset() {
    this.c && this.c.reset && this.c.reset();
  },
  update(t) {
    this.c && this.c.update && this.c.update(t);
  }
};
function XC(t, e, n, r, o, a) {
  return j(), G("span", null, Me(n.end), 1);
}
const ZC = /* @__PURE__ */ Na(GC, [["render", XC]]), Hd = "visWidgetTextTitleNum", KC = "翻牌器", JC = "0.0.1", QC = /* @__PURE__ */ ue({
  name: Hd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Hd, title: KC },
    version: JC,
    dataFieldMap: [
      {
        fieldName: "title",
        fieldAlias: "",
        fieldDesc: "标题",
        dataType: "string"
      },
      {
        fieldName: "subTitle",
        fieldAlias: "",
        fieldDesc: "副标题",
        dataType: "number"
      },
      {
        fieldName: "beforeText",
        fieldAlias: "",
        fieldDesc: "前缀",
        dataType: "string"
      },
      {
        fieldName: "afterText",
        fieldAlias: "",
        fieldDesc: "后缀",
        dataType: "string"
      }
    ],
    data: [
      {
        title: "TITLE",
        subTitle: 16888.88,
        beforeText: "",
        afterText: "单位"
      }
    ],
    // 文本样式 标题
    textFontStyle: {
      show: !0,
      fontFamily: "",
      color: "#fff",
      fontSize: 17,
      opacity: 100,
      fontWeight: "bold",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 24,
      offsetX: 0,
      offsetY: 0
    },
    // 阴影配置 标题
    shadowStyle: {
      show: !0,
      horizontal: 0,
      vertical: 2,
      blur: 16,
      color: "rgba(11, 140, 240, 1)"
    },
    // 文本样式 副标题  数字
    subTextFontStyle: {
      show: !0,
      fontFamily: "",
      color: "#fff",
      fontSize: 32,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 32,
      offsetX: 0,
      offsetY: 0
    },
    // 阴影配置 副标题  数字
    subShadowStyle: {
      show: !0,
      horizontal: 0,
      vertical: 2,
      blur: 16,
      color: "rgba(11, 140, 240, 1)"
    },
    backgroundColor: "transparent",
    alignItems: "flex-start",
    flexDirection: "column",
    textDecoration: "none",
    textAlign: "left",
    showAnimation: !0,
    animationType: "bounce",
    // 文本样式 前缀
    beforeTextFontStyle: {
      show: !1,
      fontFamily: "",
      color: "#fff",
      fontSize: 20,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 40,
      offsetX: 0,
      offsetY: 0
    },
    // 阴影配置 前缀
    beforeShadowStyle: {
      show: !0,
      horizontal: 0,
      vertical: 2,
      blur: 16,
      color: "rgba(11, 140, 240, 1)"
    },
    // 文本样式 后缀
    afterTextFontStyle: {
      show: !0,
      fontFamily: "",
      color: "#fff",
      fontSize: 16,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 22,
      offsetX: 4,
      offsetY: 10
    },
    // 阴影配置 后缀
    afterShadowStyle: {
      show: !0,
      horizontal: 0,
      vertical: 2,
      blur: 16,
      color: "rgba(11, 140, 240, 1)"
    },
    decimals: 2,
    // 精度
    thousands: !0,
    // 千分位
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 200,
    h: 70
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const S = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(S);
      },
      set: (S) => {
        var b;
        Array.isArray(S) ? e.node.data = S : S && ((b = e.node.data) != null && b.length ? Object.assign(e.node.data[0], S) : e.node.data = [S]);
      }
    });
    e.node.editing = !1;
    const o = H(() => {
      const S = r.value.subTitle;
      let b = (+S).toFixed(e.node.decimals);
      return e.node.thousands && (b = (+S).toLocaleString("en-US", { minimumFractionDigits: e.node.decimals })), b;
    }), a = H(() => {
      const S = {
        alignItems: e.node.alignItems,
        flexDirection: e.node.flexDirection,
        width: ""
      };
      return ["row", "row-reverse"].includes(e.node.flexDirection) && (S.width = "100%"), S;
    }), i = H(() => {
      const { textAlign: S } = e.node;
      return {
        justifyContent: {
          left: "flex-start",
          right: "flex-end",
          center: "center",
          justify: "center"
        }[S]
      };
    }), s = H(() => {
      const { show: S, color: b, horizontal: _, vertical: w, blur: T } = e.node.shadowStyle, C = `${b} ${_}px ${w}px ${T}px`, { fontFamily: x, color: D, fontSize: F, opacity: I, fontWeight: P, fontStyle: O, letterSpacing: k, lineHeight: $, textDecoration: M, offsetX: A, offsetY: L } = e.node.textFontStyle;
      return {
        position: "relative",
        fontFamily: x,
        color: D,
        fontSize: `${F}px`,
        opacity: I / 100,
        fontWeight: P,
        fontStyle: O,
        letterSpacing: `${k}px`,
        lineHeight: `${$}px`,
        textDecoration: M,
        textAlign: e.node.textAlign,
        textShadow: S ? C : "none",
        left: `${A}px`,
        top: `${L}px`
      };
    }), l = H(() => {
      const { show: S, color: b, horizontal: _, vertical: w, blur: T } = e.node.subShadowStyle, C = `${b} ${_}px ${w}px ${T}px`, { fontFamily: x, color: D, fontSize: F, opacity: I, fontWeight: P, fontStyle: O, letterSpacing: k, lineHeight: $, textDecoration: M, offsetX: A, offsetY: L } = e.node.subTextFontStyle;
      return {
        position: "relative",
        fontFamily: x,
        color: D,
        fontSize: `${F}px`,
        opacity: I / 100,
        fontWeight: P,
        fontStyle: O,
        letterSpacing: `${k}px`,
        lineHeight: `${$}px`,
        textDecoration: M,
        textAlign: e.node.textAlign,
        textShadow: S ? C : "none",
        left: `${A}px`,
        top: `${L}px`
      };
    }), u = H(() => {
      const { show: S, color: b, horizontal: _, vertical: w, blur: T } = e.node.beforeShadowStyle, C = `${b} ${_}px ${w}px ${T}px`, { fontFamily: x, color: D, fontSize: F, opacity: I, fontWeight: P, fontStyle: O, letterSpacing: k, lineHeight: $, textDecoration: M, offsetX: A, offsetY: L } = e.node.beforeTextFontStyle;
      return e.node.beforeFollowNum ? {
        ...l.value,
        left: `${A}px`,
        top: `${L}px`
      } : {
        position: "relative",
        fontFamily: x,
        color: D,
        fontSize: `${F}px`,
        opacity: I / 100,
        fontWeight: P,
        fontStyle: O,
        letterSpacing: `${k}px`,
        lineHeight: `${$}px`,
        textDecoration: M,
        textShadow: S ? C : "none",
        left: `${A}px`,
        top: `${L}px`
      };
    }), c = H(() => {
      const { show: S, color: b, horizontal: _, vertical: w, blur: T } = e.node.afterShadowStyle, C = `${b} ${_}px ${w}px ${T}px`, { fontFamily: x, color: D, fontSize: F, opacity: I, fontWeight: P, fontStyle: O, letterSpacing: k, lineHeight: $, textDecoration: M, offsetX: A, offsetY: L } = e.node.afterTextFontStyle;
      return e.node.afterFollowNum ? {
        ...l.value,
        left: `${A}px`,
        top: `${L}px`
      } : {
        position: "relative",
        fontFamily: x,
        color: D,
        fontSize: `${F}px`,
        opacity: I / 100,
        fontWeight: P,
        fontStyle: O,
        letterSpacing: `${k}px`,
        lineHeight: `${$}px`,
        textDecoration: M,
        textShadow: S ? C : "none",
        // paddingLeft: `${offsetX}px`,
        // paddingTop: `${offsetY}px`,
        left: `${A}px`,
        top: `${L}px`
      };
    }), f = Q(!0), h = () => {
      f.value = !1, setTimeout(() => {
        f.value = !0;
      }, 10);
    };
    ve(
      [() => e.node.thousands, () => e.node.decimals],
      () => {
        h();
      },
      {
        immediate: !0
      }
    );
    const { handleEvent: d, handleRequest: p, handleState: m, wrapperAttrs: g, combineStyle: v } = he(e.node), y = (S) => {
      r.value = S;
    };
    return le(() => {
      p(), e.node.on({
        setData: y,
        request: p,
        state: m
      }), d("mounted", "");
    }), se(() => {
      e.node.off({
        setData: y,
        request: p,
        state: m
      });
    }), (S, b) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(g), {
      onClick: b[0] || (b[0] = (_) => N(d)("click", _)),
      onDblclick: b[1] || (b[1] = (_) => N(d)("dblclick", _))
    }), [
      ne("div", {
        class: "widget-text-title-num",
        style: oe(N(v))
      }, [
        f.value ? (j(), G("div", {
          key: 0,
          class: "num-card",
          style: oe(a.value)
        }, [
          ne("div", {
            class: "num-card-num",
            style: oe(s.value)
          }, Me(r.value.title), 5),
          ne("div", {
            class: "subTitle",
            style: oe(i.value)
          }, [
            S.node.beforeTextFontStyle.show ? (j(), G("div", {
              key: 0,
              style: oe(u.value)
            }, Me(r.value.beforeText), 5)) : vt("", !0),
            S.node.showAnimation ? vt("", !0) : (j(), G("div", {
              key: 1,
              class: "num-card-suffix",
              style: oe(l.value)
            }, Me(o.value), 5)),
            S.node.showAnimation && S.node.animationType === "bounce" && r.value.subTitle !== "" ? (j(), Ye(ZC, {
              key: 2,
              style: oe(l.value),
              decimals: S.node.decimals,
              end: r.value.subTitle,
              options: { separator: S.node.thousands ? "," : "" }
            }, null, 8, ["style", "decimals", "end", "options"])) : vt("", !0),
            S.node.showAnimation && S.node.animationType === "scroll" && r.value.subTitle !== "" ? (j(), Ye(UC, {
              key: 3,
              style: oe(l.value),
              refKey: S.node.id,
              val: o.value,
              boxHeight: S.node.subTextFontStyle.lineHeight,
              width: 12 + S.node.subLetterSpacing
            }, null, 8, ["style", "refKey", "val", "boxHeight", "width"])) : vt("", !0),
            S.node.afterTextFontStyle.show ? (j(), G("div", {
              key: 4,
              style: oe(c.value)
            }, Me(r.value.afterText), 5)) : vt("", !0)
          ], 4)
        ], 4)) : vt("", !0)
      ], 4)
    ], 16));
  }
}), Vd = "visWidgetIcon", eT = "图标", tT = "0.0.1", nT = /* @__PURE__ */ ue({
  name: Vd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Vd, title: eT },
    version: tT,
    data: [
      {
        fontSize: 16,
        icon: "remixicon ri-stack-line",
        color: "#fff"
      }
    ],
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 100,
    h: 36
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const c = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(c);
      },
      set: (c) => {
        var f;
        Array.isArray(c) ? e.node.data = c : c && ((f = e.node.data) != null && f.length ? Object.assign(e.node.data[0], c) : e.node.data = [c]);
      }
    }), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s, combineStyle: l } = he(e.node), u = (c) => {
      r.value = c;
    };
    return le(() => {
      a(), e.node.on({
        setData: u,
        request: a,
        state: i
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: u,
        request: a,
        state: i
      });
    }), (c, f) => {
      const h = be("svg-icon");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: f[0] || (f[0] = (d) => N(o)("click", d)),
        onDblclick: f[1] || (f[1] = (d) => N(o)("dblclick", d))
      }), [
        ne("div", {
          class: "widget-text",
          style: oe(N(l))
        }, [
          Fe(h, {
            size: r.value.fontSize,
            name: r.value.icon,
            color: r.value.color
          }, null, 8, ["size", "name", "color"])
        ], 4)
      ], 16);
    };
  }
}), qd = "visWidgetChartbar", rT = "柱状图", oT = "0.0.1", aT = /* @__PURE__ */ ue({
  name: qd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: qd, title: rT },
    version: oT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      seriesStyle: {
        barGap: 30,
        barWidth: 20,
        barType: "rect"
        // 自定义属性 柱体类型 圆边矩形circle/半圆矩形round/矩形rect
      },
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "bar",
          barMinHeight: 0,
          yAxisIndex: 0,
          itemStyle: {
            color: "#41A9F4",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        },
        {
          name: "类型二",
          type: "bar",
          barMinHeight: 0,
          yAxisIndex: 0,
          itemStyle: {
            color: "#53D09E",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getLegend: s, getDataZoom: l } = et(), { getXAxis: u, getYAxis: c } = St(), { getThemeColor: f } = tt(e.node), { getMarkLine: h } = Tn(), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const C = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(C);
      },
      set: (C) => {
        e.node.data = C;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          w();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = ({ color: C = "", direction: x = "vertical", colorIndex: D = 0 }) => {
      C = f(D, C);
      const F = new $e(C), { valpha: I } = F, P = F.color.toString();
      return {
        type: "linear",
        x: x && x === "horizontal" ? 1 : 0,
        y: 0,
        x2: 0,
        y2: x && x === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${P}, ${I})`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${P}, ${0.5 * I})`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, S = (C, x) => {
      const D = (C.barWidth || 0) / 2;
      return {
        rect: [0, 0, 0, 0],
        circle: [D, D, D, D],
        round: [D, D, 0, 0]
      }[x];
    }, b = (C, x) => {
      const D = x.chartOption.series, F = x.chartOption.seriesStyle;
      if (!F) return;
      const P = x.chartDataFieldMap.measure.field, O = [];
      return D.forEach((k, $) => {
        const M = P[$ % P.length];
        if (!M) return;
        const A = M.fieldName, L = C.map((W) => ({
          value: W[A],
          dataRef: W || {},
          yAxisIndex: k.yAxisIndex
        })), R = k.label, E = S(F, F.barType), B = {
          type: k.type,
          name: k.name,
          barGap: `${F.barGap}%`,
          barWidth: `${F.barWidth}%`,
          yAxisIndex: k.yAxisIndex,
          barMinHeight: k.barMinHeight || 0,
          showBackground: k.showBackground || !1,
          backgroundStyle: { ...k.backgroundStyle, borderRadius: E },
          itemStyle: {
            color: y({
              color: k.itemStyle.color,
              colorIndex: $
            }),
            borderRadius: E
          },
          label: {
            show: R.show || !1,
            // 开启显示
            position: "top",
            // 在上方显示,
            // 数值样式
            fontSize: R.fontSize,
            color: R.color,
            fontWeight: R.fontWeight,
            fontFamily: R.fontFamily,
            opacity: R.opacity / 100,
            textDecoration: R.textDecoration,
            fontStyle: R.fontStyle,
            letterSpacing: R.letterSpacing,
            lineHeight: R.lineHeight
          },
          data: L
        };
        k.markLine && k.markLine.show && (B.markLine = h(k.markLine)), O.push(B);
      }), O;
    }, _ = Q(), w = () => {
      const C = me(e.node), x = C.chartOption, D = g.value, I = (C.chartDataFieldMap.dimension.field[0] || {}).fieldName, P = [];
      if (D.length && I && (D.forEach((k) => {
        P.includes(k[I]) || P.push(k[I]);
      }), x.xAxis.data = P), P.length === 0) return;
      const O = {
        grid: x.grid,
        tooltip: x.tooltip,
        legend: s(x.legend),
        xAxis: u(x.xAxis),
        yAxis: c(x.yAxis),
        dataZoom: l(x.dataZoom),
        series: b(D, C)
      };
      O.tooltip.formatter = d(), n.value = O, p(_.value, O);
    }, T = (C) => {
      const x = Array.isArray(C) ? C : [];
      g.value = x;
      const [D, F] = [[], []];
      x.forEach((I) => {
        D.push(I.name), F.push(I.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      });
    }), (C, x) => {
      const D = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: x[0] || (x[0] = (F) => N(r)("click", F)),
        onDblclick: x[1] || (x[1] = (F) => N(r)("dblclick", F))
      }), [
        Fe(D, {
          ref_key: "chartRef",
          ref: _,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), jd = "visWidgetChartBarSingle", iT = "单柱状图", sT = "0.0.1", lT = /* @__PURE__ */ ue({
  name: jd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: jd, title: iT },
    version: sT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      seriesStyle: {
        barGap: 30,
        barWidth: 20,
        barType: "rect"
        // 自定义属性 柱体类型 圆边矩形circle/半圆矩形round/矩形rect
      },
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "bar",
          barMinHeight: 0,
          yAxisIndex: 0,
          itemStyle: {
            color: "#41A9F4",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getLegend: s, getDataZoom: l } = et(), { getXAxis: u, getYAxis: c } = St(), { getThemeColor: f } = tt(e.node), { getMarkLine: h } = Tn(), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const C = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(C);
      },
      set: (C) => {
        e.node.data = C;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          w();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = ({ color: C = "", direction: x = "vertical", colorIndex: D = 0 }) => {
      C = f(D, C);
      const F = new $e(C).color.toString();
      return {
        type: "linear",
        x: x && x === "horizontal" ? 1 : 0,
        y: 0,
        x2: 0,
        y2: x && x === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${F}, 1)`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${F}, 0.5)`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, S = (C, x) => {
      const D = (C.barWidth || 0) / 2;
      return {
        rect: [0, 0, 0, 0],
        circle: [D, D, D, D],
        round: [D, D, 0, 0]
      }[x];
    }, b = (C, x) => {
      const D = x.chartOption.series, F = x.chartOption.seriesStyle;
      if (!F) return;
      const P = x.chartDataFieldMap.measure.field, O = [];
      return D.forEach((k, $) => {
        const M = P[$ % P.length];
        if (!M) return;
        const A = M.fieldName, L = C.map((W) => ({
          value: W[A],
          dataRef: W || {},
          yAxisIndex: k.yAxisIndex
        })), R = k.label, E = S(F, F.barType), B = {
          type: k.type,
          name: k.name,
          barGap: `${F.barGap}%`,
          barWidth: `${F.barWidth}%`,
          yAxisIndex: k.yAxisIndex,
          barMinHeight: k.barMinHeight || 0,
          showBackground: k.showBackground || !1,
          backgroundStyle: { ...k.backgroundStyle, borderRadius: E },
          itemStyle: {
            color: y({
              color: k.itemStyle.color,
              colorIndex: $
            }),
            borderRadius: E
          },
          label: {
            show: R.show || !1,
            // 开启显示
            position: "top",
            // 在上方显示,
            // 数值样式
            fontSize: R.fontSize,
            color: R.color,
            fontWeight: R.fontWeight,
            fontFamily: R.fontFamily,
            opacity: R.opacity / 100,
            textDecoration: R.textDecoration,
            fontStyle: R.fontStyle,
            letterSpacing: R.letterSpacing,
            lineHeight: R.lineHeight
          },
          data: L
        };
        k.markLine && k.markLine.show && (B.markLine = h(k.markLine)), O.push(B);
      }), O;
    }, _ = Q(), w = () => {
      const C = me(e.node), x = C.chartOption, D = g.value, I = (C.chartDataFieldMap.dimension.field[0] || {}).fieldName, P = [];
      if (D.length && I && (D.forEach((k) => {
        P.includes(k[I]) || P.push(k[I]);
      }), x.xAxis.data = P), P.length === 0) return;
      const O = {
        grid: x.grid,
        tooltip: x.tooltip,
        legend: s(x.legend),
        xAxis: u(x.xAxis),
        yAxis: c(x.yAxis),
        dataZoom: l(x.dataZoom),
        series: b(D, C)
      };
      O.tooltip.formatter = d(), n.value = O, p(_.value, O);
    }, T = (C) => {
      g.value = C;
      const x = C || [], [D, F] = [[], []];
      x.forEach((I) => {
        D.push(I.name), F.push(I.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      });
    }), (C, x) => {
      const D = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: x[0] || (x[0] = (F) => N(r)("click", F)),
        onDblclick: x[1] || (x[1] = (F) => N(r)("dblclick", F))
      }), [
        Fe(D, {
          ref_key: "chartRef",
          ref: _,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Ud = "visWidgetChartbarHorizontal", uT = "条形图", cT = "0.0.1", fT = /* @__PURE__ */ ue({
  name: Ud,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Ud, title: uT },
    version: cT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      seriesStyle: {
        barGap: 22,
        barWidth: 25,
        barType: "rect",
        // 自定义属性 柱体类型 圆边矩形circle/半圆矩形round/矩形rect,
        hideBarGap: !0
      },
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "bar",
          barMinHeight: 0,
          yAxisIndex: 0,
          itemStyle: {
            color: "#41A9F4",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        },
        {
          name: "类型二",
          type: "bar",
          barMinHeight: 0,
          yAxisIndex: 0,
          itemStyle: {
            color: "#53D09E",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getLegend: s, getDataZoom: l } = et(), { getXAxis: u, getYAxis: c } = St(), { getThemeColor: f } = tt(e.node), { getMarkLine: h } = Tn(), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const C = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(C);
      },
      set: (C) => {
        e.node.data = C;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          w();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = ({ color: C = "", direction: x = "horizontal", colorIndex: D = 0 }) => {
      C = f(D, C);
      const F = new $e(C), { valpha: I } = F, P = F.color.toString();
      return {
        type: "linear",
        x: x && x === "horizontal" ? 1 : 0,
        y: 0,
        x2: 0,
        y2: x && x === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${P}, ${I})`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${P}, ${0.5 * I})`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, S = (C, x) => {
      const D = (C.barWidth || 0) / 2;
      return {
        rect: [0, 0, 0, 0],
        circle: [D, D, D, D],
        round: [0, D, D, 0]
      }[x];
    }, b = (C, x) => {
      const D = x.chartOption.series, F = x.chartOption.seriesStyle;
      if (!F) return;
      const P = x.chartDataFieldMap.measure.field, O = [];
      return D.forEach((k, $) => {
        const M = P[$ % P.length];
        if (!M) return;
        const A = M.fieldName, L = C.map((W) => ({
          value: W[A],
          dataRef: W || {},
          yAxisIndex: k.yAxisIndex
        })), R = k.label, E = S(F, F.barType), B = {
          type: k.type,
          name: k.name,
          barGap: `${F.barGap}%`,
          barWidth: `${F.barWidth}%`,
          barMinHeight: k.barMinHeight || 0,
          // yAxisIndex: item.yAxisIndex,
          showBackground: k.showBackground || !1,
          backgroundStyle: { ...k.backgroundStyle, borderRadius: E },
          itemStyle: {
            color: y({
              color: k.itemStyle.color,
              colorIndex: $
            }),
            borderRadius: E
          },
          label: {
            show: R.show || !1,
            // 开启显示
            position: R.position,
            // 数值样式
            fontSize: R.fontSize,
            color: R.color,
            fontWeight: R.fontWeight,
            fontFamily: R.fontFamily,
            opacity: R.opacity / 100,
            textDecoration: R.textDecoration,
            fontStyle: R.fontStyle,
            letterSpacing: R.letterSpacing,
            lineHeight: R.lineHeight,
            offset: [0, 1]
          },
          data: L
        };
        k.markLine && k.markLine.show && (B.markLine = h(k.markLine)), O.push(B);
      }), O;
    }, _ = Q(), w = () => {
      const C = me(e.node), x = C.chartOption, D = g.value, I = (C.chartDataFieldMap.dimension.field[0] || {}).fieldName, P = [];
      if (D.length && I && (D.forEach((k) => {
        P.includes(k[I]) || P.push(k[I]);
      }), x.xAxis.data = P), P.length === 0) return;
      const O = {
        grid: x.grid,
        tooltip: x.tooltip,
        legend: s(x.legend),
        xAxis: c(x.yAxis),
        yAxis: u(x.xAxis),
        dataZoom: l(x.dataZoom),
        series: b(D, C)
      };
      O.tooltip.formatter = d(), n.value = O, p(_.value, O);
    }, T = (C) => {
      g.value = C;
      const x = C || [], [D, F] = [[], []];
      x.forEach((I) => {
        D.push(I.name), F.push(I.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      });
    }), (C, x) => {
      const D = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: x[0] || (x[0] = (F) => N(r)("click", F)),
        onDblclick: x[1] || (x[1] = (F) => N(r)("dblclick", F))
      }), [
        Fe(D, {
          ref_key: "chartRef",
          ref: _,
          node: e.node,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["node", "option"])
      ], 16);
    };
  }
}), Yd = "visWidgetChartbarStack", dT = "堆叠柱状图", hT = "0.0.1", pT = /* @__PURE__ */ ue({
  name: Yd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Yd, title: dT },
    version: hT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      seriesStyle: {
        barGap: 30,
        barWidth: 20,
        barType: "rect"
        // 自定义属性 柱体类型 圆边矩形circle/半圆矩形round/矩形rect
      },
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "bar",
          stack: "stack",
          barMinHeight: 0,
          yAxisIndex: 0,
          itemStyle: {
            color: "#41A9F4",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        },
        {
          name: "类型二",
          type: "bar",
          stack: "stack",
          barMinHeight: 0,
          yAxisIndex: 0,
          itemStyle: {
            color: "#53D09E",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({});
    (() => {
      e.node.chartOption.series.forEach((x) => {
        x.stack === void 0 && (x.stack = "stack");
      });
    })();
    const { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getLegend: l, getDataZoom: u } = et(), { getXAxis: c, getYAxis: f } = St(), { getThemeColor: h } = tt(e.node), { getMarkLine: d } = Tn(), { getTooltipFormatter: p, toogleTooltipLoop: m } = Zt(e.node), { getMappedData: g } = we(), v = H({
      get: () => {
        const x = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return g(x);
      },
      set: (x) => {
        e.node.data = x;
      }
    }), y = H(() => e.node.chartOption);
    ve(
      [v, y, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          T();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const S = ({ color: x = "", direction: D = "vertical", colorIndex: F = 0 }) => {
      x = h(F, x);
      const I = new $e(x), P = I.valpha, O = I.color.toString();
      return {
        type: "linear",
        x: D && D === "horizontal" ? 1 : 0,
        y: 0,
        x2: 0,
        y2: D && D === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${O}, ${P})`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${O}, ${0.5 * P})`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, b = (x, D) => {
      const F = (x.barWidth || 0) / 2;
      return {
        rect: [0, 0, 0, 0],
        circle: [F, F, F, F],
        round: [F, F, 0, 0]
      }[D];
    }, _ = (x, D) => {
      const F = D.chartOption.series, I = D.chartOption.seriesStyle;
      if (!I) return;
      const O = D.chartDataFieldMap.measure.field, k = [];
      return F.forEach(($, M) => {
        const A = O[M % O.length];
        if (!A) return;
        const L = A.fieldName, R = x.map((z) => ({
          value: z[L],
          dataRef: z || {}
        })), E = $.label, B = b(I, I.barType), W = {
          type: $.type,
          name: $.name,
          stack: $.stack,
          barGap: `${I.barGap}%`,
          barWidth: `${I.barWidth}%`,
          barMinHeight: $.barMinHeight || 0,
          showBackground: $.showBackground || !1,
          backgroundStyle: { ...$.backgroundStyle, borderRadius: B },
          itemStyle: {
            color: S({
              color: $.itemStyle.color,
              colorIndex: M
            }),
            borderRadius: B
          },
          label: {
            show: E.show || !1,
            // 开启显示
            position: "top",
            // 在上方显示,
            // 数值样式
            fontSize: E.fontSize,
            color: E.color,
            fontWeight: E.fontWeight,
            fontFamily: E.fontFamily,
            opacity: E.opacity / 100,
            textDecoration: E.textDecoration,
            fontStyle: E.fontStyle,
            letterSpacing: E.letterSpacing,
            lineHeight: E.lineHeight
          },
          data: R
        };
        $.markLine && $.markLine.show && (W.markLine = d($.markLine)), k.push(W);
      }), k;
    }, w = Q(), T = () => {
      const x = me(e.node), D = x.chartOption, F = v.value, P = (x.chartDataFieldMap.dimension.field[0] || {}).fieldName, O = [];
      if (F.length && P && (F.forEach(($) => {
        O.includes($[P]) || O.push($[P]);
      }), D.xAxis.data = O), O.length === 0) return;
      const k = {
        grid: D.grid,
        tooltip: D.tooltip,
        legend: l(D.legend),
        xAxis: c(D.xAxis),
        yAxis: f(D.yAxis),
        dataZoom: u(D.dataZoom),
        series: _(F, x)
      };
      k.tooltip.formatter = p(), n.value = k, m(w.value, k);
    }, C = (x) => {
      v.value = x;
      const D = x || [], [F, I] = [[], []];
      D.forEach((P) => {
        F.push(P.name), I.push(P.value);
      });
    };
    return le(() => {
      a(), e.node.on({
        setData: C,
        request: a,
        state: i,
        updateChart: T
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: C,
        request: a,
        state: i,
        updateChart: T
      });
    }), (x, D) => {
      const F = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: D[0] || (D[0] = (I) => N(o)("click", I)),
        onDblclick: D[1] || (D[1] = (I) => N(o)("dblclick", I))
      }), [
        Fe(F, {
          ref_key: "chartRef",
          ref: w,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Gd = "visWidgetChartBarHorizontalStack", vT = "双向水平条形图", gT = "0.0.1", yT = /* @__PURE__ */ ue({
  name: Gd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Gd, title: vT },
    version: gT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: -40,
        y2: 54
      },
      {
        product: "2024-02-02 09:11:55",
        y1: -40,
        y2: 54
      },
      {
        product: "2025-03-03 10:12:56",
        y1: -56,
        y2: 88
      },
      {
        product: "2026-04-04 11:13:57",
        y1: -32,
        y2: 55
      },
      {
        product: "2027-05-05 12:14:58",
        y1: -60,
        y2: 74
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      seriesStyle: {
        barGap: 22,
        barWidth: 40,
        barType: "rect",
        // 自定义属性 柱体类型 圆边矩形circle/半圆矩形round/矩形rect,
        hideBarGap: !0
      },
      grid: J("grid", {
        right: 45,
        top: 30
      }),
      tooltip: J("tooltip"),
      legend: J("legend", {
        padding: [10, 42, 0, 0]
      }),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis", {
        axisLine: {
          show: !0,
          lineStyle: {
            color: "#92A5B4",
            width: 1
          }
        },
        nameTextStyle: {
          show: !1,
          color: "#BFC8D0",
          fontWeight: "normal",
          fontSize: 12,
          align: "left",
          verticalAlign: "bottom",
          offsetX: -207,
          offsetY: -12
        }
      }),
      yAxis: [
        {
          type: "value",
          name: "单位",
          isSingle: !0,
          position: "left",
          offset: 0,
          nameTextStyle: {
            show: !0,
            color: "#BFC8D0",
            fontWeight: "normal",
            fontSize: 12,
            offsetX: -28,
            offsetY: -20,
            verticalAlign: "bottom"
          },
          axisLabel: {
            show: !0,
            rotate: 0,
            color: "#BFC8D0",
            fontSize: 12,
            fontWeight: "normal",
            formatterFixed: 0,
            opacity: 100
          },
          splitLine: {
            show: !1,
            lineStyle: {
              width: 1,
              color: "#2D3947",
              type: "solid"
            }
          },
          axisLine: {
            show: !0,
            lineStyle: {
              width: 1,
              color: "#92A5B4"
            }
          },
          axisTick: {
            show: !1,
            length: 5,
            lineStyle: {
              width: 1,
              color: "#2D3947"
            }
          },
          valueRange: {
            show: !0,
            minValue: -100,
            maxValue: 100,
            isFixedValue: !0,
            minScale: 0.8,
            maxScale: 1.2
          }
        }
      ],
      series: [
        {
          name: "类型一",
          type: "bar",
          stack: "stack",
          barMinHeight: 0,
          itemStyle: {
            color: "#41A9F4",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        },
        {
          name: "类型二",
          type: "bar",
          stack: "stack",
          barMinHeight: 0,
          itemStyle: {
            color: "#53D09E",
            barBorderRadius: 0
          },
          label: {
            show: !1,
            position: "",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getLegend: s, getDataZoom: l } = et(), { getXAxis: u, getYAxis: c } = St(), { getThemeColor: f } = tt(e.node), { getMarkLine: h } = Tn(), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const C = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(C);
      },
      set: (C) => {
        e.node.data = C;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          w();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = ({ color: C = "", direction: x = "horizontal", colorIndex: D = 0, reverse: F = !1 }) => {
      const I = f(D, C), P = new $e(I), { valpha: O } = P, k = P.color.toString();
      return {
        type: "linear",
        x: x === "horizontal" && !F ? 1 : 0,
        y: 0,
        x2: x === "horizontal" && F ? 1 : 0,
        y2: x === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${k}, ${O})`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${k}, ${0.5 * O})`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, S = (C, x, D) => {
      const F = (C.barWidth || 0) / 2;
      return {
        rect: [0, 0, 0, 0],
        circle: [F, F, F, F],
        round: D ? [F, 0, 0, F] : [0, F, F, 0]
      }[x];
    }, b = (C, x) => {
      const D = x.chartOption.series, F = x.chartOption.seriesStyle;
      if (!F) return;
      const P = x.chartDataFieldMap.measure.field, O = [];
      return D.forEach((k, $) => {
        const M = P[$ % P.length];
        if (!M) return;
        const A = M.fieldName;
        let L = !1;
        const R = C.map((z) => (z[A] < 0 && (L = !0), {
          value: z[A],
          dataRef: z || {},
          yAxisIndex: k.yAxisIndex
        })), E = k.label, B = S(F, F.barType, L), W = {
          type: k.type,
          name: k.name,
          stack: "stack",
          barGap: `${F.barGap}%`,
          barWidth: `${F.barWidth}%`,
          barMinHeight: k.barMinHeight || 0,
          showBackground: k.showBackground || !1,
          backgroundStyle: { ...k.backgroundStyle, borderRadius: B },
          itemStyle: {
            color: y({
              color: k.itemStyle.color,
              colorIndex: $,
              reverse: L
            }),
            borderRadius: B
          },
          label: {
            show: E.show || !1,
            // 开启显示
            position: E.position,
            // 数值样式
            fontSize: E.fontSize,
            color: E.color,
            fontWeight: E.fontWeight,
            fontFamily: E.fontFamily,
            opacity: E.opacity / 100,
            textDecoration: E.textDecoration,
            fontStyle: E.fontStyle,
            letterSpacing: E.letterSpacing,
            lineHeight: E.lineHeight,
            offset: [0, 1]
          },
          data: R
        };
        k.markLine && k.markLine.show && (W.markLine = h(k.markLine)), O.push(W);
      }), O;
    }, _ = Q(), w = () => {
      const C = me(e.node), x = C.chartOption, D = g.value, I = (C.chartDataFieldMap.dimension.field[0] || {}).fieldName, P = [];
      if (D.length && I && (D.forEach((k) => {
        P.includes(k[I]) || P.push(k[I]);
      }), x.xAxis.data = P), P.length === 0) return;
      const O = {
        grid: x.grid,
        tooltip: x.tooltip,
        legend: s(x.legend),
        xAxis: c(x.yAxis),
        yAxis: u(x.xAxis),
        dataZoom: l(x.dataZoom),
        series: b(D, C)
      };
      O.tooltip.formatter = d(), n.value = O, p(_.value, O);
    }, T = (C) => {
      g.value = C;
      const x = C || [], [D, F] = [[], []];
      x.forEach((I) => {
        D.push(I.name), F.push(I.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: T,
        request: o,
        state: a,
        updateChart: w
      });
    }), (C, x) => {
      const D = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: x[0] || (x[0] = (F) => N(r)("click", F)),
        onDblclick: x[1] || (x[1] = (F) => N(r)("dblclick", F))
      }), [
        Fe(D, {
          ref_key: "chartRef",
          ref: _,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Xd = "visWidgetChartSolidBar", mT = "立体柱状图", ST = "0.0.1", bT = /* @__PURE__ */ ue({
  name: Xd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Xd, title: mT },
    version: ST,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      seriesStyle: {
        barGap: 30,
        barWidth: 20,
        barType: "rect"
        // 自定义属性 柱体类型 圆边矩形circle/半圆矩形round/矩形rect
      },
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "bar",
          yAxisIndex: 0,
          itemStyle: {
            color: "#41A9F4"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getLegend: s, getDataZoom: l } = et(), { getXAxis: u, getYAxis: c } = St(), { getThemeColor: f } = tt(e.node), { getMarkLine: h } = Tn(), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const P = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(P);
      },
      set: (P) => {
        e.node.data = P;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          F();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = gn.graphic.extendShape({
      shape: {
        x: 0,
        y: 0
      },
      buildPath: function(P, O) {
        const k = O.xAxisPoint, $ = [O.x, O.y], M = [O.x - 8, O.y - 8], A = [k[0] - 8, k[1] - 8], L = [k[0], k[1]];
        P.moveTo($[0], $[1]).lineTo(M[0], M[1]).lineTo(A[0], A[1]).lineTo(L[0], L[1]).closePath();
      }
    }), S = gn.graphic.extendShape({
      shape: {
        x: 0,
        y: 0
      },
      buildPath: function(P, O) {
        const k = O.xAxisPoint, $ = [O.x, O.y], M = [k[0], k[1]], A = [k[0] + 13, k[1] - 4], L = [O.x + 13, O.y - 4];
        P.moveTo($[0], $[1]).lineTo(M[0], M[1]).lineTo(A[0], A[1]).lineTo(L[0], L[1]).closePath();
      }
    }), b = gn.graphic.extendShape({
      shape: {
        x: 0,
        y: 0
      },
      buildPath: function(P, O) {
        const k = [O.x, O.y], $ = [O.x + 13, O.y - 4], M = [O.x + 5, O.y - 12], A = [O.x - 8, O.y - 8];
        P.moveTo(k[0], k[1]).lineTo($[0], $[1]).lineTo(M[0], M[1]).lineTo(A[0], A[1]).closePath();
      }
    });
    gn.graphic.registerShape("CubeLeft", y), gn.graphic.registerShape("CubeRight", S), gn.graphic.registerShape("CubeTop", b);
    const _ = ({ color: P = "", colorIndex: O = 0 }) => (P = f(O, P), new $e(P).hex()), w = ({ color: P = "", direction: O = "vertical", colorIndex: k = 0 }) => {
      P = f(k, P);
      const M = new $e(P).color.toString();
      return {
        type: "linear",
        x: O && O === "horizontal" ? 1 : 0,
        y: 0,
        x2: 0,
        y2: O && O === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${M}, 1)`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${M}, 0.6)`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, T = ({ color: P = "", direction: O = "vertical", colorIndex: k = 0 }) => {
      P = f(k, P);
      const M = new $e(P).color.toString();
      return {
        type: "linear",
        x: O && O === "horizontal" ? 1 : 0,
        y: 0,
        x2: 0,
        y2: O && O === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${M}, 0.6)`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${M}, 0.3)`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, C = ({ color: P = "", colorIndex: O = 0 }) => {
      P = f(O, P);
      const $ = new $e(P).color.toString();
      return {
        type: "linear",
        x: 0,
        y: 0,
        x2: 1,
        y2: 1,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${$}, 1)`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${$}, 0.3)`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, x = (P, O) => {
      const k = O.chartOption.series;
      if (!O.chartOption.seriesStyle) return;
      const A = O.chartDataFieldMap.measure.field, L = [];
      k.forEach((E, B) => {
        const W = A[B % A.length];
        if (!W) return;
        const z = W.fieldName, V = P.map((K) => ({
          value: K[z],
          dataRef: K || {},
          yAxisIndex: E.yAxisIndex
        })), q = E.label, U = {
          name: E.name,
          type: "custom",
          itemStyle: {
            color: _({
              color: E.itemStyle.color,
              colorIndex: B
            })
          },
          label: {
            show: q.show || !1,
            // 开启显示
            position: "top",
            // 在上方显示,
            // 数值样式
            fontSize: q.fontSize,
            color: q.color,
            fontWeight: q.fontWeight,
            fontFamily: q.fontFamily,
            opacity: q.opacity / 100,
            textDecoration: q.textDecoration,
            fontStyle: q.fontStyle,
            letterSpacing: q.letterSpacing,
            lineHeight: q.lineHeight,
            padding: [0, 0, 10, 6]
          },
          renderItem: (K, Z) => {
            const ee = Z.coord([Z.value(0), Z.value(1)]);
            return {
              type: "group",
              children: [
                {
                  type: "CubeLeft",
                  shape: {
                    api: Z,
                    xValue: Z.value(0),
                    yValue: Z.value(1),
                    x: ee[0],
                    y: ee[1],
                    xAxisPoint: Z.coord([Z.value(0), 0])
                  },
                  style: {
                    fill: w({ color: E.itemStyle.color, colorIndex: B })
                  }
                },
                {
                  type: "CubeRight",
                  shape: {
                    api: Z,
                    xValue: Z.value(0),
                    yValue: Z.value(1),
                    x: ee[0],
                    y: ee[1],
                    xAxisPoint: Z.coord([Z.value(0), 0])
                  },
                  style: {
                    fill: T({ color: E.itemStyle.color, colorIndex: B })
                  }
                },
                {
                  type: "CubeTop",
                  shape: {
                    api: Z,
                    xValue: Z.value(0),
                    yValue: Z.value(1),
                    x: ee[0],
                    y: ee[1],
                    xAxisPoint: Z.coord([Z.value(0), 0])
                  },
                  style: {
                    fill: C({ color: E.itemStyle.color, colorIndex: B })
                  }
                },
                {
                  type: "text",
                  style: {
                    text: "This text",
                    x: 0,
                    y: 0
                  },
                  textConfig: {
                    position: "inside"
                  }
                }
              ]
            };
          },
          data: V
        };
        E.markLine && E.markLine.show && (U.markLine = h(E.markLine)), L.push(U);
      });
      const R = [];
      return L.forEach((E) => {
        R.push({
          type: "bar",
          name: E.name,
          label: E.label,
          itemStyle: {
            color: "transparent"
          },
          tooltip: {
            show: !1
          },
          data: E.data
        });
      }), [...L, ...R];
    }, D = Q(), F = () => {
      const P = me(e.node), O = P.chartOption, k = g.value, M = (P.chartDataFieldMap.dimension.field[0] || {}).fieldName, A = [];
      if (k.length && M && (k.forEach((R) => {
        A.includes(R[M]) || A.push(R[M]);
      }), O.xAxis.data = A), A.length === 0) return;
      const L = {
        grid: O.grid,
        tooltip: O.tooltip,
        legend: s(O.legend),
        xAxis: u(O.xAxis),
        yAxis: c(O.yAxis),
        dataZoom: l(O.dataZoom),
        series: x(k, P)
      };
      L.tooltip.formatter = d(), n.value = L, p(D.value, L);
    }, I = (P) => {
      g.value = P;
      const O = P || [], [k, $] = [[], []];
      O.forEach((M) => {
        k.push(M.name), $.push(M.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: I,
        request: o,
        state: a,
        updateChart: F
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: I,
        request: o,
        state: a,
        updateChart: F
      });
    }), (P, O) => {
      const k = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: O[0] || (O[0] = ($) => N(r)("click", $)),
        onDblclick: O[1] || (O[1] = ($) => N(r)("dblclick", $))
      }), [
        Fe(k, {
          ref_key: "chartRef",
          ref: D,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Zd = "visWidgetChartDynamicBar", wT = "动态条形图", _T = "0.0.1", xT = /* @__PURE__ */ ue({
  name: Zd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Zd, title: wT },
    version: _T,
    w: 580,
    h: 400,
    data: [
      {
        product: "北京",
        y1: 0
      },
      {
        product: "上海",
        y1: 0
      },
      {
        product: "广东",
        y1: 0
      },
      {
        product: "江苏",
        y1: 0
      },
      {
        product: "湖北",
        y1: 0
      },
      {
        product: "湖南",
        y1: 0
      },
      {
        product: "天津",
        y1: 0
      },
      {
        product: "重庆",
        y1: 0
      },
      {
        product: "浙江",
        y1: 0
      },
      {
        product: "福建",
        y1: 0
      }
    ],
    // 模拟数据配置
    mockConfig: {
      enable: !1
    },
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      seriesStyle: {
        barGap: 10,
        barWidth: 40,
        barType: "round"
        // 自定义属性 柱体类型 圆边矩形circle/半圆矩形round/矩形rect
      },
      grid: J("grid", { right: 48 }),
      tooltip: {
        show: !1
      },
      legend: J("legend"),
      xAxis: J("xAxis", {
        inverse: !0,
        animationDuration: 300,
        animationDurationUpdate: 300
      }),
      yAxis: J("yAxis", { max: "dataMax" }),
      series: [
        {
          name: "类型一",
          type: "bar",
          yAxisIndex: 0,
          itemStyle: {
            color: "#41A9F4"
          },
          label: {
            show: !0,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getLegend: s } = et(), { getXAxis: l, getYAxis: u } = St(), { getThemeColor: c } = tt(e.node), { getMarkLine: f } = Tn(), { getMappedData: h } = we(), d = H({
      get: () => {
        const x = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return h(x);
      },
      set: (x) => {
        e.node.data = x;
      }
    }), p = H(() => e.node.mockConfig), m = H(() => e.node.chartOption);
    ve(
      [d, p, m],
      () => {
        Se(() => {
          b();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const g = ({ color: x = "", direction: D = "vertical", colorIndex: F = 0 }) => {
      x = c(F, x);
      const P = new $e(x).color.toString();
      return {
        type: "linear",
        x: 0,
        y: 0,
        x2: D && D === "horizontal" ? 1 : 0,
        y2: D && D === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${P}, 0.3)`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${P}, 1)`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, v = (x, D) => {
      const F = (x.barWidth || 0) / 2;
      return {
        rect: [0, 0, 0, 0],
        circle: [F, F, F, F],
        round: [0, F, F, 0]
      }[D];
    }, y = (x, D) => {
      const F = D.chartOption.series, I = D.chartOption.seriesStyle;
      if (!I) return;
      const O = D.chartDataFieldMap.measure.field, k = [];
      return F.forEach(($, M) => {
        const A = O[M % O.length];
        if (!A) return;
        const L = A.fieldName, R = x.map((W) => ({
          value: W[L],
          dataRef: W || {},
          yAxisIndex: $.yAxisIndex
        })), E = $.label, B = {
          realtimeSort: !0,
          type: $.type,
          name: $.name,
          barGap: `${I.barGap}%`,
          barWidth: `${I.barWidth}%`,
          label: {
            show: E.show || !1,
            // 开启显示
            position: "right",
            // 数值样式
            fontSize: E.fontSize,
            color: E.color,
            fontWeight: E.fontWeight,
            fontFamily: E.fontFamily,
            opacity: E.opacity / 100,
            textDecoration: E.textDecoration,
            fontStyle: E.fontStyle,
            letterSpacing: E.letterSpacing,
            lineHeight: E.lineHeight,
            offset: [0, 1]
          },
          itemStyle: {
            borderRadius: v(I, I.barType),
            color: g({ color: $.itemStyle.color, direction: "horizontal", colorIndex: M })
          },
          data: R
        };
        $.markLine && $.markLine.show && (B.markLine = f($.markLine)), k.push(B);
      }), k;
    }, S = Q(), b = () => {
      const x = me(e.node), D = x.chartOption, F = d.value, P = (x.chartDataFieldMap.dimension.field[0] || {}).fieldName, O = [];
      if (F.length && P && (F.forEach(($) => {
        O.includes($[P]) || O.push($[P]);
      }), D.xAxis.data = O), O.length === 0) return;
      const k = {
        grid: D.grid,
        legend: s(D.legend),
        xAxis: u(D.yAxis),
        yAxis: l(D.xAxis),
        series: y(F, x)
      };
      n.value = k, T();
    }, _ = (x) => {
      d.value = x;
      const D = x || [], [F, I] = [[], []];
      D.forEach((P) => {
        F.push(P.name), I.push(P.value);
      });
    }, w = Q(), T = () => {
      var x;
      C(), !(!((x = e.node.mockConfig) != null && x.enable) || e.node.editor.config.type === "render") && (w.value = setTimeout(() => {
        const D = parseInt((Math.random() * 20).toString()), F = d.value, I = parseInt((Math.random() * F.length).toString());
        d.value[I].y1 += D, T();
      }, 1500));
    }, C = () => {
      w.value && (clearTimeout(w.value), w.value = null);
    };
    return le(() => {
      o(), e.node.on({
        setData: _,
        request: o,
        state: a,
        updateChart: b
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: _,
        request: o,
        state: a,
        updateChart: b
      }), C();
    }), (x, D) => {
      const F = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: D[0] || (D[0] = (I) => N(r)("click", I)),
        onDblclick: D[1] || (D[1] = (I) => N(r)("dblclick", I))
      }), [
        Fe(F, {
          ref_key: "chartRef",
          ref: S,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Kd = "visWidgetChartLine", DT = "折线图", CT = "0.0.1", TT = /* @__PURE__ */ ue({
  name: Kd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Kd, title: DT },
    version: CT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "line",
          showSymbol: !0,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          yAxisIndex: 0,
          lineStyle: {
            width: 2,
            color: "#56C9FB"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          // 流光设置
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            // 单流光
            polyline: !0,
            effect: {
              // 显示特效
              show: !0,
              symbol: "circle",
              color: "#56C9FB",
              // 时间
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#56C9FB",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          // 是否显示面积图
          areaStyleShow: !1
        },
        {
          name: "类型二",
          type: "line",
          showSymbol: !0,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          yAxisIndex: 0,
          lineStyle: {
            width: 2,
            color: "#53D09E"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          // 流光设置
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            // 单流光
            polyline: !0,
            effect: {
              // 显示特效
              show: !0,
              symbol: "circle",
              color: "#56C9FB",
              // 时间
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#56C9FB",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          // 是否显示面积图
          areaStyleShow: !1
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = { renderer: "svg" }, r = Q({}), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getLegend: l, getDataZoom: u } = et(), { getXAxis: c, getYAxis: f } = St(), { getSeries: h } = Wa(e.node), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const _ = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(_);
      },
      set: (_) => {
        e.node.data = _;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          S();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = Q(), S = () => {
      var P;
      const _ = me(e.node), w = _.chartOption, T = g.value, x = (_.chartDataFieldMap.dimension.field[0] || {}).fieldName, D = [];
      if (T.length && x && (T.forEach((O) => {
        D.includes(O[x]) || D.push(O[x]);
      }), w.xAxis.data = D), D.length === 0) return;
      let F = n.renderer;
      (P = w.series) != null && P.length && w.series.forEach((O) => {
        var k;
        ((k = O.flowLight) != null && k.show || O.areaStyleShow) && (F = "canvas");
      }), F !== n.renderer && (n.renderer = F, y.value.init());
      const I = {
        grid: w.grid,
        tooltip: w.tooltip,
        legend: l(w.legend),
        xAxis: c(w.xAxis),
        yAxis: f(w.yAxis),
        dataZoom: u(w.dataZoom),
        series: h(T, _)
      };
      I.tooltip.formatter = d(), r.value = I, p(y.value, I);
    }, b = (_) => {
      g.value = _;
      const w = _ || [], [T, C] = [[], []];
      w.forEach((x) => {
        T.push(x.name), C.push(x.value);
      });
    };
    return le(() => {
      a(), e.node.on({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      });
    }), (_, w) => {
      const T = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: w[0] || (w[0] = (C) => N(o)("click", C)),
        onDblclick: w[1] || (w[1] = (C) => N(o)("dblclick", C))
      }), [
        Fe(T, {
          ref_key: "chartRef",
          ref: y,
          option: r.value,
          "init-options": n
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Jd = "visWidgetChartLineSingle", FT = "单折线图", AT = "0.0.1", kT = /* @__PURE__ */ ue({
  name: Jd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Jd, title: FT },
    version: AT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "line",
          showSymbol: !0,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          yAxisIndex: 0,
          lineStyle: {
            width: 2,
            color: "#56C9FB"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          // 流光设置
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            // 单流光
            polyline: !0,
            effect: {
              // 显示特效
              show: !0,
              symbol: "circle",
              color: "#56C9FB",
              // 时间
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#56C9FB",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          // 是否显示面积图
          areaStyleShow: !1
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = { renderer: "svg" }, r = Q({}), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getLegend: l, getDataZoom: u } = et(), { getXAxis: c, getYAxis: f } = St(), { getSeries: h } = Wa(e.node), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const _ = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(_);
      },
      set: (_) => {
        e.node.data = _;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          S();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = Q(), S = () => {
      var P;
      const _ = me(e.node), w = _.chartOption, T = g.value, x = (_.chartDataFieldMap.dimension.field[0] || {}).fieldName, D = [];
      if (T.length && x && (T.forEach((O) => {
        D.includes(O[x]) || D.push(O[x]);
      }), w.xAxis.data = D), D.length === 0) return;
      let F = n.renderer;
      (P = w.series) != null && P.length && w.series.forEach((O) => {
        var k;
        (k = O.flowLight) != null && k.show && (F = "canvas");
      }), F !== n.renderer && (n.renderer = F, y.value.init());
      const I = {
        grid: w.grid,
        tooltip: w.tooltip,
        legend: l(w.legend),
        xAxis: c(w.xAxis),
        yAxis: f(w.yAxis),
        dataZoom: u(w.dataZoom),
        series: h(T, _)
      };
      I.tooltip.formatter = d(), r.value = I, p(y.value, I);
    }, b = (_) => {
      g.value = _;
      const w = _ || [], [T, C] = [[], []];
      w.forEach((x) => {
        T.push(x.name), C.push(x.value);
      });
    };
    return le(() => {
      a(), e.node.on({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      });
    }), (_, w) => {
      const T = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: w[0] || (w[0] = (C) => N(o)("click", C)),
        onDblclick: w[1] || (w[1] = (C) => N(o)("dblclick", C))
      }), [
        Fe(T, {
          ref_key: "chartRef",
          ref: y,
          option: r.value,
          "init-options": n
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Qd = "visWidgetChartLineArea", ET = "折线面积图", MT = "0.0.1", OT = /* @__PURE__ */ ue({
  name: Qd,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Qd, title: ET },
    version: MT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "line",
          showSymbol: !0,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          yAxisIndex: 0,
          lineStyle: {
            width: 2,
            color: "#56C9FB"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          // 流光设置
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            // 单流光
            polyline: !0,
            effect: {
              // 显示特效
              show: !0,
              symbol: "circle",
              color: "#56C9FB",
              // 时间
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#56C9FB",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          // 是否显示面积图
          areaStyleShow: !0
        },
        {
          name: "类型二",
          type: "line",
          showSymbol: !0,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          yAxisIndex: 0,
          lineStyle: {
            width: 2,
            color: "#53D09E"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          // 流光设置
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            // 单流光
            polyline: !0,
            effect: {
              // 显示特效
              show: !0,
              symbol: "circle",
              color: "#56C9FB",
              // 时间
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#56C9FB",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          // 是否显示面积图
          areaStyleShow: !0
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = { renderer: "svg" }, r = Q({}), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getLegend: l, getDataZoom: u } = et(), { getXAxis: c, getYAxis: f } = St(), { getSeries: h } = Wa(e.node), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const _ = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(_);
      },
      set: (_) => {
        e.node.data = _;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          S();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = Q(), S = () => {
      var P;
      const _ = me(e.node), w = _.chartOption, T = g.value, x = (_.chartDataFieldMap.dimension.field[0] || {}).fieldName, D = [];
      if (T.length && x && (T.forEach((O) => {
        D.includes(O[x]) || D.push(O[x]);
      }), w.xAxis.data = D), D.length === 0) return;
      let F = n.renderer;
      (P = w.series) != null && P.length && w.series.forEach((O) => {
        var k;
        ((k = O.flowLight) != null && k.show || O.areaStyleShow) && (F = "canvas");
      }), F !== n.renderer && (n.renderer = F, y.value.init());
      const I = {
        grid: w.grid,
        tooltip: w.tooltip,
        legend: l(w.legend),
        xAxis: c(w.xAxis),
        yAxis: f(w.yAxis),
        dataZoom: u(w.dataZoom),
        series: h(T, _)
      };
      I.tooltip.formatter = d(), r.value = I, p(y.value, I);
    }, b = (_) => {
      g.value = _;
    };
    return le(() => {
      a(), e.node.on({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      });
    }), (_, w) => {
      const T = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: w[0] || (w[0] = (C) => N(o)("click", C)),
        onDblclick: w[1] || (w[1] = (C) => N(o)("dblclick", C))
      }), [
        Fe(T, {
          ref_key: "chartRef",
          ref: y,
          option: r.value,
          "init-options": n
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), eh = "visWidgetChartLineAreaSingle", RT = "单折线面积图", LT = "0.0.1", $T = /* @__PURE__ */ ue({
  name: eh,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: eh, title: RT },
    version: LT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 78
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 38
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 74,
        y2: 50
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 70
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 50
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 86,
        y2: 82
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip"),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "line",
          showSymbol: !0,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          yAxisIndex: 0,
          lineStyle: {
            width: 2,
            color: "#56C9FB"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          // 流光设置
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            // 单流光
            polyline: !0,
            effect: {
              // 显示特效
              show: !0,
              symbol: "circle",
              color: "#56C9FB",
              // 时间
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#56C9FB",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          // 是否显示面积图
          areaStyleShow: !0
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = { renderer: "svg" }, r = Q({}), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getLegend: l, getDataZoom: u } = et(), { getXAxis: c, getYAxis: f } = St(), { getSeries: h } = Wa(e.node), { getTooltipFormatter: d, toogleTooltipLoop: p } = Zt(e.node), { getMappedData: m } = we(), g = H({
      get: () => {
        const _ = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return m(_);
      },
      set: (_) => {
        e.node.data = _;
      }
    }), v = H(() => e.node.chartOption);
    ve(
      [g, v, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          S();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const y = Q(), S = () => {
      var P;
      const _ = me(e.node), w = _.chartOption, T = g.value, x = (_.chartDataFieldMap.dimension.field[0] || {}).fieldName, D = [];
      if (T.length && x && (T.forEach((O) => {
        D.includes(O[x]) || D.push(O[x]);
      }), w.xAxis.data = D), D.length === 0) return;
      let F = n.renderer;
      (P = w.series) != null && P.length && w.series.forEach((O) => {
        var k;
        ((k = O.flowLight) != null && k.show || O.areaStyleShow) && (F = "canvas");
      }), F !== n.renderer && (n.renderer = F, y.value.init());
      const I = {
        grid: w.grid,
        tooltip: w.tooltip,
        legend: l(w.legend),
        xAxis: c(w.xAxis),
        yAxis: f(w.yAxis),
        dataZoom: u(w.dataZoom),
        series: h(T, _)
      };
      I.tooltip.formatter = d(), r.value = I, p(y.value, I);
    }, b = (_) => {
      g.value = _;
    };
    return le(() => {
      a(), e.node.on({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: b,
        request: a,
        state: i,
        updateChart: S
      });
    }), (_, w) => {
      const T = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: w[0] || (w[0] = (C) => N(o)("click", C)),
        onDblclick: w[1] || (w[1] = (C) => N(o)("dblclick", C))
      }), [
        Fe(T, {
          ref_key: "chartRef",
          ref: y,
          option: r.value,
          "init-options": n
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), th = "visWidgetChartLineAreaBar", IT = "折线柱状图", PT = "0.0.1", zT = /* @__PURE__ */ ue({
  name: th,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: th, title: IT },
    version: PT,
    w: 455,
    h: 245,
    data: [
      {
        product: "2023-01-01 08:10:54",
        y1: 88,
        y2: 82
      },
      {
        product: "2024-02-02 09:11:55",
        y1: 58,
        y2: 50
      },
      {
        product: "2025-03-03 10:12:56",
        y1: 76,
        y2: 74
      },
      {
        product: "2026-04-04 11:13:57",
        y1: 82,
        y2: 74
      },
      {
        product: "2027-05-05 12:14:58",
        y1: 66,
        y2: 60
      },
      {
        product: "2028-06-06 13:15:59",
        y1: 84,
        y2: 80
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "类型二",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    chartOption: {
      grid: {
        left: 24,
        top: 48,
        right: 24,
        bottom: 24,
        containLabel: !0
      },
      tooltip: {
        show: !0,
        trigger: "axis",
        confine: !0,
        backgroundColor: "rgba(0,0,0,0.85)",
        borderColor: "rgba(255,255,255,0.1)",
        borderWidth: 1,
        padding: [12, 16, 12, 16],
        textStyle: {
          fontSize: 14,
          color: "#fff"
        },
        axisPointer: {
          type: "line",
          lineStyle: {
            color: "rgba(255,255,255,0.1)",
            width: 35,
            type: "solid"
          }
        },
        loopEnable: !1,
        loopInterval: 3,
        typeStyle: {
          fontFamily: "",
          fontColor: "#D9DCDC",
          fontSize: 14,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 20
        },
        nameStyle: {
          fontFamily: "",
          fontColor: "#D9DCDC",
          fontSize: 12,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 20
        },
        valueStyle: {
          fontFamily: "PangMenZhengDaoBiaoTiTi",
          fontColor: "#FFFFFF",
          fontSize: 14,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 1,
          lineHeight: 20,
          flowSeries: !0
        },
        unitStyle: {
          fontFamily: "",
          fontColor: "#D9DCDC",
          fontSize: 12,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 20,
          flowSeries: !1
        },
        percentStyle: {
          fontFamily: "PangMenZhengDaoBiaoTiTi",
          fontColor: "#FFFFFF",
          fontSize: 14,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 1,
          lineHeight: 20,
          flowSeries: !0
        },
        ratioStyle: {
          fontFamily: "",
          fontColor: "#D9DCDC",
          fontSize: 12,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 20,
          flowSeries: !1
        }
      },
      legend: {
        show: !0,
        left: "center",
        top: "top",
        align: "left",
        orient: "horizontal",
        itemWidth: 18,
        itemHeight: 10,
        borderRadius: 0,
        textStyle: {
          color: "#B3CDDD",
          fontSize: 12,
          fontWeight: "normal"
        },
        padding: [20, 24, 0, 0]
      },
      xAxis: {
        type: "category",
        formatType: "time",
        formatter: "MM月",
        name: "单位",
        nameTextStyle: {
          show: !1,
          color: "#BFC8D0",
          fontWeight: "normal",
          fontSize: 12,
          verticalAlign: "top",
          offsetX: -16,
          offsetY: 12
        },
        axisLabel: {
          show: !0,
          rotate: 0,
          color: "#BFC8D0",
          fontWeight: "normal",
          padding: [4, 0, 0, 0],
          fontSize: 12,
          interval: 6,
          width: 60,
          overflow: "truncate"
        },
        splitLine: {
          show: !1,
          lineStyle: {
            color: "#2D3947",
            type: "dashed",
            width: 1
          }
        },
        axisLine: {
          show: !0,
          lineStyle: {
            color: "#2D3947",
            width: 1
          }
        },
        axisTick: {
          show: !1,
          length: 5,
          lineStyle: {
            color: "#2D3947",
            width: 1
          }
        }
      },
      yAxis: [
        {
          type: "value",
          name: "单位",
          position: "left",
          offset: 0,
          nameTextStyle: {
            show: !0,
            color: "#BFC8D0",
            fontWeight: "normal",
            fontSize: 12,
            offsetX: 7,
            offsetY: 0
          },
          axisLabel: {
            show: !0,
            rotate: 0,
            color: "#BFC8D0",
            fontSize: 12,
            fontWeight: "normal",
            formatterFixed: 0
          },
          splitLine: {
            show: !0,
            lineStyle: {
              width: 1,
              color: "#2D3947",
              type: "dashed"
            }
          },
          axisLine: {
            show: !1,
            lineStyle: {
              width: 1,
              color: "#2D3947"
            }
          },
          axisTick: {
            show: !1,
            length: 5,
            lineStyle: {
              width: 1,
              color: "#2D3947"
            }
          },
          valueRange: {
            show: !1,
            minValue: 0,
            maxValue: 100,
            isFixedValue: !0,
            minScale: 0.8,
            maxScale: 1.2
          }
        },
        {
          type: "value",
          name: "单位",
          position: "right",
          offset: 0,
          nameTextStyle: {
            show: !0,
            color: "#BFC8D0",
            fontWeight: "normal",
            fontSize: 12,
            offsetX: 7,
            offsetY: 0
          },
          axisLabel: {
            show: !0,
            rotate: 0,
            color: "#BFC8D0",
            fontSize: 12,
            fontWeight: "normal",
            formatterFixed: 0
          },
          splitLine: {
            show: !0,
            lineStyle: {
              width: 1,
              color: "#2D3947",
              type: "dashed"
            }
          },
          axisLine: {
            show: !1,
            lineStyle: {
              width: 1,
              color: "#2D3947"
            }
          },
          axisTick: {
            show: !1,
            length: 5,
            lineStyle: {
              width: 1,
              color: "#2D3947"
            }
          },
          valueRange: {
            show: !1,
            minValue: 0,
            maxValue: 100,
            isFixedValue: !0,
            minScale: 0.8,
            maxScale: 1.2
          }
        }
      ],
      dataZoom: {
        show: !1,
        type: "slider",
        startEnd: [0, 100],
        bottom: 0,
        height: 12,
        fillerColor: "rgba(216, 216, 216, 0.20)",
        borderColor: "rgba(151, 151, 151, 0.16)",
        borderRadius: 0,
        handleIcon: "path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",
        handleSize: "120%",
        handleStyle: {
          color: "#9EA4A9",
          borderWidth: 0
        },
        textStyle: {
          color: "transparent"
        },
        brushSelect: !1,
        dataBackground: {
          lineStyle: {
            opacity: 0
          },
          areaStyle: {
            opacity: 0
          }
        },
        selectedDataBackground: {
          lineStyle: {
            opacity: 0
          },
          areaStyle: {
            opacity: 0
          }
        }
      },
      seriesStyle: {
        barGap: 30,
        barWidth: 20,
        barType: "rect"
      },
      series: [
        {
          name: "类型一",
          type: "bar",
          showSymbol: !1,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          lineStyle: {
            width: 2,
            color: "#41A9F4"
          },
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            polyline: !0,
            effect: {
              show: !0,
              color: "#41A9F4",
              symbol: "circle",
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#41A9F4",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          areaStyleShow: !1,
          barMinHeight: 0,
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(255,255,255, 0)"
          },
          itemStyle: {
            color: "#41A9F4",
            barBorderRadius: 0
          },
          yAxisIndex: 0,
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          }
        },
        {
          name: "类型二",
          type: "line",
          barMinHeight: 0,
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(255,255,255, 0)"
          },
          itemStyle: {
            color: "#53D09E",
            barBorderRadius: 0
          },
          showSymbol: !1,
          symbol: "circle",
          symbolSize: 6,
          smooth: !1,
          yAxisIndex: 1,
          lineStyle: {
            width: 2,
            color: "#53D09E"
          },
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          },
          flowLight: {
            show: !1,
            type: "lines",
            coordinateSystem: "cartesian2d",
            symbol: "circle",
            polyline: !0,
            effect: {
              show: !0,
              color: "#53D09E",
              symbol: "circle",
              period: 2,
              symbolSize: 4
            },
            lineStyle: {
              color: "#53D09E",
              width: 0,
              opacity: 0,
              curveness: 0
            }
          },
          areaStyleShow: !0
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = { renderer: "svg" }, r = Q({}), { getThemeColor: o } = tt(e.node), { getXAxis: a, getYAxis: i } = St(), { getDataZoom: s } = et(), { getMarkLine: l } = Tn(), { getAreaStyle: u, getFlowLight: c } = Wa(e.node), { getTooltipFormatter: f, toogleTooltipLoop: h } = Zt(e.node), { handleEvent: d, handleRequest: p, handleState: m, wrapperAttrs: g } = he(e.node), { getMappedData: v } = we(), y = H({
      get: () => {
        const D = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return v(D);
      },
      set: (D) => {
        e.node.data = D;
      }
    }), S = H(() => e.node.chartOption);
    ve(
      [y, S, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          C();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const b = ({ color: D = "", direction: F = "horizontal", colorIndex: I = 0 }) => {
      D = o(I, D);
      const P = new $e(D), O = P.color.toString(), k = P.valpha;
      return {
        type: "linear",
        x: F && F === "horizontal" ? 1 : 0,
        y: 0,
        x2: 0,
        y2: F && F === "vertical" ? 1 : 0,
        colorStops: [
          {
            offset: 0,
            color: `rgba(${O}, ${k})`
            // 0% 处的颜色
          },
          {
            offset: 1,
            color: `rgba(${O}, ${0.5 * k})`
            // 100% 处的颜色
          }
        ],
        global: !1
        // 缺省为 false
      };
    }, _ = (D, F) => {
      const I = (D.barWidth || 0) / 2;
      return {
        rect: [0, 0, 0, 0],
        circle: [I, I, I, I],
        round: [I, I, 0, 0]
      }[F];
    }, w = (D, F) => {
      const { chartDataFieldMap: I } = e.node, { series: P, seriesStyle: O } = F, k = I.measure.field, $ = [];
      return P.forEach((M, A) => {
        const { type: L, name: R, showSymbol: E, symbol: B, symbolSize: W, smooth: z, yAxisIndex: V, lineStyle: q, label: U, markLine: K, flowLight: Z } = M, ee = k[A % k.length];
        if (!ee) return;
        const te = ee.fieldAlias, re = ee.fieldName;
        let xe = [];
        te && (xe = D.map((Xe) => ({
          value: Xe[re],
          dataRef: Xe || {},
          yAxisIndex: V
        })));
        const ge = {
          type: L,
          name: R || te,
          yAxisIndex: V,
          label: {
            show: U.show,
            // 开启显示
            position: "top",
            // 在上方显示,
            // 数值样式
            fontSize: U.fontSize,
            color: U.color,
            fontWeight: U.fontWeight,
            fontFamily: U.fontFamily,
            opacity: U.opacity / 100,
            textDecoration: U.textDecoration,
            fontStyle: U.fontStyle,
            letterSpacing: U.letterSpacing,
            lineHeight: U.lineHeight
          },
          data: xe
        };
        if (L === "line") {
          const Xe = {
            showSymbol: E,
            symbol: B,
            symbolSize: W
          };
          U.show && (!E || B === "none") && (Xe.showSymbol = !0, Xe.symbol = "circle", Xe.symbolSize = 0);
          const Mn = {
            showSymbol: Xe.showSymbol,
            symbol: Xe.symbol,
            symbolSize: Xe.symbolSize,
            smooth: z,
            lineStyle: {
              width: q.width,
              color: o(A, q.color)
            },
            itemStyle: {
              color: o(A, q.color)
            }
          };
          if (Object.assign(ge, Mn), K.show && (ge.markLine = l(K)), M.areaStyleShow && (ge.areaStyle = u(ge.lineStyle)), $.push(ge), Z.show) {
            const d1 = c(M, A, ge);
            $.push(d1);
          }
        }
        if (L === "bar") {
          const Xe = _(O, O.barType), Mn = {
            barGap: `${O.barGap}%`,
            barWidth: `${O.barWidth}%`,
            barMinHeight: M.barMinHeight || 0,
            showBackground: M.showBackground || !1,
            backgroundStyle: {
              ...M.backgroundStyle,
              borderRadius: Xe
            },
            itemStyle: {
              color: b({
                color: M.itemStyle.color,
                colorIndex: A
              }),
              borderRadius: Xe
            }
          };
          Object.assign(ge, Mn), M.markLine.show && (ge.markLine = l(M.markLine)), $.push(ge);
        }
      }), $;
    }, T = Q(), C = () => {
      var A;
      const { chartOption: D, data: F } = e.node, I = me(D), O = (e.node.chartDataFieldMap.dimension.field[0] || {}).fieldName, k = [];
      if (F.length && O && (F.forEach((L) => {
        k.includes(L[O]) || k.push(L[O]);
      }), I.xAxis.data = k), k.length === 0) return;
      let $ = n.renderer;
      (A = D.series) != null && A.length && D.series.forEach((L) => {
        var R;
        ((R = L.flowLight) != null && R.show || L.type === "line" && L.areaStyleShow) && ($ = "canvas");
      }), $ !== n.renderer && (n.renderer = $, T.value.init());
      const M = {
        ...I,
        xAxis: a(I.xAxis),
        yAxis: i(I.yAxis),
        dataZoom: s(I.dataZoom),
        series: w(F, I)
      };
      M.tooltip.formatter = f(), r.value = M, h(T.value, M);
    }, x = (D) => {
      y.value = D, C();
    };
    return le(() => {
      p(), e.node.on({
        setData: x,
        request: p,
        state: m,
        updateChart: C
      }), d("mounted", "");
    }), se(() => {
      e.node.off({
        setData: x,
        request: p,
        state: m,
        updateChart: C
      });
    }), (D, F) => {
      const I = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(g), {
        onClick: F[0] || (F[0] = (P) => N(d)("click", P)),
        onDblclick: F[1] || (F[1] = (P) => N(d)("dblclick", P))
      }), [
        Fe(I, {
          ref_key: "chartRef",
          ref: T,
          option: r.value,
          "init-options": n
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), nh = "visWidgetChartpie", BT = "饼图", WT = "0.0.1", NT = /* @__PURE__ */ ue({
  name: nh,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: nh, title: BT },
    version: WT,
    w: 455,
    h: 245,
    data: [
      {
        name: "类型一",
        value: 40
      },
      {
        name: "类型二",
        value: 30
      },
      {
        name: "类型三",
        value: 20
      },
      {
        name: "类型四",
        value: 10
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "系列",
        field: [
          {
            fieldName: "name",
            fieldAlias: "",
            fieldType: "s",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "数值",
        field: [
          {
            fieldName: "value",
            fieldAlias: "电",
            fieldType: "v",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("pieLegend"),
      seriesColor: [
        {
          show: !0,
          color: "#41A9F4",
          itemStyle: {
            color: "#41A9F4"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#53D09E",
          itemStyle: {
            color: "#53D09E"
          },
          show: !0,
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#DEC362",
          show: !0,
          itemStyle: {
            color: "#DEC362"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#C0E9FF",
          show: !0,
          itemStyle: {
            color: "#C0E9FF"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        }
      ],
      series: [
        {
          // name: '电',
          type: "pie",
          roseType: !1,
          radiusFlag: !1,
          sort: !1,
          outsideRadius: 60,
          insideRadius: 45,
          padAngle: 0,
          centerX: 50,
          centerY: 50,
          // radius: ['50%', '50%'],
          // center: ['50%', '60%'],
          animationType: "scale",
          animationEasing: "elasticOut",
          animationDelay: function() {
            return Math.random() * 200;
          },
          itemStyle: {
            color: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"],
            borderRadius: 0,
            shadowBlur: 0
            // 圆弧阴影
          },
          label: {
            show: !0,
            formatter: "{type|{b}} {value|{c}} {percent|({d}%)}",
            rich: {
              align: "",
              // 类型
              type: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 数值
              value: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 百分比
              percent: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              }
            }
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getMappedData: s } = we(), l = H({
      get: () => {
        const v = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return s(v);
      },
      set: (v) => {
        e.node.data = v;
      }
    }), u = H(() => e.node.chartOption);
    ve(
      [l, u, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          m();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const { getLegend: c, getSeries: f } = Os(e.node), { getTooltipFormatter: h, toogleTooltipLoop: d } = Rs(e.node), p = Q(), m = () => {
      const v = me(e.node), y = v.chartOption, S = l.value, b = {
        grid: y.grid,
        tooltip: y.tooltip,
        legend: c(S, v),
        series: f(S, v)
      };
      b.tooltip.formatter = h(), n.value = b, d(p.value, b);
    }, g = (v) => {
      l.value = v;
      const y = v || [], [S, b] = [[], []];
      y.forEach((_) => {
        S.push(_.name), b.push(_.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: g,
        request: o,
        state: a,
        updateChart: m
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: o,
        state: a,
        updateChart: m
      });
    }), (v, y) => {
      const S = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: y[0] || (y[0] = (b) => N(r)("click", b)),
        onDblclick: y[1] || (y[1] = (b) => N(r)("dblclick", b))
      }), [
        Fe(S, {
          ref_key: "chartRef",
          ref: p,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), rh = "visWidgetChartpieCircle", HT = "环形图", VT = "0.0.1", qT = /* @__PURE__ */ ue({
  name: rh,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: rh, title: HT },
    version: VT,
    w: 455,
    h: 245,
    data: [
      {
        name: "类型一",
        value: 40
      },
      {
        name: "类型二",
        value: 30
      },
      {
        name: "类型三",
        value: 20
      },
      {
        name: "类型四",
        value: 10
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "系列",
        field: [
          {
            fieldName: "name",
            fieldAlias: "",
            fieldType: "s",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "数值",
        field: [
          {
            fieldName: "value",
            fieldAlias: "电",
            fieldType: "v",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("pieLegend"),
      seriesColor: [
        {
          show: !0,
          color: "#41A9F4",
          itemStyle: {
            color: "#41A9F4"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#53D09E",
          itemStyle: {
            color: "#53D09E"
          },
          show: !0,
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#DEC362",
          show: !0,
          itemStyle: {
            color: "#DEC362"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#C0E9FF",
          show: !0,
          itemStyle: {
            color: "#C0E9FF"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        }
      ],
      series: [
        {
          // name: '电',
          type: "pie",
          roseType: !1,
          radiusFlag: !0,
          sort: !1,
          outsideRadius: 60,
          insideRadius: 45,
          padAngle: 0,
          centerX: 50,
          centerY: 50,
          // radius: ['50%', '50%'],
          // center: ['50%', '60%'],
          animationType: "scale",
          animationEasing: "elasticOut",
          animationDelay: function() {
            return Math.random() * 200;
          },
          itemStyle: {
            color: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"],
            borderRadius: 0,
            shadowBlur: 0
            // 圆弧阴影
          },
          label: {
            show: !0,
            formatter: "{type|{b}} {value|{c}} {percent|({d}%)}",
            rich: {
              align: "",
              // 类型
              type: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 数值
              value: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 百分比
              percent: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              }
            },
            textStyle: {
              // 数值样式
              fontSize: 14,
              // color: '#FFFFFF',
              fontWeight: 500
            }
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getMappedData: s } = we(), l = H({
      get: () => {
        const v = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return s(v);
      },
      set: (v) => {
        e.node.data = v;
      }
    }), u = H(() => e.node.chartOption);
    ve(
      [l, u, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          m();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const { getLegend: c, getSeries: f } = Os(e.node), { getTooltipFormatter: h, toogleTooltipLoop: d } = Rs(e.node), p = Q(), m = () => {
      const v = me(e.node), y = v.chartOption, S = l.value, b = {
        grid: y.grid,
        tooltip: y.tooltip,
        legend: c(S, v),
        series: f(S, v)
      };
      b.tooltip.formatter = h(), n.value = b, d(p.value, b);
    }, g = (v) => {
      l.value = v;
      const y = v || [], [S, b] = [[], []];
      y.forEach((_) => {
        S.push(_.name), b.push(_.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: g,
        request: o,
        state: a,
        updateChart: m
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: o,
        state: a,
        updateChart: m
      });
    }), (v, y) => {
      const S = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: y[0] || (y[0] = (b) => N(r)("click", b)),
        onDblclick: y[1] || (y[1] = (b) => N(r)("dblclick", b))
      }), [
        Fe(S, {
          ref_key: "chartRef",
          ref: p,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), oh = "visWidgetChartpieNightingale", jT = "玫瑰图", UT = "0.0.1", YT = /* @__PURE__ */ ue({
  name: oh,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: oh, title: jT },
    version: UT,
    w: 455,
    h: 245,
    data: [
      {
        name: "类型一",
        value: 40
      },
      {
        name: "类型二",
        value: 30
      },
      {
        name: "类型三",
        value: 20
      },
      {
        name: "类型四",
        value: 10
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "系列",
        field: [
          {
            fieldName: "name",
            fieldAlias: "",
            fieldType: "s",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "数值",
        field: [
          {
            fieldName: "value",
            fieldAlias: "电",
            fieldType: "v",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("pieLegend"),
      seriesColor: [
        {
          show: !0,
          color: "#41A9F4",
          itemStyle: {
            color: "#41A9F4"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#53D09E",
          itemStyle: {
            color: "#53D09E"
          },
          show: !0,
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#DEC362",
          show: !0,
          itemStyle: {
            color: "#DEC362"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#C0E9FF",
          show: !0,
          itemStyle: {
            color: "#C0E9FF"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: ""
            },
            // 数值
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              align: "",
              text: ""
            }
          }
        }
      ],
      series: [
        {
          // name: '电',
          type: "pie",
          roseType: !0,
          radiusFlag: !1,
          sort: !1,
          outsideRadius: 60,
          insideRadius: 15,
          padAngle: 0,
          centerX: 50,
          centerY: 50,
          // radius: ['50%', '50%'],
          // center: ['50%', '60%'],
          animationType: "scale",
          animationEasing: "elasticOut",
          animationDelay: function() {
            return Math.random() * 200;
          },
          itemStyle: {
            color: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"],
            borderRadius: 0,
            shadowBlur: 0
            // 圆弧阴影
          },
          label: {
            show: !0,
            formatter: "{type|{b}} {value|{c}} {percent|({d}%)}",
            rich: {
              align: "",
              // 类型
              type: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 数值
              value: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 百分比
              percent: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              }
            },
            textStyle: {
              // 数值样式
              fontSize: 14,
              // color: '#FFFFFF',
              fontWeight: 500
            }
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getMappedData: s } = we(), l = H({
      get: () => {
        const v = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return s(v);
      },
      set: (v) => {
        e.node.data = v;
      }
    }), u = H(() => e.node.chartOption);
    ve(
      [l, u, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          m();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const { getLegend: c, getSeries: f } = Os(e.node), { getTooltipFormatter: h, toogleTooltipLoop: d } = Rs(e.node), p = Q(), m = () => {
      const v = me(e.node), y = v.chartOption, S = l.value, b = {
        grid: y.grid,
        tooltip: y.tooltip,
        legend: c(S, v),
        series: f(S, v)
      };
      b.tooltip.formatter = h(), n.value = b, d(p.value, b);
    }, g = (v) => {
      l.value = v;
      const y = v || [], [S, b] = [[], []];
      y.forEach((_) => {
        S.push(_.name), b.push(_.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: g,
        request: o,
        state: a,
        updateChart: m
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: o,
        state: a,
        updateChart: m
      });
    }), (v, y) => {
      const S = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: y[0] || (y[0] = (b) => N(r)("click", b)),
        onDblclick: y[1] || (y[1] = (b) => N(r)("dblclick", b))
      }), [
        Fe(S, {
          ref_key: "chartRef",
          ref: p,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), ah = "visWidgetChartpieCircleShadow", GT = "环形阴影图", XT = "0.0.1", ZT = /* @__PURE__ */ ue({
  name: ah,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: ah, title: GT },
    version: XT,
    w: 455,
    h: 245,
    data: [
      {
        name: "类型一",
        value: 40
      },
      {
        name: "类型二",
        value: 30
      },
      {
        name: "类型三",
        value: 20
      },
      {
        name: "类型四",
        value: 10
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "系列",
        field: [
          {
            fieldName: "name",
            fieldAlias: "",
            fieldType: "s",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "数值",
        field: [
          {
            fieldName: "value",
            fieldAlias: "电",
            fieldType: "v",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      renderer: "canvas",
      grid: J("grid"),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("pieLegend"),
      seriesColor: [
        {
          show: !0,
          color: "#41A9F4",
          itemStyle: {
            color: "#41A9F4"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              lineHeight: 20,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              lineHeight: 20,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#41A9F4",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              lineHeight: 20,
              align: ""
            },
            // 后缀
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              lineHeight: 20,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#53D09E",
          itemStyle: {
            color: "#53D09E"
          },
          show: !0,
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              lineHeight: 20,
              width: 27,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              lineHeight: 20,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#53D09E",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 35,
              lineHeight: 20,
              align: ""
            },
            // 后缀
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              lineHeight: 20,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#DEC362",
          show: !0,
          itemStyle: {
            color: "#DEC362"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              lineHeight: 20,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              lineHeight: 20,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#DEC362",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              lineHeight: 20,
              align: ""
            },
            // 后缀
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              lineHeight: 20,
              align: "",
              text: ""
            }
          }
        },
        {
          color: "#C0E9FF",
          show: !0,
          itemStyle: {
            color: "#C0E9FF"
          },
          rich: {
            // 类型
            type: {
              show: !0,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 27,
              lineHeight: 20,
              align: ""
            },
            // 数值
            value: {
              show: !1,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 18,
              lineHeight: 20,
              align: ""
            },
            // 百分比
            percent: {
              show: !0,
              fontFamily: "",
              color: "#C0E9FF",
              fontSize: 14,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              lineHeight: 20,
              align: ""
            },
            // 后缀
            suffix: {
              show: !1,
              fontFamily: "",
              color: "#ffffff",
              fontSize: 12,
              fontWeight: "normal",
              fontStyle: "normal",
              width: 25,
              lineHeight: 20,
              align: "",
              text: ""
            }
          }
        }
      ],
      series: [
        {
          name: "",
          type: "pie",
          roundCap: !0,
          gap: 1.71,
          padAngle: 4,
          insideRadius: 46,
          centerX: 50,
          centerY: 50,
          data: [],
          labelLine: {
            show: !0,
            length: 30,
            length2: 100,
            lineStyle: {
              // color: '#fff', // lineStyle不设置颜色，gap才能是透明的
              width: 1,
              type: "solid"
            }
          },
          itemStyle: {
            color: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
          },
          label: {
            align: "left",
            padding: [0, -90, 0, -90],
            show: !0,
            position: "outer",
            formatter: "",
            rich: {
              align: ""
            },
            // 数值样式
            fontSize: 14,
            // color: '#FFFFFF',
            fontWeight: 500
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getMappedData: s } = we(), l = H({
      get: () => {
        const y = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return s(y);
      },
      set: (y) => {
        e.node.data = y;
      }
    }), u = H(() => e.node.chartOption);
    ve(
      [l, u, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          g();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const { getLegend: c } = Os(e.node), { getThemeColor: f } = tt(e.node), { getTooltipFormatter: h, toogleTooltipLoop: d } = Rs(e.node), p = (y, S) => {
      const b = me(S.chartOption.series), _ = b[0], w = S.chartOption.seriesColor, T = S.chartDataFieldMap, C = [], x = T.dimension.field[0] || {}, D = T.measure.field[0] || {};
      if (!D || !x) return;
      const F = x.fieldName, I = D.fieldName, P = y.map((k, $) => {
        var W, z, V, q, U;
        const M = w[$ % w.length], A = M.rich.type.show ? "{type|{b}}" : "", L = (z = (W = _.label) == null ? void 0 : W.rich) != null && z.align ? `
` : "", R = M.rich.value.show ? "{value|{c}}" : "", E = M.rich.value.show ? `{suffix|${M.rich.suffix.text}}` : "", B = M.rich.percent.show ? "{percent|{d}%}" : "";
        return {
          name: k[F],
          value: +k[I],
          dataRef: k || {},
          label: {
            align: "left",
            position: "outer",
            show: M.show || !1,
            // 开启显示
            formatter: `${A}
${L}${R}${E}${B}`,
            // 数值样式
            fontSize: ((V = _.label) == null ? void 0 : V.fontSize) || 14,
            color: ((q = _.label) == null ? void 0 : q.color) || "#fff",
            fontWeight: ((U = _.label) == null ? void 0 : U.fontWeight) || 500,
            rich: {
              type: M.rich.type,
              value: M.rich.value,
              percent: M.rich.percent,
              suffix: M.rich.suffix
            }
          },
          itemStyle: {
            color: f($, M.itemStyle.color)
          }
        };
      });
      _.sort && P.sort(function(k, $) {
        return k.value - $.value;
      });
      const O = [];
      for (let k = 0; k < P.length; k++)
        O.push({
          ...P[k],
          label: {
            show: !1
          },
          labelLine: {
            show: !1
          },
          silent: !0,
          itemStyle: {
            opacity: 0.21
          }
        });
      return b[0].data = P, b[0].center = [`${_.centerX}%`, `${_.centerY}%`], b[0].radius = [`${_.insideRadius + 12}%`, `${_.insideRadius + 16}%`], b[0].labelLayout = function(k) {
        const $ = k.labelRect.x < S.w / 2, M = k.labelLinePoints;
        return M ? (M[2][0] = $ ? k.labelRect.x : k.labelRect.x + k.labelRect.width, M[2][1] = k.labelRect.height + k.labelRect.y, M[1][1] = k.labelRect.height + k.labelRect.y, {
          labelLinePoints: M
        }) : {};
      }, C.push(b[0]), C.push({
        type: "pie",
        gap: _.gap,
        padAngle: _.padAngle,
        center: [`${_.centerX}%`, `${_.centerY}%`],
        radius: [`${_.insideRadius}%`, `${_.insideRadius + 12}%`],
        label: {
          show: !1
        },
        labelLine: {
          show: !1
        },
        silent: !0,
        data: O
      }), C;
    }, m = Q(), g = () => {
      const y = me(e.node), S = y.chartOption, b = l.value, _ = {
        grid: S.grid,
        tooltip: S.tooltip,
        legend: c(b, y),
        series: p(b, y)
      };
      _.tooltip.formatter = h(), n.value = _, d(m.value, _);
    }, v = (y) => {
      l.value = y;
      const S = y || [], [b, _] = [[], []];
      S.forEach((w) => {
        b.push(w.name), _.push(w.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: v,
        request: o,
        state: a,
        updateChart: g
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: v,
        request: o,
        state: a,
        updateChart: g
      });
    }), (y, S) => {
      const b = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: S[0] || (S[0] = (_) => N(r)("click", _)),
        onDblclick: S[1] || (S[1] = (_) => N(r)("dblclick", _))
      }), [
        Fe(b, {
          ref_key: "chartRef",
          ref: m,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), ih = "visWidgetEchart", KT = "Echart组件", JT = "0.0.1", QT = /* @__PURE__ */ ue({
  name: ih,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: ih, title: KT },
    version: JT,
    w: 455,
    h: 245,
    chartOption: {
      grid: {
        left: 24,
        top: 48,
        right: 24,
        bottom: 24,
        containLabel: !0
      },
      legend: {
        show: !0,
        left: "right",
        align: "left",
        textStyle: {
          color: "#B3CDDD",
          fontFamily: "",
          fontSize: 12,
          fontWeight: "normal",
          lineHeight: 24
        }
      },
      xAxis: {
        type: "category",
        formatType: "time",
        formatter: "MM月",
        axisLabel: {
          show: !0,
          rotate: 0,
          color: "#BFC8D0",
          fontWeight: "normal",
          fontSize: 12,
          interval: 0,
          width: 60,
          overflow: "truncate",
          opacity: 1
        },
        splitLine: {
          show: !1,
          lineStyle: {
            color: "#2D3947",
            type: "dashed",
            width: 1
          }
        },
        axisLine: {
          show: !0,
          lineStyle: {
            color: "#2D3947",
            width: 1
          }
        },
        axisTick: {
          show: !1,
          length: 5,
          lineStyle: {
            color: "#2D3947",
            width: 1
          }
        },
        data: ["01月", "02月", "03月", "04月", "05月", "06月"]
      },
      yAxis: [
        {
          type: "value",
          name: "单位",
          position: "left",
          offset: 0,
          nameTextStyle: {
            show: !0,
            color: "#BFC8D0",
            fontWeight: "normal",
            fontSize: 12,
            offsetX: 7,
            offsetY: 0,
            padding: [0, 7],
            align: "right"
          },
          axisLabel: {
            show: !0,
            rotate: 0,
            color: "#BFC8D0",
            fontSize: 12,
            fontWeight: "normal",
            formatterFixed: 0,
            opacity: 1
          },
          splitLine: {
            show: !0,
            lineStyle: {
              width: 1,
              color: "#2D3947",
              type: "dashed"
            }
          },
          axisLine: {
            show: !1,
            lineStyle: {
              width: 1,
              color: "#2D3947"
            }
          },
          axisTick: {
            show: !1,
            length: 5,
            lineStyle: {
              width: 1,
              color: "#2D3947"
            }
          }
        }
      ],
      series: [
        {
          type: "bar",
          name: "类型一",
          barGap: "22%",
          barWidth: "25%",
          yAxisIndex: 0,
          barMinHeight: 0,
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          },
          itemStyle: {
            color: {
              type: "linear",
              x: 0,
              y: 0,
              x2: 0,
              y2: 1,
              colorStops: [
                {
                  offset: 0,
                  color: "rgba(65,169,244, 1)"
                },
                {
                  offset: 1,
                  color: "rgba(65,169,244, 0.5)"
                }
              ],
              global: !1
            },
            borderRadius: [0, 0, 0, 0]
          },
          label: {
            show: !1,
            position: "top",
            fontSize: 12,
            color: "#E5F8FF",
            fontWeight: "normal",
            fontFamily: "",
            opacity: 1,
            textDecoration: "none",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          data: [88, 58, 74, 82, 66, 86]
        },
        {
          type: "bar",
          name: "类型二",
          barGap: "22%",
          barWidth: "25%",
          yAxisIndex: 0,
          barMinHeight: 0,
          showBackground: !0,
          backgroundStyle: {
            color: "rgba(230,247,255, 0)"
          },
          itemStyle: {
            color: {
              type: "linear",
              x: 0,
              y: 0,
              x2: 0,
              y2: 1,
              colorStops: [
                {
                  offset: 0,
                  color: "rgba(83,208,158, 1)"
                },
                {
                  offset: 1,
                  color: "rgba(83,208,158, 0.5)"
                }
              ],
              global: !1
            },
            borderRadius: [0, 0, 0, 0]
          },
          label: {
            show: !1,
            position: "top",
            fontSize: 12,
            color: "#E5F8FF",
            fontWeight: "normal",
            fontFamily: "",
            opacity: 1,
            textDecoration: "none",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10
          },
          data: [78, 38, 50, 70, 50, 82]
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = H({
      get: () => e.node.data,
      set: (l) => {
        e.node.data = l;
      }
    }), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), s = (l) => {
      n.value = l;
      const u = l || [], [c, f] = [[], []];
      u.forEach((h) => {
        c.push(h.name), f.push(h.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: s,
        request: o,
        state: a
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: s,
        request: o,
        state: a
      });
    }), (l, u) => {
      const c = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: u[0] || (u[0] = (f) => N(r)("click", f)),
        onDblclick: u[1] || (u[1] = (f) => N(r)("dblclick", f))
      }), [
        Fe(c, {
          option: l.node.chartOption
        }, null, 8, ["option"])
      ], 16);
    };
  }
});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var zu = function(t, e) {
  return zu = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, r) {
    n.__proto__ = r;
  } || function(n, r) {
    for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (n[o] = r[o]);
  }, zu(t, e);
};
function Te(t, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
  zu(t, e);
  function n() {
    this.constructor = t;
  }
  t.prototype = e === null ? Object.create(e) : (n.prototype = e.prototype, new n());
}
var eF = /* @__PURE__ */ function() {
  function t() {
    this.firefox = !1, this.ie = !1, this.edge = !1, this.newEdge = !1, this.weChat = !1;
  }
  return t;
}(), tF = /* @__PURE__ */ function() {
  function t() {
    this.browser = new eF(), this.node = !1, this.wxa = !1, this.worker = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1, this.transformSupported = !1, this.transform3dSupported = !1, this.hasGlobalWindow = typeof window < "u";
  }
  return t;
}(), ke = new tF();
typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (ke.wxa = !0, ke.touchEventsSupported = !0) : typeof document > "u" && typeof self < "u" ? ke.worker = !0 : !ke.hasGlobalWindow || "Deno" in window ? (ke.node = !0, ke.svgSupported = !0) : nF(navigator.userAgent, ke);
function nF(t, e) {
  var n = e.browser, r = t.match(/Firefox\/([\d.]+)/), o = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/.+?rv:(([\d.]+))/), a = t.match(/Edge?\/([\d.]+)/), i = /micromessenger/i.test(t);
  r && (n.firefox = !0, n.version = r[1]), o && (n.ie = !0, n.version = o[1]), a && (n.edge = !0, n.version = a[1], n.newEdge = +a[1].split(".")[0] > 18), i && (n.weChat = !0), e.svgSupported = typeof SVGRect < "u", e.touchEventsSupported = "ontouchstart" in window && !n.ie && !n.edge, e.pointerEventsSupported = "onpointerdown" in window && (n.edge || n.ie && +n.version >= 11), e.domSupported = typeof document < "u";
  var s = document.documentElement.style;
  e.transform3dSupported = (n.ie && "transition" in s || n.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in s) && !("OTransition" in s), e.transformSupported = e.transform3dSupported || n.ie && +n.version >= 9;
}
var Qc = 12, rF = "sans-serif", zr = Qc + "px " + rF, oF = 20, aF = 100, iF = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
function sF(t) {
  var e = {};
  if (typeof JSON > "u")
    return e;
  for (var n = 0; n < t.length; n++) {
    var r = String.fromCharCode(n + 32), o = (t.charCodeAt(n) - oF) / aF;
    e[r] = o;
  }
  return e;
}
var lF = sF(iF), Ao = {
  createCanvas: function() {
    return typeof document < "u" && document.createElement("canvas");
  },
  measureText: /* @__PURE__ */ function() {
    var t, e;
    return function(n, r) {
      if (!t) {
        var o = Ao.createCanvas();
        t = o && o.getContext("2d");
      }
      if (t)
        return e !== r && (e = t.font = r || zr), t.measureText(n);
      n = n || "", r = r || zr;
      var a = /((?:\d+)?\.?\d*)px/.exec(r), i = a && +a[1] || Qc, s = 0;
      if (r.indexOf("mono") >= 0)
        s = i * n.length;
      else
        for (var l = 0; l < n.length; l++) {
          var u = lF[n[l]];
          s += u == null ? i : u * i;
        }
      return { width: s };
    };
  }(),
  loadImage: function(t, e, n) {
    var r = new Image();
    return r.onload = e, r.onerror = n, r.src = t, r;
  }
}, Y0 = ko([
  "Function",
  "RegExp",
  "Date",
  "Error",
  "CanvasGradient",
  "CanvasPattern",
  "Image",
  "Canvas"
], function(t, e) {
  return t["[object " + e + "]"] = !0, t;
}, {}), G0 = ko([
  "Int8",
  "Uint8",
  "Uint8Clamped",
  "Int16",
  "Uint16",
  "Int32",
  "Uint32",
  "Float32",
  "Float64"
], function(t, e) {
  return t["[object " + e + "Array]"] = !0, t;
}, {}), Ha = Object.prototype.toString, Ps = Array.prototype, uF = Ps.forEach, cF = Ps.filter, ef = Ps.slice, fF = Ps.map, sh = (function() {
}).constructor, Ga = sh ? sh.prototype : null, tf = "__proto__", dF = 2311;
function X0() {
  return dF++;
}
function nf() {
  for (var t = [], e = 0; e < arguments.length; e++)
    t[e] = arguments[e];
  typeof console < "u" && console.error.apply(console, t);
}
function Re(t) {
  if (t == null || typeof t != "object")
    return t;
  var e = t, n = Ha.call(t);
  if (n === "[object Array]") {
    if (!ca(t)) {
      e = [];
      for (var r = 0, o = t.length; r < o; r++)
        e[r] = Re(t[r]);
    }
  } else if (G0[n]) {
    if (!ca(t)) {
      var a = t.constructor;
      if (a.from)
        e = a.from(t);
      else {
        e = new a(t.length);
        for (var r = 0, o = t.length; r < o; r++)
          e[r] = t[r];
      }
    }
  } else if (!Y0[n] && !ca(t) && !Bu(t)) {
    e = {};
    for (var i in t)
      t.hasOwnProperty(i) && i !== tf && (e[i] = Re(t[i]));
  }
  return e;
}
function Je(t, e, n) {
  if (!_e(e) || !_e(t))
    return n ? Re(e) : t;
  for (var r in e)
    if (e.hasOwnProperty(r) && r !== tf) {
      var o = t[r], a = e[r];
      _e(a) && _e(o) && !Ce(a) && !Ce(o) && !Bu(a) && !Bu(o) && !lh(a) && !lh(o) && !ca(a) && !ca(o) ? Je(o, a, n) : (n || !(r in t)) && (t[r] = Re(e[r]));
    }
  return t;
}
function ie(t, e) {
  if (Object.assign)
    Object.assign(t, e);
  else
    for (var n in e)
      e.hasOwnProperty(n) && n !== tf && (t[n] = e[n]);
  return t;
}
function mt(t, e, n) {
  for (var r = Ke(e), o = 0, a = r.length; o < a; o++) {
    var i = r[o];
    t[i] == null && (t[i] = e[i]);
  }
  return t;
}
function He(t, e) {
  if (t) {
    if (t.indexOf)
      return t.indexOf(e);
    for (var n = 0, r = t.length; n < r; n++)
      if (t[n] === e)
        return n;
  }
  return -1;
}
function hF(t, e) {
  var n = t.prototype;
  function r() {
  }
  r.prototype = e.prototype, t.prototype = new r();
  for (var o in n)
    n.hasOwnProperty(o) && (t.prototype[o] = n[o]);
  t.prototype.constructor = t, t.superClass = e;
}
function Vn(t, e, n) {
  if (t = "prototype" in t ? t.prototype : t, e = "prototype" in e ? e.prototype : e, Object.getOwnPropertyNames)
    for (var r = Object.getOwnPropertyNames(e), o = 0; o < r.length; o++) {
      var a = r[o];
      a !== "constructor" && t[a] == null && (t[a] = e[a]);
    }
  else
    mt(t, e);
}
function Wt(t) {
  return !t || typeof t == "string" ? !1 : typeof t.length == "number";
}
function X(t, e, n) {
  if (t && e)
    if (t.forEach && t.forEach === uF)
      t.forEach(e, n);
    else if (t.length === +t.length)
      for (var r = 0, o = t.length; r < o; r++)
        e.call(n, t[r], r, t);
    else
      for (var a in t)
        t.hasOwnProperty(a) && e.call(n, t[a], a, t);
}
function je(t, e, n) {
  if (!t)
    return [];
  if (!e)
    return of(t);
  if (t.map && t.map === fF)
    return t.map(e, n);
  for (var r = [], o = 0, a = t.length; o < a; o++)
    r.push(e.call(n, t[o], o, t));
  return r;
}
function ko(t, e, n, r) {
  if (t && e) {
    for (var o = 0, a = t.length; o < a; o++)
      n = e.call(r, n, t[o], o, t);
    return n;
  }
}
function _t(t, e, n) {
  if (!t)
    return [];
  if (!e)
    return of(t);
  if (t.filter && t.filter === cF)
    return t.filter(e, n);
  for (var r = [], o = 0, a = t.length; o < a; o++)
    e.call(n, t[o], o, t) && r.push(t[o]);
  return r;
}
function Ke(t) {
  if (!t)
    return [];
  if (Object.keys)
    return Object.keys(t);
  var e = [];
  for (var n in t)
    t.hasOwnProperty(n) && e.push(n);
  return e;
}
function pF(t, e) {
  for (var n = [], r = 2; r < arguments.length; r++)
    n[r - 2] = arguments[r];
  return function() {
    return t.apply(e, n.concat(ef.call(arguments)));
  };
}
var xt = Ga && Be(Ga.bind) ? Ga.call.bind(Ga.bind) : pF;
function rf(t) {
  for (var e = [], n = 1; n < arguments.length; n++)
    e[n - 1] = arguments[n];
  return function() {
    return t.apply(this, e.concat(ef.call(arguments)));
  };
}
function Ce(t) {
  return Array.isArray ? Array.isArray(t) : Ha.call(t) === "[object Array]";
}
function Be(t) {
  return typeof t == "function";
}
function Le(t) {
  return typeof t == "string";
}
function vF(t) {
  return Ha.call(t) === "[object String]";
}
function gt(t) {
  return typeof t == "number";
}
function _e(t) {
  var e = typeof t;
  return e === "function" || !!t && e === "object";
}
function lh(t) {
  return !!Y0[Ha.call(t)];
}
function Ft(t) {
  return !!G0[Ha.call(t)];
}
function Bu(t) {
  return typeof t == "object" && typeof t.nodeType == "number" && typeof t.ownerDocument == "object";
}
function zs(t) {
  return t.colorStops != null;
}
function gF(t) {
  return t.image != null;
}
function yF(t) {
  return t !== t;
}
function Ee(t, e) {
  return t ?? e;
}
function Ei(t, e, n) {
  return t ?? e ?? n;
}
function of(t) {
  for (var e = [], n = 1; n < arguments.length; n++)
    e[n - 1] = arguments[n];
  return ef.apply(t, e);
}
function mF(t) {
  if (typeof t == "number")
    return [t, t, t, t];
  var e = t.length;
  return e === 2 ? [t[0], t[1], t[0], t[1]] : e === 3 ? [t[0], t[1], t[2], t[1]] : t;
}
function ar(t, e) {
  if (!t)
    throw new Error(e);
}
function Qn(t) {
  return t == null ? null : typeof t.trim == "function" ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}
var Z0 = "__ec_primitive__";
function ns(t) {
  t[Z0] = !0;
}
function ca(t) {
  return t[Z0];
}
var SF = function() {
  function t() {
    this.data = {};
  }
  return t.prototype.delete = function(e) {
    var n = this.has(e);
    return n && delete this.data[e], n;
  }, t.prototype.has = function(e) {
    return this.data.hasOwnProperty(e);
  }, t.prototype.get = function(e) {
    return this.data[e];
  }, t.prototype.set = function(e, n) {
    return this.data[e] = n, this;
  }, t.prototype.keys = function() {
    return Ke(this.data);
  }, t.prototype.forEach = function(e) {
    var n = this.data;
    for (var r in n)
      n.hasOwnProperty(r) && e(n[r], r);
  }, t;
}(), K0 = typeof Map == "function";
function bF() {
  return K0 ? /* @__PURE__ */ new Map() : new SF();
}
var wF = function() {
  function t(e) {
    var n = Ce(e);
    this.data = bF();
    var r = this;
    e instanceof t ? e.each(o) : e && X(e, o);
    function o(a, i) {
      n ? r.set(a, i) : r.set(i, a);
    }
  }
  return t.prototype.hasKey = function(e) {
    return this.data.has(e);
  }, t.prototype.get = function(e) {
    return this.data.get(e);
  }, t.prototype.set = function(e, n) {
    return this.data.set(e, n), n;
  }, t.prototype.each = function(e, n) {
    this.data.forEach(function(r, o) {
      e.call(n, r, o);
    });
  }, t.prototype.keys = function() {
    var e = this.data.keys();
    return K0 ? Array.from(e) : e;
  }, t.prototype.removeKey = function(e) {
    this.data.delete(e);
  }, t;
}();
function Ae(t) {
  return new wF(t);
}
function _F(t, e) {
  for (var n = new t.constructor(t.length + e.length), r = 0; r < t.length; r++)
    n[r] = t[r];
  for (var o = t.length, r = 0; r < e.length; r++)
    n[r + o] = e[r];
  return n;
}
function Bs(t, e) {
  var n;
  if (Object.create)
    n = Object.create(t);
  else {
    var r = function() {
    };
    r.prototype = t, n = new r();
  }
  return e && ie(n, e), n;
}
function J0(t) {
  var e = t.style;
  e.webkitUserSelect = "none", e.userSelect = "none", e.webkitTapHighlightColor = "rgba(0,0,0,0)", e["-webkit-touch-callout"] = "none";
}
function rs(t, e) {
  return t.hasOwnProperty(e);
}
function Gt() {
}
var xF = 180 / Math.PI;
function Eo(t, e) {
  return t == null && (t = 0), e == null && (e = 0), [t, e];
}
function DF(t) {
  return [t[0], t[1]];
}
function uh(t, e, n) {
  return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t;
}
function CF(t, e, n) {
  return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t;
}
function TF(t) {
  return Math.sqrt(FF(t));
}
function FF(t) {
  return t[0] * t[0] + t[1] * t[1];
}
function fl(t, e, n) {
  return t[0] = e[0] * n, t[1] = e[1] * n, t;
}
function AF(t, e) {
  var n = TF(e);
  return n === 0 ? (t[0] = 0, t[1] = 0) : (t[0] = e[0] / n, t[1] = e[1] / n), t;
}
function Wu(t, e) {
  return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]));
}
var Nu = Wu;
function kF(t, e) {
  return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]);
}
var vo = kF;
function dl(t, e, n, r) {
  return t[0] = e[0] + r * (n[0] - e[0]), t[1] = e[1] + r * (n[1] - e[1]), t;
}
function fa(t, e, n) {
  var r = e[0], o = e[1];
  return t[0] = n[0] * r + n[2] * o + n[4], t[1] = n[1] * r + n[3] * o + n[5], t;
}
function so(t, e, n) {
  return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t;
}
function lo(t, e, n) {
  return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t;
}
var jr = /* @__PURE__ */ function() {
  function t(e, n) {
    this.target = e, this.topTarget = n && n.topTarget;
  }
  return t;
}(), EF = function() {
  function t(e) {
    this.handler = e, e.on("mousedown", this._dragStart, this), e.on("mousemove", this._drag, this), e.on("mouseup", this._dragEnd, this);
  }
  return t.prototype._dragStart = function(e) {
    for (var n = e.target; n && !n.draggable; )
      n = n.parent || n.__hostTarget;
    n && (this._draggingTarget = n, n.dragging = !0, this._x = e.offsetX, this._y = e.offsetY, this.handler.dispatchToElement(new jr(n, e), "dragstart", e.event));
  }, t.prototype._drag = function(e) {
    var n = this._draggingTarget;
    if (n) {
      var r = e.offsetX, o = e.offsetY, a = r - this._x, i = o - this._y;
      this._x = r, this._y = o, n.drift(a, i, e), this.handler.dispatchToElement(new jr(n, e), "drag", e.event);
      var s = this.handler.findHover(r, o, n).target, l = this._dropTarget;
      this._dropTarget = s, n !== s && (l && s !== l && this.handler.dispatchToElement(new jr(l, e), "dragleave", e.event), s && s !== l && this.handler.dispatchToElement(new jr(s, e), "dragenter", e.event));
    }
  }, t.prototype._dragEnd = function(e) {
    var n = this._draggingTarget;
    n && (n.dragging = !1), this.handler.dispatchToElement(new jr(n, e), "dragend", e.event), this._dropTarget && this.handler.dispatchToElement(new jr(this._dropTarget, e), "drop", e.event), this._draggingTarget = null, this._dropTarget = null;
  }, t;
}(), Fn = function() {
  function t(e) {
    e && (this._$eventProcessor = e);
  }
  return t.prototype.on = function(e, n, r, o) {
    this._$handlers || (this._$handlers = {});
    var a = this._$handlers;
    if (typeof n == "function" && (o = r, r = n, n = null), !r || !e)
      return this;
    var i = this._$eventProcessor;
    n != null && i && i.normalizeQuery && (n = i.normalizeQuery(n)), a[e] || (a[e] = []);
    for (var s = 0; s < a[e].length; s++)
      if (a[e][s].h === r)
        return this;
    var l = {
      h: r,
      query: n,
      ctx: o || this,
      callAtLast: r.zrEventfulCallAtLast
    }, u = a[e].length - 1, c = a[e][u];
    return c && c.callAtLast ? a[e].splice(u, 0, l) : a[e].push(l), this;
  }, t.prototype.isSilent = function(e) {
    var n = this._$handlers;
    return !n || !n[e] || !n[e].length;
  }, t.prototype.off = function(e, n) {
    var r = this._$handlers;
    if (!r)
      return this;
    if (!e)
      return this._$handlers = {}, this;
    if (n) {
      if (r[e]) {
        for (var o = [], a = 0, i = r[e].length; a < i; a++)
          r[e][a].h !== n && o.push(r[e][a]);
        r[e] = o;
      }
      r[e] && r[e].length === 0 && delete r[e];
    } else
      delete r[e];
    return this;
  }, t.prototype.trigger = function(e) {
    for (var n = [], r = 1; r < arguments.length; r++)
      n[r - 1] = arguments[r];
    if (!this._$handlers)
      return this;
    var o = this._$handlers[e], a = this._$eventProcessor;
    if (o)
      for (var i = n.length, s = o.length, l = 0; l < s; l++) {
        var u = o[l];
        if (!(a && a.filter && u.query != null && !a.filter(e, u.query)))
          switch (i) {
            case 0:
              u.h.call(u.ctx);
              break;
            case 1:
              u.h.call(u.ctx, n[0]);
              break;
            case 2:
              u.h.call(u.ctx, n[0], n[1]);
              break;
            default:
              u.h.apply(u.ctx, n);
              break;
          }
      }
    return a && a.afterTrigger && a.afterTrigger(e), this;
  }, t.prototype.triggerWithContext = function(e) {
    for (var n = [], r = 1; r < arguments.length; r++)
      n[r - 1] = arguments[r];
    if (!this._$handlers)
      return this;
    var o = this._$handlers[e], a = this._$eventProcessor;
    if (o)
      for (var i = n.length, s = n[i - 1], l = o.length, u = 0; u < l; u++) {
        var c = o[u];
        if (!(a && a.filter && c.query != null && !a.filter(e, c.query)))
          switch (i) {
            case 0:
              c.h.call(s);
              break;
            case 1:
              c.h.call(s, n[0]);
              break;
            case 2:
              c.h.call(s, n[0], n[1]);
              break;
            default:
              c.h.apply(s, n.slice(1, i - 1));
              break;
          }
      }
    return a && a.afterTrigger && a.afterTrigger(e), this;
  }, t;
}(), MF = Math.log(2);
function Hu(t, e, n, r, o, a) {
  var i = r + "-" + o, s = t.length;
  if (a.hasOwnProperty(i))
    return a[i];
  if (e === 1) {
    var l = Math.round(Math.log((1 << s) - 1 & ~o) / MF);
    return t[n][l];
  }
  for (var u = r | 1 << n, c = n + 1; r & 1 << c; )
    c++;
  for (var f = 0, h = 0, d = 0; h < s; h++) {
    var p = 1 << h;
    p & o || (f += (d % 2 ? -1 : 1) * t[n][h] * Hu(t, e - 1, c, u, o | p, a), d++);
  }
  return a[i] = f, f;
}
function OF(t, e) {
  var n = [
    [t[0], t[1], 1, 0, 0, 0, -e[0] * t[0], -e[0] * t[1]],
    [0, 0, 0, t[0], t[1], 1, -e[1] * t[0], -e[1] * t[1]],
    [t[2], t[3], 1, 0, 0, 0, -e[2] * t[2], -e[2] * t[3]],
    [0, 0, 0, t[2], t[3], 1, -e[3] * t[2], -e[3] * t[3]],
    [t[4], t[5], 1, 0, 0, 0, -e[4] * t[4], -e[4] * t[5]],
    [0, 0, 0, t[4], t[5], 1, -e[5] * t[4], -e[5] * t[5]],
    [t[6], t[7], 1, 0, 0, 0, -e[6] * t[6], -e[6] * t[7]],
    [0, 0, 0, t[6], t[7], 1, -e[7] * t[6], -e[7] * t[7]]
  ], r = {}, o = Hu(n, 8, 0, 0, 0, r);
  if (o !== 0) {
    for (var a = [], i = 0; i < 8; i++)
      for (var s = 0; s < 8; s++)
        a[s] == null && (a[s] = 0), a[s] += ((i + s) % 2 ? -1 : 1) * Hu(n, 7, i === 0 ? 1 : 0, 1 << i, 1 << s, r) / o * e[i];
    return function(l, u, c) {
      var f = u * a[6] + c * a[7] + 1;
      l[0] = (u * a[0] + c * a[1] + a[2]) / f, l[1] = (u * a[3] + c * a[4] + a[5]) / f;
    };
  }
}
var ch = "___zrEVENTSAVED";
function RF(t, e, n, r, o) {
  if (e.getBoundingClientRect && ke.domSupported && !Q0(e)) {
    var a = e[ch] || (e[ch] = {}), i = LF(e, a), s = $F(i, a);
    if (s)
      return s(t, n, r), !0;
  }
  return !1;
}
function LF(t, e) {
  var n = e.markers;
  if (n)
    return n;
  n = e.markers = [];
  for (var r = ["left", "right"], o = ["top", "bottom"], a = 0; a < 4; a++) {
    var i = document.createElement("div"), s = i.style, l = a % 2, u = (a >> 1) % 2;
    s.cssText = [
      "position: absolute",
      "visibility: hidden",
      "padding: 0",
      "margin: 0",
      "border-width: 0",
      "user-select: none",
      "width:0",
      "height:0",
      r[l] + ":0",
      o[u] + ":0",
      r[1 - l] + ":auto",
      o[1 - u] + ":auto",
      ""
    ].join("!important;"), t.appendChild(i), n.push(i);
  }
  return n;
}
function $F(t, e, n) {
  for (var r = "trans", o = e[r], a = e.srcCoords, i = [], s = [], l = !0, u = 0; u < 4; u++) {
    var c = t[u].getBoundingClientRect(), f = 2 * u, h = c.left, d = c.top;
    i.push(h, d), l = l && a && h === a[f] && d === a[f + 1], s.push(t[u].offsetLeft, t[u].offsetTop);
  }
  return l && o ? o : (e.srcCoords = i, e[r] = OF(i, s));
}
function Q0(t) {
  return t.nodeName.toUpperCase() === "CANVAS";
}
var IF = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, hl = [], PF = ke.browser.firefox && +ke.browser.version.split(".")[0] < 39;
function Vu(t, e, n, r) {
  return n = n || {}, r ? fh(t, e, n) : PF && e.layerX != null && e.layerX !== e.offsetX ? (n.zrX = e.layerX, n.zrY = e.layerY) : e.offsetX != null ? (n.zrX = e.offsetX, n.zrY = e.offsetY) : fh(t, e, n), n;
}
function fh(t, e, n) {
  if (ke.domSupported && t.getBoundingClientRect) {
    var r = e.clientX, o = e.clientY;
    if (Q0(t)) {
      var a = t.getBoundingClientRect();
      n.zrX = r - a.left, n.zrY = o - a.top;
      return;
    } else if (RF(hl, t, r, o)) {
      n.zrX = hl[0], n.zrY = hl[1];
      return;
    }
  }
  n.zrX = n.zrY = 0;
}
function af(t) {
  return t || window.event;
}
function Qt(t, e, n) {
  if (e = af(e), e.zrX != null)
    return e;
  var r = e.type, o = r && r.indexOf("touch") >= 0;
  if (o) {
    var i = r !== "touchend" ? e.targetTouches[0] : e.changedTouches[0];
    i && Vu(t, i, e, n);
  } else {
    Vu(t, e, e, n);
    var a = zF(e);
    e.zrDelta = a ? a / 120 : -(e.detail || 0) / 3;
  }
  var s = e.button;
  return e.which == null && s !== void 0 && IF.test(e.type) && (e.which = s & 1 ? 1 : s & 2 ? 3 : s & 4 ? 2 : 0), e;
}
function zF(t) {
  var e = t.wheelDelta;
  if (e)
    return e;
  var n = t.deltaX, r = t.deltaY;
  if (n == null || r == null)
    return e;
  var o = Math.abs(r !== 0 ? r : n), a = r > 0 ? -1 : r < 0 ? 1 : n > 0 ? -1 : 1;
  return 3 * o * a;
}
function BF(t, e, n, r) {
  t.addEventListener(e, n, r);
}
function WF(t, e, n, r) {
  t.removeEventListener(e, n, r);
}
var NF = function(t) {
  t.preventDefault(), t.stopPropagation(), t.cancelBubble = !0;
}, HF = function() {
  function t() {
    this._track = [];
  }
  return t.prototype.recognize = function(e, n, r) {
    return this._doTrack(e, n, r), this._recognize(e);
  }, t.prototype.clear = function() {
    return this._track.length = 0, this;
  }, t.prototype._doTrack = function(e, n, r) {
    var o = e.touches;
    if (o) {
      for (var a = {
        points: [],
        touches: [],
        target: n,
        event: e
      }, i = 0, s = o.length; i < s; i++) {
        var l = o[i], u = Vu(r, l, {});
        a.points.push([u.zrX, u.zrY]), a.touches.push(l);
      }
      this._track.push(a);
    }
  }, t.prototype._recognize = function(e) {
    for (var n in pl)
      if (pl.hasOwnProperty(n)) {
        var r = pl[n](this._track, e);
        if (r)
          return r;
      }
  }, t;
}();
function dh(t) {
  var e = t[1][0] - t[0][0], n = t[1][1] - t[0][1];
  return Math.sqrt(e * e + n * n);
}
function VF(t) {
  return [
    (t[0][0] + t[1][0]) / 2,
    (t[0][1] + t[1][1]) / 2
  ];
}
var pl = {
  pinch: function(t, e) {
    var n = t.length;
    if (n) {
      var r = (t[n - 1] || {}).points, o = (t[n - 2] || {}).points || r;
      if (o && o.length > 1 && r && r.length > 1) {
        var a = dh(r) / dh(o);
        !isFinite(a) && (a = 1), e.pinchScale = a;
        var i = VF(r);
        return e.pinchX = i[0], e.pinchY = i[1], {
          type: "pinch",
          target: t[0].target,
          event: e
        };
      }
    }
  }
};
function da() {
  return [1, 0, 0, 1, 0, 0];
}
function qF(t) {
  return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, t;
}
function jF(t, e) {
  return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t;
}
function vl(t, e, n) {
  var r = e[0] * n[0] + e[2] * n[1], o = e[1] * n[0] + e[3] * n[1], a = e[0] * n[2] + e[2] * n[3], i = e[1] * n[2] + e[3] * n[3], s = e[0] * n[4] + e[2] * n[5] + e[4], l = e[1] * n[4] + e[3] * n[5] + e[5];
  return t[0] = r, t[1] = o, t[2] = a, t[3] = i, t[4] = s, t[5] = l, t;
}
function hh(t, e, n) {
  return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4] + n[0], t[5] = e[5] + n[1], t;
}
function UF(t, e, n, r) {
  r === void 0 && (r = [0, 0]);
  var o = e[0], a = e[2], i = e[4], s = e[1], l = e[3], u = e[5], c = Math.sin(n), f = Math.cos(n);
  return t[0] = o * f + s * c, t[1] = -o * c + s * f, t[2] = a * f + l * c, t[3] = -a * c + f * l, t[4] = f * (i - r[0]) + c * (u - r[1]) + r[0], t[5] = f * (u - r[1]) - c * (i - r[0]) + r[1], t;
}
function YF(t, e, n) {
  var r = n[0], o = n[1];
  return t[0] = e[0] * r, t[1] = e[1] * o, t[2] = e[2] * r, t[3] = e[3] * o, t[4] = e[4] * r, t[5] = e[5] * o, t;
}
function ey(t, e) {
  var n = e[0], r = e[2], o = e[4], a = e[1], i = e[3], s = e[5], l = n * i - a * r;
  return l ? (l = 1 / l, t[0] = i * l, t[1] = -a * l, t[2] = -r * l, t[3] = n * l, t[4] = (r * s - i * o) * l, t[5] = (a * o - n * s) * l, t) : null;
}
var De = function() {
  function t(e, n) {
    this.x = e || 0, this.y = n || 0;
  }
  return t.prototype.copy = function(e) {
    return this.x = e.x, this.y = e.y, this;
  }, t.prototype.clone = function() {
    return new t(this.x, this.y);
  }, t.prototype.set = function(e, n) {
    return this.x = e, this.y = n, this;
  }, t.prototype.equal = function(e) {
    return e.x === this.x && e.y === this.y;
  }, t.prototype.add = function(e) {
    return this.x += e.x, this.y += e.y, this;
  }, t.prototype.scale = function(e) {
    this.x *= e, this.y *= e;
  }, t.prototype.scaleAndAdd = function(e, n) {
    this.x += e.x * n, this.y += e.y * n;
  }, t.prototype.sub = function(e) {
    return this.x -= e.x, this.y -= e.y, this;
  }, t.prototype.dot = function(e) {
    return this.x * e.x + this.y * e.y;
  }, t.prototype.len = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }, t.prototype.lenSquare = function() {
    return this.x * this.x + this.y * this.y;
  }, t.prototype.normalize = function() {
    var e = this.len();
    return this.x /= e, this.y /= e, this;
  }, t.prototype.distance = function(e) {
    var n = this.x - e.x, r = this.y - e.y;
    return Math.sqrt(n * n + r * r);
  }, t.prototype.distanceSquare = function(e) {
    var n = this.x - e.x, r = this.y - e.y;
    return n * n + r * r;
  }, t.prototype.negate = function() {
    return this.x = -this.x, this.y = -this.y, this;
  }, t.prototype.transform = function(e) {
    if (e) {
      var n = this.x, r = this.y;
      return this.x = e[0] * n + e[2] * r + e[4], this.y = e[1] * n + e[3] * r + e[5], this;
    }
  }, t.prototype.toArray = function(e) {
    return e[0] = this.x, e[1] = this.y, e;
  }, t.prototype.fromArray = function(e) {
    this.x = e[0], this.y = e[1];
  }, t.set = function(e, n, r) {
    e.x = n, e.y = r;
  }, t.copy = function(e, n) {
    e.x = n.x, e.y = n.y;
  }, t.len = function(e) {
    return Math.sqrt(e.x * e.x + e.y * e.y);
  }, t.lenSquare = function(e) {
    return e.x * e.x + e.y * e.y;
  }, t.dot = function(e, n) {
    return e.x * n.x + e.y * n.y;
  }, t.add = function(e, n, r) {
    e.x = n.x + r.x, e.y = n.y + r.y;
  }, t.sub = function(e, n, r) {
    e.x = n.x - r.x, e.y = n.y - r.y;
  }, t.scale = function(e, n, r) {
    e.x = n.x * r, e.y = n.y * r;
  }, t.scaleAndAdd = function(e, n, r, o) {
    e.x = n.x + r.x * o, e.y = n.y + r.y * o;
  }, t.lerp = function(e, n, r, o) {
    var a = 1 - o;
    e.x = a * n.x + o * r.x, e.y = a * n.y + o * r.y;
  }, t;
}(), Xa = Math.min, Za = Math.max, ir = new De(), sr = new De(), lr = new De(), ur = new De(), $o = new De(), Io = new De(), Ie = function() {
  function t(e, n, r, o) {
    r < 0 && (e = e + r, r = -r), o < 0 && (n = n + o, o = -o), this.x = e, this.y = n, this.width = r, this.height = o;
  }
  return t.prototype.union = function(e) {
    var n = Xa(e.x, this.x), r = Xa(e.y, this.y);
    isFinite(this.x) && isFinite(this.width) ? this.width = Za(e.x + e.width, this.x + this.width) - n : this.width = e.width, isFinite(this.y) && isFinite(this.height) ? this.height = Za(e.y + e.height, this.y + this.height) - r : this.height = e.height, this.x = n, this.y = r;
  }, t.prototype.applyTransform = function(e) {
    t.applyTransform(this, this, e);
  }, t.prototype.calculateTransform = function(e) {
    var n = this, r = e.width / n.width, o = e.height / n.height, a = da();
    return hh(a, a, [-n.x, -n.y]), YF(a, a, [r, o]), hh(a, a, [e.x, e.y]), a;
  }, t.prototype.intersect = function(e, n) {
    if (!e)
      return !1;
    e instanceof t || (e = t.create(e));
    var r = this, o = r.x, a = r.x + r.width, i = r.y, s = r.y + r.height, l = e.x, u = e.x + e.width, c = e.y, f = e.y + e.height, h = !(a < l || u < o || s < c || f < i);
    if (n) {
      var d = 1 / 0, p = 0, m = Math.abs(a - l), g = Math.abs(u - o), v = Math.abs(s - c), y = Math.abs(f - i), S = Math.min(m, g), b = Math.min(v, y);
      a < l || u < o ? S > p && (p = S, m < g ? De.set(Io, -m, 0) : De.set(Io, g, 0)) : S < d && (d = S, m < g ? De.set($o, m, 0) : De.set($o, -g, 0)), s < c || f < i ? b > p && (p = b, v < y ? De.set(Io, 0, -v) : De.set(Io, 0, y)) : S < d && (d = S, v < y ? De.set($o, 0, v) : De.set($o, 0, -y));
    }
    return n && De.copy(n, h ? $o : Io), h;
  }, t.prototype.contain = function(e, n) {
    var r = this;
    return e >= r.x && e <= r.x + r.width && n >= r.y && n <= r.y + r.height;
  }, t.prototype.clone = function() {
    return new t(this.x, this.y, this.width, this.height);
  }, t.prototype.copy = function(e) {
    t.copy(this, e);
  }, t.prototype.plain = function() {
    return {
      x: this.x,
      y: this.y,
      width: this.width,
      height: this.height
    };
  }, t.prototype.isFinite = function() {
    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
  }, t.prototype.isZero = function() {
    return this.width === 0 || this.height === 0;
  }, t.create = function(e) {
    return new t(e.x, e.y, e.width, e.height);
  }, t.copy = function(e, n) {
    e.x = n.x, e.y = n.y, e.width = n.width, e.height = n.height;
  }, t.applyTransform = function(e, n, r) {
    if (!r) {
      e !== n && t.copy(e, n);
      return;
    }
    if (r[1] < 1e-5 && r[1] > -1e-5 && r[2] < 1e-5 && r[2] > -1e-5) {
      var o = r[0], a = r[3], i = r[4], s = r[5];
      e.x = n.x * o + i, e.y = n.y * a + s, e.width = n.width * o, e.height = n.height * a, e.width < 0 && (e.x += e.width, e.width = -e.width), e.height < 0 && (e.y += e.height, e.height = -e.height);
      return;
    }
    ir.x = lr.x = n.x, ir.y = ur.y = n.y, sr.x = ur.x = n.x + n.width, sr.y = lr.y = n.y + n.height, ir.transform(r), ur.transform(r), sr.transform(r), lr.transform(r), e.x = Xa(ir.x, sr.x, lr.x, ur.x), e.y = Xa(ir.y, sr.y, lr.y, ur.y);
    var l = Za(ir.x, sr.x, lr.x, ur.x), u = Za(ir.y, sr.y, lr.y, ur.y);
    e.width = l - e.x, e.height = u - e.y;
  }, t;
}(), ty = "silent";
function GF(t, e, n) {
  return {
    type: t,
    event: n,
    target: e.target,
    topTarget: e.topTarget,
    cancelBubble: !1,
    offsetX: n.zrX,
    offsetY: n.zrY,
    gestureEvent: n.gestureEvent,
    pinchX: n.pinchX,
    pinchY: n.pinchY,
    pinchScale: n.pinchScale,
    wheelDelta: n.zrDelta,
    zrByTouch: n.zrByTouch,
    which: n.which,
    stop: XF
  };
}
function XF() {
  NF(this.event);
}
var ZF = function(t) {
  Te(e, t);
  function e() {
    var n = t !== null && t.apply(this, arguments) || this;
    return n.handler = null, n;
  }
  return e.prototype.dispose = function() {
  }, e.prototype.setCursor = function() {
  }, e;
}(Fn), Po = /* @__PURE__ */ function() {
  function t(e, n) {
    this.x = e, this.y = n;
  }
  return t;
}(), KF = [
  "click",
  "dblclick",
  "mousewheel",
  "mouseout",
  "mouseup",
  "mousedown",
  "mousemove",
  "contextmenu"
], gl = new Ie(0, 0, 0, 0), ny = function(t) {
  Te(e, t);
  function e(n, r, o, a, i) {
    var s = t.call(this) || this;
    return s._hovered = new Po(0, 0), s.storage = n, s.painter = r, s.painterRoot = a, s._pointerSize = i, o = o || new ZF(), s.proxy = null, s.setHandlerProxy(o), s._draggingMgr = new EF(s), s;
  }
  return e.prototype.setHandlerProxy = function(n) {
    this.proxy && this.proxy.dispose(), n && (X(KF, function(r) {
      n.on && n.on(r, this[r], this);
    }, this), n.handler = this), this.proxy = n;
  }, e.prototype.mousemove = function(n) {
    var r = n.zrX, o = n.zrY, a = ry(this, r, o), i = this._hovered, s = i.target;
    s && !s.__zr && (i = this.findHover(i.x, i.y), s = i.target);
    var l = this._hovered = a ? new Po(r, o) : this.findHover(r, o), u = l.target, c = this.proxy;
    c.setCursor && c.setCursor(u ? u.cursor : "default"), s && u !== s && this.dispatchToElement(i, "mouseout", n), this.dispatchToElement(l, "mousemove", n), u && u !== s && this.dispatchToElement(l, "mouseover", n);
  }, e.prototype.mouseout = function(n) {
    var r = n.zrEventControl;
    r !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", n), r !== "no_globalout" && this.trigger("globalout", { type: "globalout", event: n });
  }, e.prototype.resize = function() {
    this._hovered = new Po(0, 0);
  }, e.prototype.dispatch = function(n, r) {
    var o = this[n];
    o && o.call(this, r);
  }, e.prototype.dispose = function() {
    this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null;
  }, e.prototype.setCursorStyle = function(n) {
    var r = this.proxy;
    r.setCursor && r.setCursor(n);
  }, e.prototype.dispatchToElement = function(n, r, o) {
    n = n || {};
    var a = n.target;
    if (!(a && a.silent)) {
      for (var i = "on" + r, s = GF(r, n, o); a && (a[i] && (s.cancelBubble = !!a[i].call(a, s)), a.trigger(r, s), a = a.__hostTarget ? a.__hostTarget : a.parent, !s.cancelBubble); )
        ;
      s.cancelBubble || (this.trigger(r, s), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function(l) {
        typeof l[i] == "function" && l[i].call(l, s), l.trigger && l.trigger(r, s);
      }));
    }
  }, e.prototype.findHover = function(n, r, o) {
    var a = this.storage.getDisplayList(), i = new Po(n, r);
    if (ph(a, i, n, r, o), this._pointerSize && !i.target) {
      for (var s = [], l = this._pointerSize, u = l / 2, c = new Ie(n - u, r - u, l, l), f = a.length - 1; f >= 0; f--) {
        var h = a[f];
        h !== o && !h.ignore && !h.ignoreCoarsePointer && (!h.parent || !h.parent.ignoreCoarsePointer) && (gl.copy(h.getBoundingRect()), h.transform && gl.applyTransform(h.transform), gl.intersect(c) && s.push(h));
      }
      if (s.length)
        for (var d = 4, p = Math.PI / 12, m = Math.PI * 2, g = 0; g < u; g += d)
          for (var v = 0; v < m; v += p) {
            var y = n + g * Math.cos(v), S = r + g * Math.sin(v);
            if (ph(s, i, y, S, o), i.target)
              return i;
          }
    }
    return i;
  }, e.prototype.processGesture = function(n, r) {
    this._gestureMgr || (this._gestureMgr = new HF());
    var o = this._gestureMgr;
    r === "start" && o.clear();
    var a = o.recognize(n, this.findHover(n.zrX, n.zrY, null).target, this.proxy.dom);
    if (r === "end" && o.clear(), a) {
      var i = a.type;
      n.gestureEvent = i;
      var s = new Po();
      s.target = a.target, this.dispatchToElement(s, i, a.event);
    }
  }, e;
}(Fn);
X(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(t) {
  ny.prototype[t] = function(e) {
    var n = e.zrX, r = e.zrY, o = ry(this, n, r), a, i;
    if ((t !== "mouseup" || !o) && (a = this.findHover(n, r), i = a.target), t === "mousedown")
      this._downEl = i, this._downPoint = [e.zrX, e.zrY], this._upEl = i;
    else if (t === "mouseup")
      this._upEl = i;
    else if (t === "click") {
      if (this._downEl !== this._upEl || !this._downPoint || Nu(this._downPoint, [e.zrX, e.zrY]) > 4)
        return;
      this._downPoint = null;
    }
    this.dispatchToElement(a, t, e);
  };
});
function JF(t, e, n) {
  if (t[t.rectHover ? "rectContain" : "contain"](e, n)) {
    for (var r = t, o = void 0, a = !1; r; ) {
      if (r.ignoreClip && (a = !0), !a) {
        var i = r.getClipPath();
        if (i && !i.contain(e, n))
          return !1;
      }
      r.silent && (o = !0);
      var s = r.__hostTarget;
      r = s || r.parent;
    }
    return o ? ty : !0;
  }
  return !1;
}
function ph(t, e, n, r, o) {
  for (var a = t.length - 1; a >= 0; a--) {
    var i = t[a], s = void 0;
    if (i !== o && !i.ignore && (s = JF(i, n, r)) && (!e.topTarget && (e.topTarget = i), s !== ty)) {
      e.target = i;
      break;
    }
  }
}
function ry(t, e, n) {
  var r = t.painter;
  return e < 0 || e > r.getWidth() || n < 0 || n > r.getHeight();
}
var oy = 32, zo = 7;
function QF(t) {
  for (var e = 0; t >= oy; )
    e |= t & 1, t >>= 1;
  return t + e;
}
function vh(t, e, n, r) {
  var o = e + 1;
  if (o === n)
    return 1;
  if (r(t[o++], t[e]) < 0) {
    for (; o < n && r(t[o], t[o - 1]) < 0; )
      o++;
    e5(t, e, o);
  } else
    for (; o < n && r(t[o], t[o - 1]) >= 0; )
      o++;
  return o - e;
}
function e5(t, e, n) {
  for (n--; e < n; ) {
    var r = t[e];
    t[e++] = t[n], t[n--] = r;
  }
}
function gh(t, e, n, r, o) {
  for (r === e && r++; r < n; r++) {
    for (var a = t[r], i = e, s = r, l; i < s; )
      l = i + s >>> 1, o(a, t[l]) < 0 ? s = l : i = l + 1;
    var u = r - i;
    switch (u) {
      case 3:
        t[i + 3] = t[i + 2];
      case 2:
        t[i + 2] = t[i + 1];
      case 1:
        t[i + 1] = t[i];
        break;
      default:
        for (; u > 0; )
          t[i + u] = t[i + u - 1], u--;
    }
    t[i] = a;
  }
}
function yl(t, e, n, r, o, a) {
  var i = 0, s = 0, l = 1;
  if (a(t, e[n + o]) > 0) {
    for (s = r - o; l < s && a(t, e[n + o + l]) > 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s), i += o, l += o;
  } else {
    for (s = o + 1; l < s && a(t, e[n + o - l]) <= 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s);
    var u = i;
    i = o - l, l = o - u;
  }
  for (i++; i < l; ) {
    var c = i + (l - i >>> 1);
    a(t, e[n + c]) > 0 ? i = c + 1 : l = c;
  }
  return l;
}
function ml(t, e, n, r, o, a) {
  var i = 0, s = 0, l = 1;
  if (a(t, e[n + o]) < 0) {
    for (s = o + 1; l < s && a(t, e[n + o - l]) < 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s);
    var u = i;
    i = o - l, l = o - u;
  } else {
    for (s = r - o; l < s && a(t, e[n + o + l]) >= 0; )
      i = l, l = (l << 1) + 1, l <= 0 && (l = s);
    l > s && (l = s), i += o, l += o;
  }
  for (i++; i < l; ) {
    var c = i + (l - i >>> 1);
    a(t, e[n + c]) < 0 ? l = c : i = c + 1;
  }
  return l;
}
function t5(t, e) {
  var n = zo, r, o, a = 0, i = [];
  r = [], o = [];
  function s(d, p) {
    r[a] = d, o[a] = p, a += 1;
  }
  function l() {
    for (; a > 1; ) {
      var d = a - 2;
      if (d >= 1 && o[d - 1] <= o[d] + o[d + 1] || d >= 2 && o[d - 2] <= o[d] + o[d - 1])
        o[d - 1] < o[d + 1] && d--;
      else if (o[d] > o[d + 1])
        break;
      c(d);
    }
  }
  function u() {
    for (; a > 1; ) {
      var d = a - 2;
      d > 0 && o[d - 1] < o[d + 1] && d--, c(d);
    }
  }
  function c(d) {
    var p = r[d], m = o[d], g = r[d + 1], v = o[d + 1];
    o[d] = m + v, d === a - 3 && (r[d + 1] = r[d + 2], o[d + 1] = o[d + 2]), a--;
    var y = ml(t[g], t, p, m, 0, e);
    p += y, m -= y, m !== 0 && (v = yl(t[p + m - 1], t, g, v, v - 1, e), v !== 0 && (m <= v ? f(p, m, g, v) : h(p, m, g, v)));
  }
  function f(d, p, m, g) {
    var v = 0;
    for (v = 0; v < p; v++)
      i[v] = t[d + v];
    var y = 0, S = m, b = d;
    if (t[b++] = t[S++], --g === 0) {
      for (v = 0; v < p; v++)
        t[b + v] = i[y + v];
      return;
    }
    if (p === 1) {
      for (v = 0; v < g; v++)
        t[b + v] = t[S + v];
      t[b + g] = i[y];
      return;
    }
    for (var _ = n, w, T, C; ; ) {
      w = 0, T = 0, C = !1;
      do
        if (e(t[S], i[y]) < 0) {
          if (t[b++] = t[S++], T++, w = 0, --g === 0) {
            C = !0;
            break;
          }
        } else if (t[b++] = i[y++], w++, T = 0, --p === 1) {
          C = !0;
          break;
        }
      while ((w | T) < _);
      if (C)
        break;
      do {
        if (w = ml(t[S], i, y, p, 0, e), w !== 0) {
          for (v = 0; v < w; v++)
            t[b + v] = i[y + v];
          if (b += w, y += w, p -= w, p <= 1) {
            C = !0;
            break;
          }
        }
        if (t[b++] = t[S++], --g === 0) {
          C = !0;
          break;
        }
        if (T = yl(i[y], t, S, g, 0, e), T !== 0) {
          for (v = 0; v < T; v++)
            t[b + v] = t[S + v];
          if (b += T, S += T, g -= T, g === 0) {
            C = !0;
            break;
          }
        }
        if (t[b++] = i[y++], --p === 1) {
          C = !0;
          break;
        }
        _--;
      } while (w >= zo || T >= zo);
      if (C)
        break;
      _ < 0 && (_ = 0), _ += 2;
    }
    if (n = _, n < 1 && (n = 1), p === 1) {
      for (v = 0; v < g; v++)
        t[b + v] = t[S + v];
      t[b + g] = i[y];
    } else {
      if (p === 0)
        throw new Error();
      for (v = 0; v < p; v++)
        t[b + v] = i[y + v];
    }
  }
  function h(d, p, m, g) {
    var v = 0;
    for (v = 0; v < g; v++)
      i[v] = t[m + v];
    var y = d + p - 1, S = g - 1, b = m + g - 1, _ = 0, w = 0;
    if (t[b--] = t[y--], --p === 0) {
      for (_ = b - (g - 1), v = 0; v < g; v++)
        t[_ + v] = i[v];
      return;
    }
    if (g === 1) {
      for (b -= p, y -= p, w = b + 1, _ = y + 1, v = p - 1; v >= 0; v--)
        t[w + v] = t[_ + v];
      t[b] = i[S];
      return;
    }
    for (var T = n; ; ) {
      var C = 0, x = 0, D = !1;
      do
        if (e(i[S], t[y]) < 0) {
          if (t[b--] = t[y--], C++, x = 0, --p === 0) {
            D = !0;
            break;
          }
        } else if (t[b--] = i[S--], x++, C = 0, --g === 1) {
          D = !0;
          break;
        }
      while ((C | x) < T);
      if (D)
        break;
      do {
        if (C = p - ml(i[S], t, d, p, p - 1, e), C !== 0) {
          for (b -= C, y -= C, p -= C, w = b + 1, _ = y + 1, v = C - 1; v >= 0; v--)
            t[w + v] = t[_ + v];
          if (p === 0) {
            D = !0;
            break;
          }
        }
        if (t[b--] = i[S--], --g === 1) {
          D = !0;
          break;
        }
        if (x = g - yl(t[y], i, 0, g, g - 1, e), x !== 0) {
          for (b -= x, S -= x, g -= x, w = b + 1, _ = S + 1, v = 0; v < x; v++)
            t[w + v] = i[_ + v];
          if (g <= 1) {
            D = !0;
            break;
          }
        }
        if (t[b--] = t[y--], --p === 0) {
          D = !0;
          break;
        }
        T--;
      } while (C >= zo || x >= zo);
      if (D)
        break;
      T < 0 && (T = 0), T += 2;
    }
    if (n = T, n < 1 && (n = 1), g === 1) {
      for (b -= p, y -= p, w = b + 1, _ = y + 1, v = p - 1; v >= 0; v--)
        t[w + v] = t[_ + v];
      t[b] = i[S];
    } else {
      if (g === 0)
        throw new Error();
      for (_ = b - (g - 1), v = 0; v < g; v++)
        t[_ + v] = i[v];
    }
  }
  return {
    mergeRuns: l,
    forceMergeRuns: u,
    pushRun: s
  };
}
function Mi(t, e, n, r) {
  n || (n = 0), r || (r = t.length);
  var o = r - n;
  if (!(o < 2)) {
    var a = 0;
    if (o < oy) {
      a = vh(t, n, r, e), gh(t, n, r, n + a, e);
      return;
    }
    var i = t5(t, e), s = QF(o);
    do {
      if (a = vh(t, n, r, e), a < s) {
        var l = o;
        l > s && (l = s), gh(t, n, n + l, n + a, e), a = l;
      }
      i.pushRun(n, a), i.mergeRuns(), o -= a, n += a;
    } while (o !== 0);
    i.forceMergeRuns();
  }
}
var wn = 1, Oi = 2, ta = 4, yh = !1;
function Sl() {
  yh || (yh = !0, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"));
}
function mh(t, e) {
  return t.zlevel === e.zlevel ? t.z === e.z ? t.z2 - e.z2 : t.z - e.z : t.zlevel - e.zlevel;
}
var n5 = function() {
  function t() {
    this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = mh;
  }
  return t.prototype.traverse = function(e, n) {
    for (var r = 0; r < this._roots.length; r++)
      this._roots[r].traverse(e, n);
  }, t.prototype.getDisplayList = function(e, n) {
    n = n || !1;
    var r = this._displayList;
    return (e || !r.length) && this.updateDisplayList(n), r;
  }, t.prototype.updateDisplayList = function(e) {
    this._displayListLen = 0;
    for (var n = this._roots, r = this._displayList, o = 0, a = n.length; o < a; o++)
      this._updateAndAddDisplayable(n[o], null, e);
    r.length = this._displayListLen, Mi(r, mh);
  }, t.prototype._updateAndAddDisplayable = function(e, n, r) {
    if (!(e.ignore && !r)) {
      e.beforeUpdate(), e.update(), e.afterUpdate();
      var o = e.getClipPath();
      if (e.ignoreClip)
        n = null;
      else if (o) {
        n ? n = n.slice() : n = [];
        for (var a = o, i = e; a; )
          a.parent = i, a.updateTransform(), n.push(a), i = a, a = a.getClipPath();
      }
      if (e.childrenRef) {
        for (var s = e.childrenRef(), l = 0; l < s.length; l++) {
          var u = s[l];
          e.__dirty && (u.__dirty |= wn), this._updateAndAddDisplayable(u, n, r);
        }
        e.__dirty = 0;
      } else {
        var c = e;
        n && n.length ? c.__clipPaths = n : c.__clipPaths && c.__clipPaths.length > 0 && (c.__clipPaths = []), isNaN(c.z) && (Sl(), c.z = 0), isNaN(c.z2) && (Sl(), c.z2 = 0), isNaN(c.zlevel) && (Sl(), c.zlevel = 0), this._displayList[this._displayListLen++] = c;
      }
      var f = e.getDecalElement && e.getDecalElement();
      f && this._updateAndAddDisplayable(f, n, r);
      var h = e.getTextGuideLine();
      h && this._updateAndAddDisplayable(h, n, r);
      var d = e.getTextContent();
      d && this._updateAndAddDisplayable(d, n, r);
    }
  }, t.prototype.addRoot = function(e) {
    e.__zr && e.__zr.storage === this || this._roots.push(e);
  }, t.prototype.delRoot = function(e) {
    if (e instanceof Array) {
      for (var n = 0, r = e.length; n < r; n++)
        this.delRoot(e[n]);
      return;
    }
    var o = He(this._roots, e);
    o >= 0 && this._roots.splice(o, 1);
  }, t.prototype.delAllRoots = function() {
    this._roots = [], this._displayList = [], this._displayListLen = 0;
  }, t.prototype.getRoots = function() {
    return this._roots;
  }, t.prototype.dispose = function() {
    this._displayList = null, this._roots = null;
  }, t;
}(), os;
os = ke.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(t) {
  return setTimeout(t, 16);
};
var ha = {
  linear: function(t) {
    return t;
  },
  quadraticIn: function(t) {
    return t * t;
  },
  quadraticOut: function(t) {
    return t * (2 - t);
  },
  quadraticInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1);
  },
  cubicIn: function(t) {
    return t * t * t;
  },
  cubicOut: function(t) {
    return --t * t * t + 1;
  },
  cubicInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2);
  },
  quarticIn: function(t) {
    return t * t * t * t;
  },
  quarticOut: function(t) {
    return 1 - --t * t * t * t;
  },
  quarticInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2);
  },
  quinticIn: function(t) {
    return t * t * t * t * t;
  },
  quinticOut: function(t) {
    return --t * t * t * t * t + 1;
  },
  quinticInOut: function(t) {
    return (t *= 2) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2);
  },
  sinusoidalIn: function(t) {
    return 1 - Math.cos(t * Math.PI / 2);
  },
  sinusoidalOut: function(t) {
    return Math.sin(t * Math.PI / 2);
  },
  sinusoidalInOut: function(t) {
    return 0.5 * (1 - Math.cos(Math.PI * t));
  },
  exponentialIn: function(t) {
    return t === 0 ? 0 : Math.pow(1024, t - 1);
  },
  exponentialOut: function(t) {
    return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
  },
  exponentialInOut: function(t) {
    return t === 0 ? 0 : t === 1 ? 1 : (t *= 2) < 1 ? 0.5 * Math.pow(1024, t - 1) : 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2);
  },
  circularIn: function(t) {
    return 1 - Math.sqrt(1 - t * t);
  },
  circularOut: function(t) {
    return Math.sqrt(1 - --t * t);
  },
  circularInOut: function(t) {
    return (t *= 2) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);
  },
  elasticIn: function(t) {
    var e, n = 0.1, r = 0.4;
    return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = r / 4) : e = r * Math.asin(1 / n) / (2 * Math.PI), -(n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / r)));
  },
  elasticOut: function(t) {
    var e, n = 0.1, r = 0.4;
    return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = r / 4) : e = r * Math.asin(1 / n) / (2 * Math.PI), n * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / r) + 1);
  },
  elasticInOut: function(t) {
    var e, n = 0.1, r = 0.4;
    return t === 0 ? 0 : t === 1 ? 1 : (!n || n < 1 ? (n = 1, e = r / 4) : e = r * Math.asin(1 / n) / (2 * Math.PI), (t *= 2) < 1 ? -0.5 * (n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / r)) : n * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / r) * 0.5 + 1);
  },
  backIn: function(t) {
    var e = 1.70158;
    return t * t * ((e + 1) * t - e);
  },
  backOut: function(t) {
    var e = 1.70158;
    return --t * t * ((e + 1) * t + e) + 1;
  },
  backInOut: function(t) {
    var e = 2.5949095;
    return (t *= 2) < 1 ? 0.5 * (t * t * ((e + 1) * t - e)) : 0.5 * ((t -= 2) * t * ((e + 1) * t + e) + 2);
  },
  bounceIn: function(t) {
    return 1 - ha.bounceOut(1 - t);
  },
  bounceOut: function(t) {
    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375 : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
  },
  bounceInOut: function(t) {
    return t < 0.5 ? ha.bounceIn(t * 2) * 0.5 : ha.bounceOut(t * 2 - 1) * 0.5 + 0.5;
  }
}, Ka = Math.pow, rr = Math.sqrt, ay = 1e-8, iy = 1e-4, Sh = rr(3), Ja = 1 / 3, yn = Eo(), jt = Eo(), go = Eo();
function er(t) {
  return t > -1e-8 && t < ay;
}
function sy(t) {
  return t > ay || t < -1e-8;
}
function at(t, e, n, r, o) {
  var a = 1 - o;
  return a * a * (a * t + 3 * o * e) + o * o * (o * r + 3 * a * n);
}
function bh(t, e, n, r, o) {
  var a = 1 - o;
  return 3 * (((e - t) * a + 2 * (n - e) * o) * a + (r - n) * o * o);
}
function ly(t, e, n, r, o, a) {
  var i = r + 3 * (e - n) - t, s = 3 * (n - e * 2 + t), l = 3 * (e - t), u = t - o, c = s * s - 3 * i * l, f = s * l - 9 * i * u, h = l * l - 3 * s * u, d = 0;
  if (er(c) && er(f))
    if (er(s))
      a[0] = 0;
    else {
      var p = -l / s;
      p >= 0 && p <= 1 && (a[d++] = p);
    }
  else {
    var m = f * f - 4 * c * h;
    if (er(m)) {
      var g = f / c, p = -s / i + g, v = -g / 2;
      p >= 0 && p <= 1 && (a[d++] = p), v >= 0 && v <= 1 && (a[d++] = v);
    } else if (m > 0) {
      var y = rr(m), S = c * s + 1.5 * i * (-f + y), b = c * s + 1.5 * i * (-f - y);
      S < 0 ? S = -Ka(-S, Ja) : S = Ka(S, Ja), b < 0 ? b = -Ka(-b, Ja) : b = Ka(b, Ja);
      var p = (-s - (S + b)) / (3 * i);
      p >= 0 && p <= 1 && (a[d++] = p);
    } else {
      var _ = (2 * c * s - 3 * i * f) / (2 * rr(c * c * c)), w = Math.acos(_) / 3, T = rr(c), C = Math.cos(w), p = (-s - 2 * T * C) / (3 * i), v = (-s + T * (C + Sh * Math.sin(w))) / (3 * i), x = (-s + T * (C - Sh * Math.sin(w))) / (3 * i);
      p >= 0 && p <= 1 && (a[d++] = p), v >= 0 && v <= 1 && (a[d++] = v), x >= 0 && x <= 1 && (a[d++] = x);
    }
  }
  return d;
}
function uy(t, e, n, r, o) {
  var a = 6 * n - 12 * e + 6 * t, i = 9 * e + 3 * r - 3 * t - 9 * n, s = 3 * e - 3 * t, l = 0;
  if (er(i)) {
    if (sy(a)) {
      var u = -s / a;
      u >= 0 && u <= 1 && (o[l++] = u);
    }
  } else {
    var c = a * a - 4 * i * s;
    if (er(c))
      o[0] = -a / (2 * i);
    else if (c > 0) {
      var f = rr(c), u = (-a + f) / (2 * i), h = (-a - f) / (2 * i);
      u >= 0 && u <= 1 && (o[l++] = u), h >= 0 && h <= 1 && (o[l++] = h);
    }
  }
  return l;
}
function as(t, e, n, r, o, a) {
  var i = (e - t) * o + t, s = (n - e) * o + e, l = (r - n) * o + n, u = (s - i) * o + i, c = (l - s) * o + s, f = (c - u) * o + u;
  a[0] = t, a[1] = i, a[2] = u, a[3] = f, a[4] = f, a[5] = c, a[6] = l, a[7] = r;
}
function cy(t, e, n, r, o, a, i, s, l, u, c) {
  var f, h = 5e-3, d = 1 / 0, p, m, g, v;
  yn[0] = l, yn[1] = u;
  for (var y = 0; y < 1; y += 0.05)
    jt[0] = at(t, n, o, i, y), jt[1] = at(e, r, a, s, y), g = vo(yn, jt), g < d && (f = y, d = g);
  d = 1 / 0;
  for (var S = 0; S < 32 && !(h < iy); S++)
    p = f - h, m = f + h, jt[0] = at(t, n, o, i, p), jt[1] = at(e, r, a, s, p), g = vo(jt, yn), p >= 0 && g < d ? (f = p, d = g) : (go[0] = at(t, n, o, i, m), go[1] = at(e, r, a, s, m), v = vo(go, yn), m <= 1 && v < d ? (f = m, d = v) : h *= 0.5);
  return c && (c[0] = at(t, n, o, i, f), c[1] = at(e, r, a, s, f)), rr(d);
}
function r5(t, e, n, r, o, a, i, s, l) {
  for (var u = t, c = e, f = 0, h = 1 / l, d = 1; d <= l; d++) {
    var p = d * h, m = at(t, n, o, i, p), g = at(e, r, a, s, p), v = m - u, y = g - c;
    f += Math.sqrt(v * v + y * y), u = m, c = g;
  }
  return f;
}
function ct(t, e, n, r) {
  var o = 1 - r;
  return o * (o * t + 2 * r * e) + r * r * n;
}
function wh(t, e, n, r) {
  return 2 * ((1 - r) * (e - t) + r * (n - e));
}
function o5(t, e, n, r, o) {
  var a = t - 2 * e + n, i = 2 * (e - t), s = t - r, l = 0;
  if (er(a)) {
    if (sy(i)) {
      var u = -s / i;
      u >= 0 && u <= 1 && (o[l++] = u);
    }
  } else {
    var c = i * i - 4 * a * s;
    if (er(c)) {
      var u = -i / (2 * a);
      u >= 0 && u <= 1 && (o[l++] = u);
    } else if (c > 0) {
      var f = rr(c), u = (-i + f) / (2 * a), h = (-i - f) / (2 * a);
      u >= 0 && u <= 1 && (o[l++] = u), h >= 0 && h <= 1 && (o[l++] = h);
    }
  }
  return l;
}
function fy(t, e, n) {
  var r = t + n - 2 * e;
  return r === 0 ? 0.5 : (t - e) / r;
}
function is(t, e, n, r, o) {
  var a = (e - t) * r + t, i = (n - e) * r + e, s = (i - a) * r + a;
  o[0] = t, o[1] = a, o[2] = s, o[3] = s, o[4] = i, o[5] = n;
}
function dy(t, e, n, r, o, a, i, s, l) {
  var u, c = 5e-3, f = 1 / 0;
  yn[0] = i, yn[1] = s;
  for (var h = 0; h < 1; h += 0.05) {
    jt[0] = ct(t, n, o, h), jt[1] = ct(e, r, a, h);
    var d = vo(yn, jt);
    d < f && (u = h, f = d);
  }
  f = 1 / 0;
  for (var p = 0; p < 32 && !(c < iy); p++) {
    var m = u - c, g = u + c;
    jt[0] = ct(t, n, o, m), jt[1] = ct(e, r, a, m);
    var d = vo(jt, yn);
    if (m >= 0 && d < f)
      u = m, f = d;
    else {
      go[0] = ct(t, n, o, g), go[1] = ct(e, r, a, g);
      var v = vo(go, yn);
      g <= 1 && v < f ? (u = g, f = v) : c *= 0.5;
    }
  }
  return l && (l[0] = ct(t, n, o, u), l[1] = ct(e, r, a, u)), rr(f);
}
function a5(t, e, n, r, o, a, i) {
  for (var s = t, l = e, u = 0, c = 1 / i, f = 1; f <= i; f++) {
    var h = f * c, d = ct(t, n, o, h), p = ct(e, r, a, h), m = d - s, g = p - l;
    u += Math.sqrt(m * m + g * g), s = d, l = p;
  }
  return u;
}
var i5 = /cubic-bezier\(([0-9,\.e ]+)\)/;
function hy(t) {
  var e = t && i5.exec(t);
  if (e) {
    var n = e[1].split(","), r = +Qn(n[0]), o = +Qn(n[1]), a = +Qn(n[2]), i = +Qn(n[3]);
    if (isNaN(r + o + a + i))
      return;
    var s = [];
    return function(l) {
      return l <= 0 ? 0 : l >= 1 ? 1 : ly(0, r, a, 1, l, s) && at(0, o, i, 1, s[0]);
    };
  }
}
var s5 = function() {
  function t(e) {
    this._inited = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = e.life || 1e3, this._delay = e.delay || 0, this.loop = e.loop || !1, this.onframe = e.onframe || Gt, this.ondestroy = e.ondestroy || Gt, this.onrestart = e.onrestart || Gt, e.easing && this.setEasing(e.easing);
  }
  return t.prototype.step = function(e, n) {
    if (this._inited || (this._startTime = e + this._delay, this._inited = !0), this._paused) {
      this._pausedTime += n;
      return;
    }
    var r = this._life, o = e - this._startTime - this._pausedTime, a = o / r;
    a < 0 && (a = 0), a = Math.min(a, 1);
    var i = this.easingFunc, s = i ? i(a) : a;
    if (this.onframe(s), a === 1)
      if (this.loop) {
        var l = o % r;
        this._startTime = e - l, this._pausedTime = 0, this.onrestart();
      } else
        return !0;
    return !1;
  }, t.prototype.pause = function() {
    this._paused = !0;
  }, t.prototype.resume = function() {
    this._paused = !1;
  }, t.prototype.setEasing = function(e) {
    this.easing = e, this.easingFunc = Be(e) ? e : ha[e] || hy(e);
  }, t;
}(), py = /* @__PURE__ */ function() {
  function t(e) {
    this.value = e;
  }
  return t;
}(), l5 = function() {
  function t() {
    this._len = 0;
  }
  return t.prototype.insert = function(e) {
    var n = new py(e);
    return this.insertEntry(n), n;
  }, t.prototype.insertEntry = function(e) {
    this.head ? (this.tail.next = e, e.prev = this.tail, e.next = null, this.tail = e) : this.head = this.tail = e, this._len++;
  }, t.prototype.remove = function(e) {
    var n = e.prev, r = e.next;
    n ? n.next = r : this.head = r, r ? r.prev = n : this.tail = n, e.next = e.prev = null, this._len--;
  }, t.prototype.len = function() {
    return this._len;
  }, t.prototype.clear = function() {
    this.head = this.tail = null, this._len = 0;
  }, t;
}(), Va = function() {
  function t(e) {
    this._list = new l5(), this._maxSize = 10, this._map = {}, this._maxSize = e;
  }
  return t.prototype.put = function(e, n) {
    var r = this._list, o = this._map, a = null;
    if (o[e] == null) {
      var i = r.len(), s = this._lastRemovedEntry;
      if (i >= this._maxSize && i > 0) {
        var l = r.head;
        r.remove(l), delete o[l.key], a = l.value, this._lastRemovedEntry = l;
      }
      s ? s.value = n : s = new py(n), s.key = e, r.insertEntry(s), o[e] = s;
    }
    return a;
  }, t.prototype.get = function(e) {
    var n = this._map[e], r = this._list;
    if (n != null)
      return n !== r.tail && (r.remove(n), r.insertEntry(n)), n.value;
  }, t.prototype.clear = function() {
    this._list.clear(), this._map = {};
  }, t.prototype.len = function() {
    return this._list.len();
  }, t;
}(), _h = {
  transparent: [0, 0, 0, 0],
  aliceblue: [240, 248, 255, 1],
  antiquewhite: [250, 235, 215, 1],
  aqua: [0, 255, 255, 1],
  aquamarine: [127, 255, 212, 1],
  azure: [240, 255, 255, 1],
  beige: [245, 245, 220, 1],
  bisque: [255, 228, 196, 1],
  black: [0, 0, 0, 1],
  blanchedalmond: [255, 235, 205, 1],
  blue: [0, 0, 255, 1],
  blueviolet: [138, 43, 226, 1],
  brown: [165, 42, 42, 1],
  burlywood: [222, 184, 135, 1],
  cadetblue: [95, 158, 160, 1],
  chartreuse: [127, 255, 0, 1],
  chocolate: [210, 105, 30, 1],
  coral: [255, 127, 80, 1],
  cornflowerblue: [100, 149, 237, 1],
  cornsilk: [255, 248, 220, 1],
  crimson: [220, 20, 60, 1],
  cyan: [0, 255, 255, 1],
  darkblue: [0, 0, 139, 1],
  darkcyan: [0, 139, 139, 1],
  darkgoldenrod: [184, 134, 11, 1],
  darkgray: [169, 169, 169, 1],
  darkgreen: [0, 100, 0, 1],
  darkgrey: [169, 169, 169, 1],
  darkkhaki: [189, 183, 107, 1],
  darkmagenta: [139, 0, 139, 1],
  darkolivegreen: [85, 107, 47, 1],
  darkorange: [255, 140, 0, 1],
  darkorchid: [153, 50, 204, 1],
  darkred: [139, 0, 0, 1],
  darksalmon: [233, 150, 122, 1],
  darkseagreen: [143, 188, 143, 1],
  darkslateblue: [72, 61, 139, 1],
  darkslategray: [47, 79, 79, 1],
  darkslategrey: [47, 79, 79, 1],
  darkturquoise: [0, 206, 209, 1],
  darkviolet: [148, 0, 211, 1],
  deeppink: [255, 20, 147, 1],
  deepskyblue: [0, 191, 255, 1],
  dimgray: [105, 105, 105, 1],
  dimgrey: [105, 105, 105, 1],
  dodgerblue: [30, 144, 255, 1],
  firebrick: [178, 34, 34, 1],
  floralwhite: [255, 250, 240, 1],
  forestgreen: [34, 139, 34, 1],
  fuchsia: [255, 0, 255, 1],
  gainsboro: [220, 220, 220, 1],
  ghostwhite: [248, 248, 255, 1],
  gold: [255, 215, 0, 1],
  goldenrod: [218, 165, 32, 1],
  gray: [128, 128, 128, 1],
  green: [0, 128, 0, 1],
  greenyellow: [173, 255, 47, 1],
  grey: [128, 128, 128, 1],
  honeydew: [240, 255, 240, 1],
  hotpink: [255, 105, 180, 1],
  indianred: [205, 92, 92, 1],
  indigo: [75, 0, 130, 1],
  ivory: [255, 255, 240, 1],
  khaki: [240, 230, 140, 1],
  lavender: [230, 230, 250, 1],
  lavenderblush: [255, 240, 245, 1],
  lawngreen: [124, 252, 0, 1],
  lemonchiffon: [255, 250, 205, 1],
  lightblue: [173, 216, 230, 1],
  lightcoral: [240, 128, 128, 1],
  lightcyan: [224, 255, 255, 1],
  lightgoldenrodyellow: [250, 250, 210, 1],
  lightgray: [211, 211, 211, 1],
  lightgreen: [144, 238, 144, 1],
  lightgrey: [211, 211, 211, 1],
  lightpink: [255, 182, 193, 1],
  lightsalmon: [255, 160, 122, 1],
  lightseagreen: [32, 178, 170, 1],
  lightskyblue: [135, 206, 250, 1],
  lightslategray: [119, 136, 153, 1],
  lightslategrey: [119, 136, 153, 1],
  lightsteelblue: [176, 196, 222, 1],
  lightyellow: [255, 255, 224, 1],
  lime: [0, 255, 0, 1],
  limegreen: [50, 205, 50, 1],
  linen: [250, 240, 230, 1],
  magenta: [255, 0, 255, 1],
  maroon: [128, 0, 0, 1],
  mediumaquamarine: [102, 205, 170, 1],
  mediumblue: [0, 0, 205, 1],
  mediumorchid: [186, 85, 211, 1],
  mediumpurple: [147, 112, 219, 1],
  mediumseagreen: [60, 179, 113, 1],
  mediumslateblue: [123, 104, 238, 1],
  mediumspringgreen: [0, 250, 154, 1],
  mediumturquoise: [72, 209, 204, 1],
  mediumvioletred: [199, 21, 133, 1],
  midnightblue: [25, 25, 112, 1],
  mintcream: [245, 255, 250, 1],
  mistyrose: [255, 228, 225, 1],
  moccasin: [255, 228, 181, 1],
  navajowhite: [255, 222, 173, 1],
  navy: [0, 0, 128, 1],
  oldlace: [253, 245, 230, 1],
  olive: [128, 128, 0, 1],
  olivedrab: [107, 142, 35, 1],
  orange: [255, 165, 0, 1],
  orangered: [255, 69, 0, 1],
  orchid: [218, 112, 214, 1],
  palegoldenrod: [238, 232, 170, 1],
  palegreen: [152, 251, 152, 1],
  paleturquoise: [175, 238, 238, 1],
  palevioletred: [219, 112, 147, 1],
  papayawhip: [255, 239, 213, 1],
  peachpuff: [255, 218, 185, 1],
  peru: [205, 133, 63, 1],
  pink: [255, 192, 203, 1],
  plum: [221, 160, 221, 1],
  powderblue: [176, 224, 230, 1],
  purple: [128, 0, 128, 1],
  red: [255, 0, 0, 1],
  rosybrown: [188, 143, 143, 1],
  royalblue: [65, 105, 225, 1],
  saddlebrown: [139, 69, 19, 1],
  salmon: [250, 128, 114, 1],
  sandybrown: [244, 164, 96, 1],
  seagreen: [46, 139, 87, 1],
  seashell: [255, 245, 238, 1],
  sienna: [160, 82, 45, 1],
  silver: [192, 192, 192, 1],
  skyblue: [135, 206, 235, 1],
  slateblue: [106, 90, 205, 1],
  slategray: [112, 128, 144, 1],
  slategrey: [112, 128, 144, 1],
  snow: [255, 250, 250, 1],
  springgreen: [0, 255, 127, 1],
  steelblue: [70, 130, 180, 1],
  tan: [210, 180, 140, 1],
  teal: [0, 128, 128, 1],
  thistle: [216, 191, 216, 1],
  tomato: [255, 99, 71, 1],
  turquoise: [64, 224, 208, 1],
  violet: [238, 130, 238, 1],
  wheat: [245, 222, 179, 1],
  white: [255, 255, 255, 1],
  whitesmoke: [245, 245, 245, 1],
  yellow: [255, 255, 0, 1],
  yellowgreen: [154, 205, 50, 1]
};
function pa(t) {
  return t = Math.round(t), t < 0 ? 0 : t > 255 ? 255 : t;
}
function xh(t) {
  return t < 0 ? 0 : t > 1 ? 1 : t;
}
function bl(t) {
  var e = t;
  return e.length && e.charAt(e.length - 1) === "%" ? pa(parseFloat(e) / 100 * 255) : pa(parseInt(e, 10));
}
function va(t) {
  var e = t;
  return e.length && e.charAt(e.length - 1) === "%" ? xh(parseFloat(e) / 100) : xh(parseFloat(e));
}
function wl(t, e, n) {
  return n < 0 ? n += 1 : n > 1 && (n -= 1), n * 6 < 1 ? t + (e - t) * n * 6 : n * 2 < 1 ? e : n * 3 < 2 ? t + (e - t) * (2 / 3 - n) * 6 : t;
}
function Ht(t, e, n, r, o) {
  return t[0] = e, t[1] = n, t[2] = r, t[3] = o, t;
}
function qu(t, e) {
  return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t;
}
var vy = new Va(20), Qa = null;
function Ur(t, e) {
  Qa && qu(Qa, e), Qa = vy.put(t, Qa || e.slice());
}
function yo(t, e) {
  if (t) {
    e = e || [];
    var n = vy.get(t);
    if (n)
      return qu(e, n);
    t = t + "";
    var r = t.replace(/ /g, "").toLowerCase();
    if (r in _h)
      return qu(e, _h[r]), Ur(t, e), e;
    var o = r.length;
    if (r.charAt(0) === "#") {
      if (o === 4 || o === 5) {
        var a = parseInt(r.slice(1, 4), 16);
        if (!(a >= 0 && a <= 4095)) {
          Ht(e, 0, 0, 0, 1);
          return;
        }
        return Ht(e, (a & 3840) >> 4 | (a & 3840) >> 8, a & 240 | (a & 240) >> 4, a & 15 | (a & 15) << 4, o === 5 ? parseInt(r.slice(4), 16) / 15 : 1), Ur(t, e), e;
      } else if (o === 7 || o === 9) {
        var a = parseInt(r.slice(1, 7), 16);
        if (!(a >= 0 && a <= 16777215)) {
          Ht(e, 0, 0, 0, 1);
          return;
        }
        return Ht(e, (a & 16711680) >> 16, (a & 65280) >> 8, a & 255, o === 9 ? parseInt(r.slice(7), 16) / 255 : 1), Ur(t, e), e;
      }
      return;
    }
    var i = r.indexOf("("), s = r.indexOf(")");
    if (i !== -1 && s + 1 === o) {
      var l = r.substr(0, i), u = r.substr(i + 1, s - (i + 1)).split(","), c = 1;
      switch (l) {
        case "rgba":
          if (u.length !== 4)
            return u.length === 3 ? Ht(e, +u[0], +u[1], +u[2], 1) : Ht(e, 0, 0, 0, 1);
          c = va(u.pop());
        case "rgb":
          if (u.length >= 3)
            return Ht(e, bl(u[0]), bl(u[1]), bl(u[2]), u.length === 3 ? c : va(u[3])), Ur(t, e), e;
          Ht(e, 0, 0, 0, 1);
          return;
        case "hsla":
          if (u.length !== 4) {
            Ht(e, 0, 0, 0, 1);
            return;
          }
          return u[3] = va(u[3]), Dh(u, e), Ur(t, e), e;
        case "hsl":
          if (u.length !== 3) {
            Ht(e, 0, 0, 0, 1);
            return;
          }
          return Dh(u, e), Ur(t, e), e;
        default:
          return;
      }
    }
    Ht(e, 0, 0, 0, 1);
  }
}
function Dh(t, e) {
  var n = (parseFloat(t[0]) % 360 + 360) % 360 / 360, r = va(t[1]), o = va(t[2]), a = o <= 0.5 ? o * (r + 1) : o + r - o * r, i = o * 2 - a;
  return e = e || [], Ht(e, pa(wl(i, a, n + 1 / 3) * 255), pa(wl(i, a, n) * 255), pa(wl(i, a, n - 1 / 3) * 255), 1), t.length === 4 && (e[3] = t[3]), e;
}
function Ch(t, e) {
  var n = yo(t);
  if (n) {
    for (var r = 0; r < 3; r++)
      n[r] = n[r] * (1 - e) | 0, n[r] > 255 ? n[r] = 255 : n[r] < 0 && (n[r] = 0);
    return gy(n, n.length === 4 ? "rgba" : "rgb");
  }
}
function gy(t, e) {
  if (!(!t || !t.length)) {
    var n = t[0] + "," + t[1] + "," + t[2];
    return (e === "rgba" || e === "hsva" || e === "hsla") && (n += "," + t[3]), e + "(" + n + ")";
  }
}
function ss(t, e) {
  var n = yo(t);
  return n ? (0.299 * n[0] + 0.587 * n[1] + 0.114 * n[2]) * n[3] / 255 + (1 - n[3]) * e : 0;
}
var Th = new Va(100);
function Fh(t) {
  if (Le(t)) {
    var e = Th.get(t);
    return e || (e = Ch(t, -0.1), Th.put(t, e)), e;
  } else if (zs(t)) {
    var n = ie({}, t);
    return n.colorStops = je(t.colorStops, function(r) {
      return {
        offset: r.offset,
        color: Ch(r.color, -0.1)
      };
    }), n;
  }
  return t;
}
function u5(t) {
  return t.type === "linear";
}
function c5(t) {
  return t.type === "radial";
}
(function() {
  return ke.hasGlobalWindow && Be(window.btoa) ? function(t) {
    return window.btoa(unescape(encodeURIComponent(t)));
  } : typeof Buffer < "u" ? function(t) {
    return Buffer.from(t).toString("base64");
  } : function(t) {
    return null;
  };
})();
var ju = Array.prototype.slice;
function $n(t, e, n) {
  return (e - t) * n + t;
}
function _l(t, e, n, r) {
  for (var o = e.length, a = 0; a < o; a++)
    t[a] = $n(e[a], n[a], r);
  return t;
}
function f5(t, e, n, r) {
  for (var o = e.length, a = o && e[0].length, i = 0; i < o; i++) {
    t[i] || (t[i] = []);
    for (var s = 0; s < a; s++)
      t[i][s] = $n(e[i][s], n[i][s], r);
  }
  return t;
}
function ei(t, e, n, r) {
  for (var o = e.length, a = 0; a < o; a++)
    t[a] = e[a] + n[a] * r;
  return t;
}
function Ah(t, e, n, r) {
  for (var o = e.length, a = o && e[0].length, i = 0; i < o; i++) {
    t[i] || (t[i] = []);
    for (var s = 0; s < a; s++)
      t[i][s] = e[i][s] + n[i][s] * r;
  }
  return t;
}
function d5(t, e) {
  for (var n = t.length, r = e.length, o = n > r ? e : t, a = Math.min(n, r), i = o[a - 1] || { color: [0, 0, 0, 0], offset: 0 }, s = a; s < Math.max(n, r); s++)
    o.push({
      offset: i.offset,
      color: i.color.slice()
    });
}
function h5(t, e, n) {
  var r = t, o = e;
  if (!(!r.push || !o.push)) {
    var a = r.length, i = o.length;
    if (a !== i) {
      var s = a > i;
      if (s)
        r.length = i;
      else
        for (var l = a; l < i; l++)
          r.push(n === 1 ? o[l] : ju.call(o[l]));
    }
    for (var u = r[0] && r[0].length, l = 0; l < r.length; l++)
      if (n === 1)
        isNaN(r[l]) && (r[l] = o[l]);
      else
        for (var c = 0; c < u; c++)
          isNaN(r[l][c]) && (r[l][c] = o[l][c]);
  }
}
function Ri(t) {
  if (Wt(t)) {
    var e = t.length;
    if (Wt(t[0])) {
      for (var n = [], r = 0; r < e; r++)
        n.push(ju.call(t[r]));
      return n;
    }
    return ju.call(t);
  }
  return t;
}
function Li(t) {
  return t[0] = Math.floor(t[0]) || 0, t[1] = Math.floor(t[1]) || 0, t[2] = Math.floor(t[2]) || 0, t[3] = t[3] == null ? 1 : t[3], "rgba(" + t.join(",") + ")";
}
function p5(t) {
  return Wt(t && t[0]) ? 2 : 1;
}
var ti = 0, $i = 1, yy = 2, na = 3, Uu = 4, Yu = 5, kh = 6;
function Eh(t) {
  return t === Uu || t === Yu;
}
function ni(t) {
  return t === $i || t === yy;
}
var Bo = [0, 0, 0, 0], v5 = function() {
  function t(e) {
    this.keyframes = [], this.discrete = !1, this._invalid = !1, this._needsSort = !1, this._lastFr = 0, this._lastFrP = 0, this.propName = e;
  }
  return t.prototype.isFinished = function() {
    return this._finished;
  }, t.prototype.setFinished = function() {
    this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished();
  }, t.prototype.needsAnimate = function() {
    return this.keyframes.length >= 1;
  }, t.prototype.getAdditiveTrack = function() {
    return this._additiveTrack;
  }, t.prototype.addKeyframe = function(e, n, r) {
    this._needsSort = !0;
    var o = this.keyframes, a = o.length, i = !1, s = kh, l = n;
    if (Wt(n)) {
      var u = p5(n);
      s = u, (u === 1 && !gt(n[0]) || u === 2 && !gt(n[0][0])) && (i = !0);
    } else if (gt(n) && !yF(n))
      s = ti;
    else if (Le(n))
      if (!isNaN(+n))
        s = ti;
      else {
        var c = yo(n);
        c && (l = c, s = na);
      }
    else if (zs(n)) {
      var f = ie({}, l);
      f.colorStops = je(n.colorStops, function(d) {
        return {
          offset: d.offset,
          color: yo(d.color)
        };
      }), u5(n) ? s = Uu : c5(n) && (s = Yu), l = f;
    }
    a === 0 ? this.valType = s : (s !== this.valType || s === kh) && (i = !0), this.discrete = this.discrete || i;
    var h = {
      time: e,
      value: l,
      rawValue: n,
      percent: 0
    };
    return r && (h.easing = r, h.easingFunc = Be(r) ? r : ha[r] || hy(r)), o.push(h), h;
  }, t.prototype.prepare = function(e, n) {
    var r = this.keyframes;
    this._needsSort && r.sort(function(m, g) {
      return m.time - g.time;
    });
    for (var o = this.valType, a = r.length, i = r[a - 1], s = this.discrete, l = ni(o), u = Eh(o), c = 0; c < a; c++) {
      var f = r[c], h = f.value, d = i.value;
      f.percent = f.time / e, s || (l && c !== a - 1 ? h5(h, d, o) : u && d5(h.colorStops, d.colorStops));
    }
    if (!s && o !== Yu && n && this.needsAnimate() && n.needsAnimate() && o === n.valType && !n._finished) {
      this._additiveTrack = n;
      for (var p = r[0].value, c = 0; c < a; c++)
        o === ti ? r[c].additiveValue = r[c].value - p : o === na ? r[c].additiveValue = ei([], r[c].value, p, -1) : ni(o) && (r[c].additiveValue = o === $i ? ei([], r[c].value, p, -1) : Ah([], r[c].value, p, -1));
    }
  }, t.prototype.step = function(e, n) {
    if (!this._finished) {
      this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
      var r = this._additiveTrack != null, o = r ? "additiveValue" : "value", a = this.valType, i = this.keyframes, s = i.length, l = this.propName, u = a === na, c, f = this._lastFr, h = Math.min, d, p;
      if (s === 1)
        d = p = i[0];
      else {
        if (n < 0)
          c = 0;
        else if (n < this._lastFrP) {
          var m = h(f + 1, s - 1);
          for (c = m; c >= 0 && !(i[c].percent <= n); c--)
            ;
          c = h(c, s - 2);
        } else {
          for (c = f; c < s && !(i[c].percent > n); c++)
            ;
          c = h(c - 1, s - 2);
        }
        p = i[c + 1], d = i[c];
      }
      if (d && p) {
        this._lastFr = c, this._lastFrP = n;
        var g = p.percent - d.percent, v = g === 0 ? 1 : h((n - d.percent) / g, 1);
        p.easingFunc && (v = p.easingFunc(v));
        var y = r ? this._additiveValue : u ? Bo : e[l];
        if ((ni(a) || u) && !y && (y = this._additiveValue = []), this.discrete)
          e[l] = v < 1 ? d.rawValue : p.rawValue;
        else if (ni(a))
          a === $i ? _l(y, d[o], p[o], v) : f5(y, d[o], p[o], v);
        else if (Eh(a)) {
          var S = d[o], b = p[o], _ = a === Uu;
          e[l] = {
            type: _ ? "linear" : "radial",
            x: $n(S.x, b.x, v),
            y: $n(S.y, b.y, v),
            colorStops: je(S.colorStops, function(T, C) {
              var x = b.colorStops[C];
              return {
                offset: $n(T.offset, x.offset, v),
                color: Li(_l([], T.color, x.color, v))
              };
            }),
            global: b.global
          }, _ ? (e[l].x2 = $n(S.x2, b.x2, v), e[l].y2 = $n(S.y2, b.y2, v)) : e[l].r = $n(S.r, b.r, v);
        } else if (u)
          _l(y, d[o], p[o], v), r || (e[l] = Li(y));
        else {
          var w = $n(d[o], p[o], v);
          r ? this._additiveValue = w : e[l] = w;
        }
        r && this._addToTarget(e);
      }
    }
  }, t.prototype._addToTarget = function(e) {
    var n = this.valType, r = this.propName, o = this._additiveValue;
    n === ti ? e[r] = e[r] + o : n === na ? (yo(e[r], Bo), ei(Bo, Bo, o, 1), e[r] = Li(Bo)) : n === $i ? ei(e[r], e[r], o, 1) : n === yy && Ah(e[r], e[r], o, 1);
  }, t;
}(), sf = function() {
  function t(e, n, r, o) {
    if (this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = e, this._loop = n, n && o) {
      nf("Can' use additive animation on looped animation.");
      return;
    }
    this._additiveAnimators = o, this._allowDiscrete = r;
  }
  return t.prototype.getMaxTime = function() {
    return this._maxTime;
  }, t.prototype.getDelay = function() {
    return this._delay;
  }, t.prototype.getLoop = function() {
    return this._loop;
  }, t.prototype.getTarget = function() {
    return this._target;
  }, t.prototype.changeTarget = function(e) {
    this._target = e;
  }, t.prototype.when = function(e, n, r) {
    return this.whenWithKeys(e, n, Ke(n), r);
  }, t.prototype.whenWithKeys = function(e, n, r, o) {
    for (var a = this._tracks, i = 0; i < r.length; i++) {
      var s = r[i], l = a[s];
      if (!l) {
        l = a[s] = new v5(s);
        var u = void 0, c = this._getAdditiveTrack(s);
        if (c) {
          var f = c.keyframes, h = f[f.length - 1];
          u = h && h.value, c.valType === na && u && (u = Li(u));
        } else
          u = this._target[s];
        if (u == null)
          continue;
        e > 0 && l.addKeyframe(0, Ri(u), o), this._trackKeys.push(s);
      }
      l.addKeyframe(e, Ri(n[s]), o);
    }
    return this._maxTime = Math.max(this._maxTime, e), this;
  }, t.prototype.pause = function() {
    this._clip.pause(), this._paused = !0;
  }, t.prototype.resume = function() {
    this._clip.resume(), this._paused = !1;
  }, t.prototype.isPaused = function() {
    return !!this._paused;
  }, t.prototype.duration = function(e) {
    return this._maxTime = e, this._force = !0, this;
  }, t.prototype._doneCallback = function() {
    this._setTracksFinished(), this._clip = null;
    var e = this._doneCbs;
    if (e)
      for (var n = e.length, r = 0; r < n; r++)
        e[r].call(this);
  }, t.prototype._abortedCallback = function() {
    this._setTracksFinished();
    var e = this.animation, n = this._abortedCbs;
    if (e && e.removeClip(this._clip), this._clip = null, n)
      for (var r = 0; r < n.length; r++)
        n[r].call(this);
  }, t.prototype._setTracksFinished = function() {
    for (var e = this._tracks, n = this._trackKeys, r = 0; r < n.length; r++)
      e[n[r]].setFinished();
  }, t.prototype._getAdditiveTrack = function(e) {
    var n, r = this._additiveAnimators;
    if (r)
      for (var o = 0; o < r.length; o++) {
        var a = r[o].getTrack(e);
        a && (n = a);
      }
    return n;
  }, t.prototype.start = function(e) {
    if (!(this._started > 0)) {
      this._started = 1;
      for (var n = this, r = [], o = this._maxTime || 0, a = 0; a < this._trackKeys.length; a++) {
        var i = this._trackKeys[a], s = this._tracks[i], l = this._getAdditiveTrack(i), u = s.keyframes, c = u.length;
        if (s.prepare(o, l), s.needsAnimate())
          if (!this._allowDiscrete && s.discrete) {
            var f = u[c - 1];
            f && (n._target[s.propName] = f.rawValue), s.setFinished();
          } else
            r.push(s);
      }
      if (r.length || this._force) {
        var h = new s5({
          life: o,
          loop: this._loop,
          delay: this._delay || 0,
          onframe: function(d) {
            n._started = 2;
            var p = n._additiveAnimators;
            if (p) {
              for (var m = !1, g = 0; g < p.length; g++)
                if (p[g]._clip) {
                  m = !0;
                  break;
                }
              m || (n._additiveAnimators = null);
            }
            for (var g = 0; g < r.length; g++)
              r[g].step(n._target, d);
            var v = n._onframeCbs;
            if (v)
              for (var g = 0; g < v.length; g++)
                v[g](n._target, d);
          },
          ondestroy: function() {
            n._doneCallback();
          }
        });
        this._clip = h, this.animation && this.animation.addClip(h), e && h.setEasing(e);
      } else
        this._doneCallback();
      return this;
    }
  }, t.prototype.stop = function(e) {
    if (this._clip) {
      var n = this._clip;
      e && n.onframe(1), this._abortedCallback();
    }
  }, t.prototype.delay = function(e) {
    return this._delay = e, this;
  }, t.prototype.during = function(e) {
    return e && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(e)), this;
  }, t.prototype.done = function(e) {
    return e && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(e)), this;
  }, t.prototype.aborted = function(e) {
    return e && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(e)), this;
  }, t.prototype.getClip = function() {
    return this._clip;
  }, t.prototype.getTrack = function(e) {
    return this._tracks[e];
  }, t.prototype.getTracks = function() {
    var e = this;
    return je(this._trackKeys, function(n) {
      return e._tracks[n];
    });
  }, t.prototype.stopTracks = function(e, n) {
    if (!e.length || !this._clip)
      return !0;
    for (var r = this._tracks, o = this._trackKeys, a = 0; a < e.length; a++) {
      var i = r[e[a]];
      i && !i.isFinished() && (n ? i.step(this._target, 1) : this._started === 1 && i.step(this._target, 0), i.setFinished());
    }
    for (var s = !0, a = 0; a < o.length; a++)
      if (!r[o[a]].isFinished()) {
        s = !1;
        break;
      }
    return s && this._abortedCallback(), s;
  }, t.prototype.saveTo = function(e, n, r) {
    if (e) {
      n = n || this._trackKeys;
      for (var o = 0; o < n.length; o++) {
        var a = n[o], i = this._tracks[a];
        if (!(!i || i.isFinished())) {
          var s = i.keyframes, l = s[r ? 0 : s.length - 1];
          l && (e[a] = Ri(l.rawValue));
        }
      }
    }
  }, t.prototype.__changeFinalValue = function(e, n) {
    n = n || Ke(e);
    for (var r = 0; r < n.length; r++) {
      var o = n[r], a = this._tracks[o];
      if (a) {
        var i = a.keyframes;
        if (i.length > 1) {
          var s = i.pop();
          a.addKeyframe(s.time, e[o]), a.prepare(this._maxTime, a.getAdditiveTrack());
        }
      }
    }
  }, t;
}();
function uo() {
  return (/* @__PURE__ */ new Date()).getTime();
}
var g5 = function(t) {
  Te(e, t);
  function e(n) {
    var r = t.call(this) || this;
    return r._running = !1, r._time = 0, r._pausedTime = 0, r._pauseStart = 0, r._paused = !1, n = n || {}, r.stage = n.stage || {}, r;
  }
  return e.prototype.addClip = function(n) {
    n.animation && this.removeClip(n), this._head ? (this._tail.next = n, n.prev = this._tail, n.next = null, this._tail = n) : this._head = this._tail = n, n.animation = this;
  }, e.prototype.addAnimator = function(n) {
    n.animation = this;
    var r = n.getClip();
    r && this.addClip(r);
  }, e.prototype.removeClip = function(n) {
    if (n.animation) {
      var r = n.prev, o = n.next;
      r ? r.next = o : this._head = o, o ? o.prev = r : this._tail = r, n.next = n.prev = n.animation = null;
    }
  }, e.prototype.removeAnimator = function(n) {
    var r = n.getClip();
    r && this.removeClip(r), n.animation = null;
  }, e.prototype.update = function(n) {
    for (var r = uo() - this._pausedTime, o = r - this._time, a = this._head; a; ) {
      var i = a.next, s = a.step(r, o);
      s && (a.ondestroy(), this.removeClip(a)), a = i;
    }
    this._time = r, n || (this.trigger("frame", o), this.stage.update && this.stage.update());
  }, e.prototype._startLoop = function() {
    var n = this;
    this._running = !0;
    function r() {
      n._running && (os(r), !n._paused && n.update());
    }
    os(r);
  }, e.prototype.start = function() {
    this._running || (this._time = uo(), this._pausedTime = 0, this._startLoop());
  }, e.prototype.stop = function() {
    this._running = !1;
  }, e.prototype.pause = function() {
    this._paused || (this._pauseStart = uo(), this._paused = !0);
  }, e.prototype.resume = function() {
    this._paused && (this._pausedTime += uo() - this._pauseStart, this._paused = !1);
  }, e.prototype.clear = function() {
    for (var n = this._head; n; ) {
      var r = n.next;
      n.prev = n.next = n.animation = null, n = r;
    }
    this._head = this._tail = null;
  }, e.prototype.isFinished = function() {
    return this._head == null;
  }, e.prototype.animate = function(n, r) {
    r = r || {}, this.start();
    var o = new sf(n, r.loop);
    return this.addAnimator(o), o;
  }, e;
}(Fn), y5 = 300, xl = ke.domSupported, Dl = function() {
  var t = [
    "click",
    "dblclick",
    "mousewheel",
    "wheel",
    "mouseout",
    "mouseup",
    "mousedown",
    "mousemove",
    "contextmenu"
  ], e = [
    "touchstart",
    "touchend",
    "touchmove"
  ], n = {
    pointerdown: 1,
    pointerup: 1,
    pointermove: 1,
    pointerout: 1
  }, r = je(t, function(o) {
    var a = o.replace("mouse", "pointer");
    return n.hasOwnProperty(a) ? a : o;
  });
  return {
    mouse: t,
    touch: e,
    pointer: r
  };
}(), Mh = {
  mouse: ["mousemove", "mouseup"],
  pointer: ["pointermove", "pointerup"]
}, Oh = !1;
function Gu(t) {
  var e = t.pointerType;
  return e === "pen" || e === "touch";
}
function m5(t) {
  t.touching = !0, t.touchTimer != null && (clearTimeout(t.touchTimer), t.touchTimer = null), t.touchTimer = setTimeout(function() {
    t.touching = !1, t.touchTimer = null;
  }, 700);
}
function Cl(t) {
  t && (t.zrByTouch = !0);
}
function S5(t, e) {
  return Qt(t.dom, new b5(t, e), !0);
}
function my(t, e) {
  for (var n = e, r = !1; n && n.nodeType !== 9 && !(r = n.domBelongToZr || n !== e && n === t.painterRoot); )
    n = n.parentNode;
  return r;
}
var b5 = /* @__PURE__ */ function() {
  function t(e, n) {
    this.stopPropagation = Gt, this.stopImmediatePropagation = Gt, this.preventDefault = Gt, this.type = n.type, this.target = this.currentTarget = e.dom, this.pointerType = n.pointerType, this.clientX = n.clientX, this.clientY = n.clientY;
  }
  return t;
}(), en = {
  mousedown: function(t) {
    t = Qt(this.dom, t), this.__mayPointerCapture = [t.zrX, t.zrY], this.trigger("mousedown", t);
  },
  mousemove: function(t) {
    t = Qt(this.dom, t);
    var e = this.__mayPointerCapture;
    e && (t.zrX !== e[0] || t.zrY !== e[1]) && this.__togglePointerCapture(!0), this.trigger("mousemove", t);
  },
  mouseup: function(t) {
    t = Qt(this.dom, t), this.__togglePointerCapture(!1), this.trigger("mouseup", t);
  },
  mouseout: function(t) {
    t = Qt(this.dom, t);
    var e = t.toElement || t.relatedTarget;
    my(this, e) || (this.__pointerCapturing && (t.zrEventControl = "no_globalout"), this.trigger("mouseout", t));
  },
  wheel: function(t) {
    Oh = !0, t = Qt(this.dom, t), this.trigger("mousewheel", t);
  },
  mousewheel: function(t) {
    Oh || (t = Qt(this.dom, t), this.trigger("mousewheel", t));
  },
  touchstart: function(t) {
    t = Qt(this.dom, t), Cl(t), this.__lastTouchMoment = /* @__PURE__ */ new Date(), this.handler.processGesture(t, "start"), en.mousemove.call(this, t), en.mousedown.call(this, t);
  },
  touchmove: function(t) {
    t = Qt(this.dom, t), Cl(t), this.handler.processGesture(t, "change"), en.mousemove.call(this, t);
  },
  touchend: function(t) {
    t = Qt(this.dom, t), Cl(t), this.handler.processGesture(t, "end"), en.mouseup.call(this, t), +/* @__PURE__ */ new Date() - +this.__lastTouchMoment < y5 && en.click.call(this, t);
  },
  pointerdown: function(t) {
    en.mousedown.call(this, t);
  },
  pointermove: function(t) {
    Gu(t) || en.mousemove.call(this, t);
  },
  pointerup: function(t) {
    en.mouseup.call(this, t);
  },
  pointerout: function(t) {
    Gu(t) || en.mouseout.call(this, t);
  }
};
X(["click", "dblclick", "contextmenu"], function(t) {
  en[t] = function(e) {
    e = Qt(this.dom, e), this.trigger(t, e);
  };
});
var Xu = {
  pointermove: function(t) {
    Gu(t) || Xu.mousemove.call(this, t);
  },
  pointerup: function(t) {
    Xu.mouseup.call(this, t);
  },
  mousemove: function(t) {
    this.trigger("mousemove", t);
  },
  mouseup: function(t) {
    var e = this.__pointerCapturing;
    this.__togglePointerCapture(!1), this.trigger("mouseup", t), e && (t.zrEventControl = "only_globalout", this.trigger("mouseout", t));
  }
};
function w5(t, e) {
  var n = e.domHandlers;
  ke.pointerEventsSupported ? X(Dl.pointer, function(r) {
    Ii(e, r, function(o) {
      n[r].call(t, o);
    });
  }) : (ke.touchEventsSupported && X(Dl.touch, function(r) {
    Ii(e, r, function(o) {
      n[r].call(t, o), m5(e);
    });
  }), X(Dl.mouse, function(r) {
    Ii(e, r, function(o) {
      o = af(o), e.touching || n[r].call(t, o);
    });
  }));
}
function _5(t, e) {
  ke.pointerEventsSupported ? X(Mh.pointer, n) : ke.touchEventsSupported || X(Mh.mouse, n);
  function n(r) {
    function o(a) {
      a = af(a), my(t, a.target) || (a = S5(t, a), e.domHandlers[r].call(t, a));
    }
    Ii(e, r, o, { capture: !0 });
  }
}
function Ii(t, e, n, r) {
  t.mounted[e] = n, t.listenerOpts[e] = r, BF(t.domTarget, e, n, r);
}
function Tl(t) {
  var e = t.mounted;
  for (var n in e)
    e.hasOwnProperty(n) && WF(t.domTarget, n, e[n], t.listenerOpts[n]);
  t.mounted = {};
}
var Rh = /* @__PURE__ */ function() {
  function t(e, n) {
    this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = e, this.domHandlers = n;
  }
  return t;
}(), x5 = function(t) {
  Te(e, t);
  function e(n, r) {
    var o = t.call(this) || this;
    return o.__pointerCapturing = !1, o.dom = n, o.painterRoot = r, o._localHandlerScope = new Rh(n, en), xl && (o._globalHandlerScope = new Rh(document, Xu)), w5(o, o._localHandlerScope), o;
  }
  return e.prototype.dispose = function() {
    Tl(this._localHandlerScope), xl && Tl(this._globalHandlerScope);
  }, e.prototype.setCursor = function(n) {
    this.dom.style && (this.dom.style.cursor = n || "default");
  }, e.prototype.__togglePointerCapture = function(n) {
    if (this.__mayPointerCapture = null, xl && +this.__pointerCapturing ^ +n) {
      this.__pointerCapturing = n;
      var r = this._globalHandlerScope;
      n ? _5(this, r) : Tl(r);
    }
  }, e;
}(Fn), Sy = 1;
ke.hasGlobalWindow && (Sy = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var ls = Sy, Zu = 0.4, Ku = "#333", Ju = "#ccc", D5 = "#eee", Lh = qF, C5 = 5e-5;
function cr(t) {
  return t > C5 || t < -5e-5;
}
var fr = [], Yr = [], Fl = da(), Al = Math.abs, lf = function() {
  function t() {
  }
  return t.prototype.getLocalTransform = function(e) {
    return t.getLocalTransform(this, e);
  }, t.prototype.setPosition = function(e) {
    this.x = e[0], this.y = e[1];
  }, t.prototype.setScale = function(e) {
    this.scaleX = e[0], this.scaleY = e[1];
  }, t.prototype.setSkew = function(e) {
    this.skewX = e[0], this.skewY = e[1];
  }, t.prototype.setOrigin = function(e) {
    this.originX = e[0], this.originY = e[1];
  }, t.prototype.needLocalTransform = function() {
    return cr(this.rotation) || cr(this.x) || cr(this.y) || cr(this.scaleX - 1) || cr(this.scaleY - 1) || cr(this.skewX) || cr(this.skewY);
  }, t.prototype.updateTransform = function() {
    var e = this.parent && this.parent.transform, n = this.needLocalTransform(), r = this.transform;
    if (!(n || e)) {
      r && (Lh(r), this.invTransform = null);
      return;
    }
    r = r || da(), n ? this.getLocalTransform(r) : Lh(r), e && (n ? vl(r, e, r) : jF(r, e)), this.transform = r, this._resolveGlobalScaleRatio(r);
  }, t.prototype._resolveGlobalScaleRatio = function(e) {
    var n = this.globalScaleRatio;
    if (n != null && n !== 1) {
      this.getGlobalScale(fr);
      var r = fr[0] < 0 ? -1 : 1, o = fr[1] < 0 ? -1 : 1, a = ((fr[0] - r) * n + r) / fr[0] || 0, i = ((fr[1] - o) * n + o) / fr[1] || 0;
      e[0] *= a, e[1] *= a, e[2] *= i, e[3] *= i;
    }
    this.invTransform = this.invTransform || da(), ey(this.invTransform, e);
  }, t.prototype.getComputedTransform = function() {
    for (var e = this, n = []; e; )
      n.push(e), e = e.parent;
    for (; e = n.pop(); )
      e.updateTransform();
    return this.transform;
  }, t.prototype.setLocalTransform = function(e) {
    if (e) {
      var n = e[0] * e[0] + e[1] * e[1], r = e[2] * e[2] + e[3] * e[3], o = Math.atan2(e[1], e[0]), a = Math.PI / 2 + o - Math.atan2(e[3], e[2]);
      r = Math.sqrt(r) * Math.cos(a), n = Math.sqrt(n), this.skewX = a, this.skewY = 0, this.rotation = -o, this.x = +e[4], this.y = +e[5], this.scaleX = n, this.scaleY = r, this.originX = 0, this.originY = 0;
    }
  }, t.prototype.decomposeTransform = function() {
    if (this.transform) {
      var e = this.parent, n = this.transform;
      e && e.transform && (e.invTransform = e.invTransform || da(), vl(Yr, e.invTransform, n), n = Yr);
      var r = this.originX, o = this.originY;
      (r || o) && (Fl[4] = r, Fl[5] = o, vl(Yr, n, Fl), Yr[4] -= r, Yr[5] -= o, n = Yr), this.setLocalTransform(n);
    }
  }, t.prototype.getGlobalScale = function(e) {
    var n = this.transform;
    return e = e || [], n ? (e[0] = Math.sqrt(n[0] * n[0] + n[1] * n[1]), e[1] = Math.sqrt(n[2] * n[2] + n[3] * n[3]), n[0] < 0 && (e[0] = -e[0]), n[3] < 0 && (e[1] = -e[1]), e) : (e[0] = 1, e[1] = 1, e);
  }, t.prototype.transformCoordToLocal = function(e, n) {
    var r = [e, n], o = this.invTransform;
    return o && fa(r, r, o), r;
  }, t.prototype.transformCoordToGlobal = function(e, n) {
    var r = [e, n], o = this.transform;
    return o && fa(r, r, o), r;
  }, t.prototype.getLineScale = function() {
    var e = this.transform;
    return e && Al(e[0] - 1) > 1e-10 && Al(e[3] - 1) > 1e-10 ? Math.sqrt(Al(e[0] * e[3] - e[2] * e[1])) : 1;
  }, t.prototype.copyTransform = function(e) {
    T5(this, e);
  }, t.getLocalTransform = function(e, n) {
    n = n || [];
    var r = e.originX || 0, o = e.originY || 0, a = e.scaleX, i = e.scaleY, s = e.anchorX, l = e.anchorY, u = e.rotation || 0, c = e.x, f = e.y, h = e.skewX ? Math.tan(e.skewX) : 0, d = e.skewY ? Math.tan(-e.skewY) : 0;
    if (r || o || s || l) {
      var p = r + s, m = o + l;
      n[4] = -p * a - h * m * i, n[5] = -m * i - d * p * a;
    } else
      n[4] = n[5] = 0;
    return n[0] = a, n[3] = i, n[1] = d * a, n[2] = h * i, u && UF(n, n, u), n[4] += r + c, n[5] += o + f, n;
  }, t.initDefaultProps = function() {
    var e = t.prototype;
    e.scaleX = e.scaleY = e.globalScaleRatio = 1, e.x = e.y = e.originX = e.originY = e.skewX = e.skewY = e.rotation = e.anchorX = e.anchorY = 0;
  }(), t;
}(), Fa = [
  "x",
  "y",
  "originX",
  "originY",
  "anchorX",
  "anchorY",
  "rotation",
  "scaleX",
  "scaleY",
  "skewX",
  "skewY"
];
function T5(t, e) {
  for (var n = 0; n < Fa.length; n++) {
    var r = Fa[n];
    t[r] = e[r];
  }
}
var $h = {};
function It(t, e) {
  e = e || zr;
  var n = $h[e];
  n || (n = $h[e] = new Va(500));
  var r = n.get(t);
  return r == null && (r = Ao.measureText(t, e).width, n.put(t, r)), r;
}
function Ih(t, e, n, r) {
  var o = It(t, e), a = uf(e), i = ra(0, o, n), s = io(0, a, r), l = new Ie(i, s, o, a);
  return l;
}
function F5(t, e, n, r) {
  var o = ((t || "") + "").split(`
`), a = o.length;
  if (a === 1)
    return Ih(o[0], e, n, r);
  for (var i = new Ie(0, 0, 0, 0), s = 0; s < o.length; s++) {
    var l = Ih(o[s], e, n, r);
    s === 0 ? i.copy(l) : i.union(l);
  }
  return i;
}
function ra(t, e, n) {
  return n === "right" ? t -= e : n === "center" && (t -= e / 2), t;
}
function io(t, e, n) {
  return n === "middle" ? t -= e / 2 : n === "bottom" && (t -= e), t;
}
function uf(t) {
  return It("国", t);
}
function Aa(t, e) {
  return typeof t == "string" ? t.lastIndexOf("%") >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t;
}
function by(t, e, n) {
  var r = e.position || "inside", o = e.distance != null ? e.distance : 5, a = n.height, i = n.width, s = a / 2, l = n.x, u = n.y, c = "left", f = "top";
  if (r instanceof Array)
    l += Aa(r[0], n.width), u += Aa(r[1], n.height), c = null, f = null;
  else
    switch (r) {
      case "left":
        l -= o, u += s, c = "right", f = "middle";
        break;
      case "right":
        l += o + i, u += s, f = "middle";
        break;
      case "top":
        l += i / 2, u -= o, c = "center", f = "bottom";
        break;
      case "bottom":
        l += i / 2, u += a + o, c = "center";
        break;
      case "inside":
        l += i / 2, u += s, c = "center", f = "middle";
        break;
      case "insideLeft":
        l += o, u += s, f = "middle";
        break;
      case "insideRight":
        l += i - o, u += s, c = "right", f = "middle";
        break;
      case "insideTop":
        l += i / 2, u += o, c = "center";
        break;
      case "insideBottom":
        l += i / 2, u += a - o, c = "center", f = "bottom";
        break;
      case "insideTopLeft":
        l += o, u += o;
        break;
      case "insideTopRight":
        l += i - o, u += o, c = "right";
        break;
      case "insideBottomLeft":
        l += o, u += a - o, f = "bottom";
        break;
      case "insideBottomRight":
        l += i - o, u += a - o, c = "right", f = "bottom";
        break;
    }
  return t = t || {}, t.x = l, t.y = u, t.align = c, t.verticalAlign = f, t;
}
var kl = "__zr_normal__", El = Fa.concat(["ignore"]), A5 = ko(Fa, function(t, e) {
  return t[e] = !0, t;
}, { ignore: !1 }), Gr = {}, k5 = new Ie(0, 0, 0, 0), Ws = function() {
  function t(e) {
    this.id = X0(), this.animators = [], this.currentStates = [], this.states = {}, this._init(e);
  }
  return t.prototype._init = function(e) {
    this.attr(e);
  }, t.prototype.drift = function(e, n, r) {
    switch (this.draggable) {
      case "horizontal":
        n = 0;
        break;
      case "vertical":
        e = 0;
        break;
    }
    var o = this.transform;
    o || (o = this.transform = [1, 0, 0, 1, 0, 0]), o[4] += e, o[5] += n, this.decomposeTransform(), this.markRedraw();
  }, t.prototype.beforeUpdate = function() {
  }, t.prototype.afterUpdate = function() {
  }, t.prototype.update = function() {
    this.updateTransform(), this.__dirty && this.updateInnerText();
  }, t.prototype.updateInnerText = function(e) {
    var n = this._textContent;
    if (n && (!n.ignore || e)) {
      this.textConfig || (this.textConfig = {});
      var r = this.textConfig, o = r.local, a = n.innerTransformable, i = void 0, s = void 0, l = !1;
      a.parent = o ? this : null;
      var u = !1;
      if (a.copyTransform(n), r.position != null) {
        var c = k5;
        r.layoutRect ? c.copy(r.layoutRect) : c.copy(this.getBoundingRect()), o || c.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(Gr, r, c) : by(Gr, r, c), a.x = Gr.x, a.y = Gr.y, i = Gr.align, s = Gr.verticalAlign;
        var f = r.origin;
        if (f && r.rotation != null) {
          var h = void 0, d = void 0;
          f === "center" ? (h = c.width * 0.5, d = c.height * 0.5) : (h = Aa(f[0], c.width), d = Aa(f[1], c.height)), u = !0, a.originX = -a.x + h + (o ? 0 : c.x), a.originY = -a.y + d + (o ? 0 : c.y);
        }
      }
      r.rotation != null && (a.rotation = r.rotation);
      var p = r.offset;
      p && (a.x += p[0], a.y += p[1], u || (a.originX = -p[0], a.originY = -p[1]));
      var m = r.inside == null ? typeof r.position == "string" && r.position.indexOf("inside") >= 0 : r.inside, g = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}), v = void 0, y = void 0, S = void 0;
      m && this.canBeInsideText() ? (v = r.insideFill, y = r.insideStroke, (v == null || v === "auto") && (v = this.getInsideTextFill()), (y == null || y === "auto") && (y = this.getInsideTextStroke(v), S = !0)) : (v = r.outsideFill, y = r.outsideStroke, (v == null || v === "auto") && (v = this.getOutsideFill()), (y == null || y === "auto") && (y = this.getOutsideStroke(v), S = !0)), v = v || "#000", (v !== g.fill || y !== g.stroke || S !== g.autoStroke || i !== g.align || s !== g.verticalAlign) && (l = !0, g.fill = v, g.stroke = y, g.autoStroke = S, g.align = i, g.verticalAlign = s, n.setDefaultTextStyle(g)), n.__dirty |= wn, l && n.dirtyStyle(!0);
    }
  }, t.prototype.canBeInsideText = function() {
    return !0;
  }, t.prototype.getInsideTextFill = function() {
    return "#fff";
  }, t.prototype.getInsideTextStroke = function(e) {
    return "#000";
  }, t.prototype.getOutsideFill = function() {
    return this.__zr && this.__zr.isDarkMode() ? Ju : Ku;
  }, t.prototype.getOutsideStroke = function(e) {
    var n = this.__zr && this.__zr.getBackgroundColor(), r = typeof n == "string" && yo(n);
    r || (r = [255, 255, 255, 1]);
    for (var o = r[3], a = this.__zr.isDarkMode(), i = 0; i < 3; i++)
      r[i] = r[i] * o + (a ? 0 : 255) * (1 - o);
    return r[3] = 1, gy(r, "rgba");
  }, t.prototype.traverse = function(e, n) {
  }, t.prototype.attrKV = function(e, n) {
    e === "textConfig" ? this.setTextConfig(n) : e === "textContent" ? this.setTextContent(n) : e === "clipPath" ? this.setClipPath(n) : e === "extra" ? (this.extra = this.extra || {}, ie(this.extra, n)) : this[e] = n;
  }, t.prototype.hide = function() {
    this.ignore = !0, this.markRedraw();
  }, t.prototype.show = function() {
    this.ignore = !1, this.markRedraw();
  }, t.prototype.attr = function(e, n) {
    if (typeof e == "string")
      this.attrKV(e, n);
    else if (_e(e))
      for (var r = e, o = Ke(r), a = 0; a < o.length; a++) {
        var i = o[a];
        this.attrKV(i, e[i]);
      }
    return this.markRedraw(), this;
  }, t.prototype.saveCurrentToNormalState = function(e) {
    this._innerSaveToNormal(e);
    for (var n = this._normalState, r = 0; r < this.animators.length; r++) {
      var o = this.animators[r], a = o.__fromStateTransition;
      if (!(o.getLoop() || a && a !== kl)) {
        var i = o.targetName, s = i ? n[i] : n;
        o.saveTo(s);
      }
    }
  }, t.prototype._innerSaveToNormal = function(e) {
    var n = this._normalState;
    n || (n = this._normalState = {}), e.textConfig && !n.textConfig && (n.textConfig = this.textConfig), this._savePrimaryToNormal(e, n, El);
  }, t.prototype._savePrimaryToNormal = function(e, n, r) {
    for (var o = 0; o < r.length; o++) {
      var a = r[o];
      e[a] != null && !(a in n) && (n[a] = this[a]);
    }
  }, t.prototype.hasState = function() {
    return this.currentStates.length > 0;
  }, t.prototype.getState = function(e) {
    return this.states[e];
  }, t.prototype.ensureState = function(e) {
    var n = this.states;
    return n[e] || (n[e] = {}), n[e];
  }, t.prototype.clearStates = function(e) {
    this.useState(kl, !1, e);
  }, t.prototype.useState = function(e, n, r, o) {
    var a = e === kl, i = this.hasState();
    if (!(!i && a)) {
      var s = this.currentStates, l = this.stateTransition;
      if (!(He(s, e) >= 0 && (n || s.length === 1))) {
        var u;
        if (this.stateProxy && !a && (u = this.stateProxy(e)), u || (u = this.states && this.states[e]), !u && !a) {
          nf("State " + e + " not exists.");
          return;
        }
        a || this.saveCurrentToNormalState(u);
        var c = !!(u && u.hoverLayer || o);
        c && this._toggleHoverLayerFlag(!0), this._applyStateObj(e, u, this._normalState, n, !r && !this.__inHover && l && l.duration > 0, l);
        var f = this._textContent, h = this._textGuide;
        return f && f.useState(e, n, r, c), h && h.useState(e, n, r, c), a ? (this.currentStates = [], this._normalState = {}) : n ? this.currentStates.push(e) : this.currentStates = [e], this._updateAnimationTargets(), this.markRedraw(), !c && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= -2), u;
      }
    }
  }, t.prototype.useStates = function(e, n, r) {
    if (!e.length)
      this.clearStates();
    else {
      var o = [], a = this.currentStates, i = e.length, s = i === a.length;
      if (s) {
        for (var l = 0; l < i; l++)
          if (e[l] !== a[l]) {
            s = !1;
            break;
          }
      }
      if (s)
        return;
      for (var l = 0; l < i; l++) {
        var u = e[l], c = void 0;
        this.stateProxy && (c = this.stateProxy(u, e)), c || (c = this.states[u]), c && o.push(c);
      }
      var f = o[i - 1], h = !!(f && f.hoverLayer || r);
      h && this._toggleHoverLayerFlag(!0);
      var d = this._mergeStates(o), p = this.stateTransition;
      this.saveCurrentToNormalState(d), this._applyStateObj(e.join(","), d, this._normalState, !1, !n && !this.__inHover && p && p.duration > 0, p);
      var m = this._textContent, g = this._textGuide;
      m && m.useStates(e, n, h), g && g.useStates(e, n, h), this._updateAnimationTargets(), this.currentStates = e.slice(), this.markRedraw(), !h && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= -2);
    }
  }, t.prototype.isSilent = function() {
    for (var e = this.silent, n = this.parent; !e && n; ) {
      if (n.silent) {
        e = !0;
        break;
      }
      n = n.parent;
    }
    return e;
  }, t.prototype._updateAnimationTargets = function() {
    for (var e = 0; e < this.animators.length; e++) {
      var n = this.animators[e];
      n.targetName && n.changeTarget(this[n.targetName]);
    }
  }, t.prototype.removeState = function(e) {
    var n = He(this.currentStates, e);
    if (n >= 0) {
      var r = this.currentStates.slice();
      r.splice(n, 1), this.useStates(r);
    }
  }, t.prototype.replaceState = function(e, n, r) {
    var o = this.currentStates.slice(), a = He(o, e), i = He(o, n) >= 0;
    a >= 0 ? i ? o.splice(a, 1) : o[a] = n : r && !i && o.push(n), this.useStates(o);
  }, t.prototype.toggleState = function(e, n) {
    n ? this.useState(e, !0) : this.removeState(e);
  }, t.prototype._mergeStates = function(e) {
    for (var n = {}, r, o = 0; o < e.length; o++) {
      var a = e[o];
      ie(n, a), a.textConfig && (r = r || {}, ie(r, a.textConfig));
    }
    return r && (n.textConfig = r), n;
  }, t.prototype._applyStateObj = function(e, n, r, o, a, i) {
    var s = !(n && o);
    n && n.textConfig ? (this.textConfig = ie({}, o ? this.textConfig : r.textConfig), ie(this.textConfig, n.textConfig)) : s && r.textConfig && (this.textConfig = r.textConfig);
    for (var l = {}, u = !1, c = 0; c < El.length; c++) {
      var f = El[c], h = a && A5[f];
      n && n[f] != null ? h ? (u = !0, l[f] = n[f]) : this[f] = n[f] : s && r[f] != null && (h ? (u = !0, l[f] = r[f]) : this[f] = r[f]);
    }
    if (!a)
      for (var c = 0; c < this.animators.length; c++) {
        var d = this.animators[c], p = d.targetName;
        d.getLoop() || d.__changeFinalValue(p ? (n || r)[p] : n || r);
      }
    u && this._transitionState(e, l, i);
  }, t.prototype._attachComponent = function(e) {
    if (!(e.__zr && !e.__hostTarget) && e !== this) {
      var n = this.__zr;
      n && e.addSelfToZr(n), e.__zr = n, e.__hostTarget = this;
    }
  }, t.prototype._detachComponent = function(e) {
    e.__zr && e.removeSelfFromZr(e.__zr), e.__zr = null, e.__hostTarget = null;
  }, t.prototype.getClipPath = function() {
    return this._clipPath;
  }, t.prototype.setClipPath = function(e) {
    this._clipPath && this._clipPath !== e && this.removeClipPath(), this._attachComponent(e), this._clipPath = e, this.markRedraw();
  }, t.prototype.removeClipPath = function() {
    var e = this._clipPath;
    e && (this._detachComponent(e), this._clipPath = null, this.markRedraw());
  }, t.prototype.getTextContent = function() {
    return this._textContent;
  }, t.prototype.setTextContent = function(e) {
    var n = this._textContent;
    n !== e && (n && n !== e && this.removeTextContent(), e.innerTransformable = new lf(), this._attachComponent(e), this._textContent = e, this.markRedraw());
  }, t.prototype.setTextConfig = function(e) {
    this.textConfig || (this.textConfig = {}), ie(this.textConfig, e), this.markRedraw();
  }, t.prototype.removeTextConfig = function() {
    this.textConfig = null, this.markRedraw();
  }, t.prototype.removeTextContent = function() {
    var e = this._textContent;
    e && (e.innerTransformable = null, this._detachComponent(e), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw());
  }, t.prototype.getTextGuideLine = function() {
    return this._textGuide;
  }, t.prototype.setTextGuideLine = function(e) {
    this._textGuide && this._textGuide !== e && this.removeTextGuideLine(), this._attachComponent(e), this._textGuide = e, this.markRedraw();
  }, t.prototype.removeTextGuideLine = function() {
    var e = this._textGuide;
    e && (this._detachComponent(e), this._textGuide = null, this.markRedraw());
  }, t.prototype.markRedraw = function() {
    this.__dirty |= wn;
    var e = this.__zr;
    e && (this.__inHover ? e.refreshHover() : e.refresh()), this.__hostTarget && this.__hostTarget.markRedraw();
  }, t.prototype.dirty = function() {
    this.markRedraw();
  }, t.prototype._toggleHoverLayerFlag = function(e) {
    this.__inHover = e;
    var n = this._textContent, r = this._textGuide;
    n && (n.__inHover = e), r && (r.__inHover = e);
  }, t.prototype.addSelfToZr = function(e) {
    if (this.__zr !== e) {
      this.__zr = e;
      var n = this.animators;
      if (n)
        for (var r = 0; r < n.length; r++)
          e.animation.addAnimator(n[r]);
      this._clipPath && this._clipPath.addSelfToZr(e), this._textContent && this._textContent.addSelfToZr(e), this._textGuide && this._textGuide.addSelfToZr(e);
    }
  }, t.prototype.removeSelfFromZr = function(e) {
    if (this.__zr) {
      this.__zr = null;
      var n = this.animators;
      if (n)
        for (var r = 0; r < n.length; r++)
          e.animation.removeAnimator(n[r]);
      this._clipPath && this._clipPath.removeSelfFromZr(e), this._textContent && this._textContent.removeSelfFromZr(e), this._textGuide && this._textGuide.removeSelfFromZr(e);
    }
  }, t.prototype.animate = function(e, n, r) {
    var o = e ? this[e] : this, a = new sf(o, n, r);
    return e && (a.targetName = e), this.addAnimator(a, e), a;
  }, t.prototype.addAnimator = function(e, n) {
    var r = this.__zr, o = this;
    e.during(function() {
      o.updateDuringAnimation(n);
    }).done(function() {
      var a = o.animators, i = He(a, e);
      i >= 0 && a.splice(i, 1);
    }), this.animators.push(e), r && r.animation.addAnimator(e), r && r.wakeUp();
  }, t.prototype.updateDuringAnimation = function(e) {
    this.markRedraw();
  }, t.prototype.stopAnimation = function(e, n) {
    for (var r = this.animators, o = r.length, a = [], i = 0; i < o; i++) {
      var s = r[i];
      !e || e === s.scope ? s.stop(n) : a.push(s);
    }
    return this.animators = a, this;
  }, t.prototype.animateTo = function(e, n, r) {
    Ml(this, e, n, r);
  }, t.prototype.animateFrom = function(e, n, r) {
    Ml(this, e, n, r, !0);
  }, t.prototype._transitionState = function(e, n, r, o) {
    for (var a = Ml(this, n, r, o), i = 0; i < a.length; i++)
      a[i].__fromStateTransition = e;
  }, t.prototype.getBoundingRect = function() {
    return null;
  }, t.prototype.getPaintRect = function() {
    return null;
  }, t.initDefaultProps = function() {
    var e = t.prototype;
    e.type = "element", e.name = "", e.ignore = e.silent = e.isGroup = e.draggable = e.dragging = e.ignoreClip = e.__inHover = !1, e.__dirty = wn;
    function n(r, o, a, i) {
      Object.defineProperty(e, r, {
        get: function() {
          if (!this[o]) {
            var l = this[o] = [];
            s(this, l);
          }
          return this[o];
        },
        set: function(l) {
          this[a] = l[0], this[i] = l[1], this[o] = l, s(this, l);
        }
      });
      function s(l, u) {
        Object.defineProperty(u, 0, {
          get: function() {
            return l[a];
          },
          set: function(c) {
            l[a] = c;
          }
        }), Object.defineProperty(u, 1, {
          get: function() {
            return l[i];
          },
          set: function(c) {
            l[i] = c;
          }
        });
      }
    }
    Object.defineProperty && (n("position", "_legacyPos", "x", "y"), n("scale", "_legacyScale", "scaleX", "scaleY"), n("origin", "_legacyOrigin", "originX", "originY"));
  }(), t;
}();
Vn(Ws, Fn);
Vn(Ws, lf);
function Ml(t, e, n, r, o) {
  n = n || {};
  var a = [];
  wy(t, "", t, e, n, r, a, o);
  var i = a.length, s = !1, l = n.done, u = n.aborted, c = function() {
    s = !0, i--, i <= 0 && (s ? l && l() : u && u());
  }, f = function() {
    i--, i <= 0 && (s ? l && l() : u && u());
  };
  i || l && l(), a.length > 0 && n.during && a[0].during(function(p, m) {
    n.during(m);
  });
  for (var h = 0; h < a.length; h++) {
    var d = a[h];
    c && d.done(c), f && d.aborted(f), n.force && d.duration(n.duration), d.start(n.easing);
  }
  return a;
}
function Ol(t, e, n) {
  for (var r = 0; r < n; r++)
    t[r] = e[r];
}
function E5(t) {
  return Wt(t[0]);
}
function M5(t, e, n) {
  if (Wt(e[n]))
    if (Wt(t[n]) || (t[n] = []), Ft(e[n])) {
      var r = e[n].length;
      t[n].length !== r && (t[n] = new e[n].constructor(r), Ol(t[n], e[n], r));
    } else {
      var o = e[n], a = t[n], i = o.length;
      if (E5(o))
        for (var s = o[0].length, l = 0; l < i; l++)
          a[l] ? Ol(a[l], o[l], s) : a[l] = Array.prototype.slice.call(o[l]);
      else
        Ol(a, o, i);
      a.length = o.length;
    }
  else
    t[n] = e[n];
}
function O5(t, e) {
  return t === e || Wt(t) && Wt(e) && R5(t, e);
}
function R5(t, e) {
  var n = t.length;
  if (n !== e.length)
    return !1;
  for (var r = 0; r < n; r++)
    if (t[r] !== e[r])
      return !1;
  return !0;
}
function wy(t, e, n, r, o, a, i, s) {
  for (var l = Ke(r), u = o.duration, c = o.delay, f = o.additive, h = o.setToFinal, d = !_e(a), p = t.animators, m = [], g = 0; g < l.length; g++) {
    var v = l[g], y = r[v];
    if (y != null && n[v] != null && (d || a[v]))
      if (_e(y) && !Wt(y) && !zs(y)) {
        if (e) {
          s || (n[v] = y, t.updateDuringAnimation(e));
          continue;
        }
        wy(t, v, n[v], y, o, a && a[v], i, s);
      } else
        m.push(v);
    else s || (n[v] = y, t.updateDuringAnimation(e), m.push(v));
  }
  var S = m.length;
  if (!f && S)
    for (var b = 0; b < p.length; b++) {
      var _ = p[b];
      if (_.targetName === e) {
        var w = _.stopTracks(m);
        if (w) {
          var T = He(p, _);
          p.splice(T, 1);
        }
      }
    }
  if (o.force || (m = _t(m, function(F) {
    return !O5(r[F], n[F]);
  }), S = m.length), S > 0 || o.force && !i.length) {
    var C = void 0, x = void 0, D = void 0;
    if (s) {
      x = {}, h && (C = {});
      for (var b = 0; b < S; b++) {
        var v = m[b];
        x[v] = n[v], h ? C[v] = r[v] : n[v] = r[v];
      }
    } else if (h) {
      D = {};
      for (var b = 0; b < S; b++) {
        var v = m[b];
        D[v] = Ri(n[v]), M5(n, r, v);
      }
    }
    var _ = new sf(n, !1, !1, f ? _t(p, function(I) {
      return I.targetName === e;
    }) : null);
    _.targetName = e, o.scope && (_.scope = o.scope), h && C && _.whenWithKeys(0, C, m), D && _.whenWithKeys(0, D, m), _.whenWithKeys(u ?? 500, s ? x : r, m).delay(c || 0), t.addAnimator(_, e), i.push(_);
  }
}
var Br = function(t) {
  Te(e, t);
  function e(n) {
    var r = t.call(this) || this;
    return r.isGroup = !0, r._children = [], r.attr(n), r;
  }
  return e.prototype.childrenRef = function() {
    return this._children;
  }, e.prototype.children = function() {
    return this._children.slice();
  }, e.prototype.childAt = function(n) {
    return this._children[n];
  }, e.prototype.childOfName = function(n) {
    for (var r = this._children, o = 0; o < r.length; o++)
      if (r[o].name === n)
        return r[o];
  }, e.prototype.childCount = function() {
    return this._children.length;
  }, e.prototype.add = function(n) {
    return n && n !== this && n.parent !== this && (this._children.push(n), this._doAdd(n)), this;
  }, e.prototype.addBefore = function(n, r) {
    if (n && n !== this && n.parent !== this && r && r.parent === this) {
      var o = this._children, a = o.indexOf(r);
      a >= 0 && (o.splice(a, 0, n), this._doAdd(n));
    }
    return this;
  }, e.prototype.replace = function(n, r) {
    var o = He(this._children, n);
    return o >= 0 && this.replaceAt(r, o), this;
  }, e.prototype.replaceAt = function(n, r) {
    var o = this._children, a = o[r];
    if (n && n !== this && n.parent !== this && n !== a) {
      o[r] = n, a.parent = null;
      var i = this.__zr;
      i && a.removeSelfFromZr(i), this._doAdd(n);
    }
    return this;
  }, e.prototype._doAdd = function(n) {
    n.parent && n.parent.remove(n), n.parent = this;
    var r = this.__zr;
    r && r !== n.__zr && n.addSelfToZr(r), r && r.refresh();
  }, e.prototype.remove = function(n) {
    var r = this.__zr, o = this._children, a = He(o, n);
    return a < 0 ? this : (o.splice(a, 1), n.parent = null, r && n.removeSelfFromZr(r), r && r.refresh(), this);
  }, e.prototype.removeAll = function() {
    for (var n = this._children, r = this.__zr, o = 0; o < n.length; o++) {
      var a = n[o];
      r && a.removeSelfFromZr(r), a.parent = null;
    }
    return n.length = 0, this;
  }, e.prototype.eachChild = function(n, r) {
    for (var o = this._children, a = 0; a < o.length; a++) {
      var i = o[a];
      n.call(r, i, a);
    }
    return this;
  }, e.prototype.traverse = function(n, r) {
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o], i = n.call(r, a);
      a.isGroup && !i && a.traverse(n, r);
    }
    return this;
  }, e.prototype.addSelfToZr = function(n) {
    t.prototype.addSelfToZr.call(this, n);
    for (var r = 0; r < this._children.length; r++) {
      var o = this._children[r];
      o.addSelfToZr(n);
    }
  }, e.prototype.removeSelfFromZr = function(n) {
    t.prototype.removeSelfFromZr.call(this, n);
    for (var r = 0; r < this._children.length; r++) {
      var o = this._children[r];
      o.removeSelfFromZr(n);
    }
  }, e.prototype.getBoundingRect = function(n) {
    for (var r = new Ie(0, 0, 0, 0), o = n || this._children, a = [], i = null, s = 0; s < o.length; s++) {
      var l = o[s];
      if (!(l.ignore || l.invisible)) {
        var u = l.getBoundingRect(), c = l.getLocalTransform(a);
        c ? (Ie.applyTransform(r, u, c), i = i || r.clone(), i.union(r)) : (i = i || u.clone(), i.union(u));
      }
    }
    return i || r;
  }, e;
}(Ws);
Br.prototype.type = "group";
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var Pi = {}, _y = {};
function L5(t) {
  delete _y[t];
}
function $5(t) {
  if (!t)
    return !1;
  if (typeof t == "string")
    return ss(t, 1) < Zu;
  if (t.colorStops) {
    for (var e = t.colorStops, n = 0, r = e.length, o = 0; o < r; o++)
      n += ss(e[o].color, 1);
    return n /= r, n < Zu;
  }
  return !1;
}
var I5 = function() {
  function t(e, n, r) {
    var o = this;
    this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, r = r || {}, this.dom = n, this.id = e;
    var a = new n5(), i = r.renderer || "canvas";
    Pi[i] || (i = Ke(Pi)[0]), r.useDirtyRect = r.useDirtyRect == null ? !1 : r.useDirtyRect;
    var s = new Pi[i](n, a, r, e), l = r.ssr || s.ssrOnly;
    this.storage = a, this.painter = s;
    var u = !ke.node && !ke.worker && !l ? new x5(s.getViewportRoot(), s.root) : null, c = r.useCoarsePointer, f = c == null || c === "auto" ? ke.touchEventsSupported : !!c, h = 44, d;
    f && (d = Ee(r.pointerSize, h)), this.handler = new ny(a, s, u, s.root, d), this.animation = new g5({
      stage: {
        update: l ? null : function() {
          return o._flush(!0);
        }
      }
    }), l || this.animation.start();
  }
  return t.prototype.add = function(e) {
    this._disposed || !e || (this.storage.addRoot(e), e.addSelfToZr(this), this.refresh());
  }, t.prototype.remove = function(e) {
    this._disposed || !e || (this.storage.delRoot(e), e.removeSelfFromZr(this), this.refresh());
  }, t.prototype.configLayer = function(e, n) {
    this._disposed || (this.painter.configLayer && this.painter.configLayer(e, n), this.refresh());
  }, t.prototype.setBackgroundColor = function(e) {
    this._disposed || (this.painter.setBackgroundColor && this.painter.setBackgroundColor(e), this.refresh(), this._backgroundColor = e, this._darkMode = $5(e));
  }, t.prototype.getBackgroundColor = function() {
    return this._backgroundColor;
  }, t.prototype.setDarkMode = function(e) {
    this._darkMode = e;
  }, t.prototype.isDarkMode = function() {
    return this._darkMode;
  }, t.prototype.refreshImmediately = function(e) {
    this._disposed || (e || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1);
  }, t.prototype.refresh = function() {
    this._disposed || (this._needsRefresh = !0, this.animation.start());
  }, t.prototype.flush = function() {
    this._disposed || this._flush(!1);
  }, t.prototype._flush = function(e) {
    var n, r = uo();
    this._needsRefresh && (n = !0, this.refreshImmediately(e)), this._needsRefreshHover && (n = !0, this.refreshHoverImmediately());
    var o = uo();
    n ? (this._stillFrameAccum = 0, this.trigger("rendered", {
      elapsedTime: o - r
    })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop());
  }, t.prototype.setSleepAfterStill = function(e) {
    this._sleepAfterStill = e;
  }, t.prototype.wakeUp = function() {
    this._disposed || (this.animation.start(), this._stillFrameAccum = 0);
  }, t.prototype.refreshHover = function() {
    this._needsRefreshHover = !0;
  }, t.prototype.refreshHoverImmediately = function() {
    this._disposed || (this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover());
  }, t.prototype.resize = function(e) {
    this._disposed || (e = e || {}, this.painter.resize(e.width, e.height), this.handler.resize());
  }, t.prototype.clearAnimation = function() {
    this._disposed || this.animation.clear();
  }, t.prototype.getWidth = function() {
    if (!this._disposed)
      return this.painter.getWidth();
  }, t.prototype.getHeight = function() {
    if (!this._disposed)
      return this.painter.getHeight();
  }, t.prototype.setCursorStyle = function(e) {
    this._disposed || this.handler.setCursorStyle(e);
  }, t.prototype.findHover = function(e, n) {
    if (!this._disposed)
      return this.handler.findHover(e, n);
  }, t.prototype.on = function(e, n, r) {
    return this._disposed || this.handler.on(e, n, r), this;
  }, t.prototype.off = function(e, n) {
    this._disposed || this.handler.off(e, n);
  }, t.prototype.trigger = function(e, n) {
    this._disposed || this.handler.trigger(e, n);
  }, t.prototype.clear = function() {
    if (!this._disposed) {
      for (var e = this.storage.getRoots(), n = 0; n < e.length; n++)
        e[n] instanceof Br && e[n].removeSelfFromZr(this);
      this.storage.delAllRoots(), this.painter.clear();
    }
  }, t.prototype.dispose = function() {
    this._disposed || (this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, this._disposed = !0, L5(this.id));
  }, t;
}();
function Ph(t, e) {
  var n = new I5(X0(), t, e);
  return _y[n.id] = n, n;
}
function P5(t, e) {
  Pi[t] = e;
}
var xy = 20;
function z5(t) {
  return t.replace(/^\s+|\s+$/g, "");
}
function Qu(t, e) {
  switch (t) {
    case "center":
    case "middle":
      t = "50%";
      break;
    case "left":
    case "top":
      t = "0%";
      break;
    case "right":
    case "bottom":
      t = "100%";
      break;
  }
  return Le(t) ? z5(t).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : t == null ? NaN : +t;
}
function ec(t, e, n) {
  return e == null && (e = 10), e = Math.min(Math.max(0, e), xy), t = (+t).toFixed(e), n ? t : +t;
}
function co(t) {
  if (t = +t, isNaN(t))
    return 0;
  if (t > 1e-14) {
    for (var e = 1, n = 0; n < 15; n++, e *= 10)
      if (Math.round(t * e) / e === t)
        return n;
  }
  return B5(t);
}
function B5(t) {
  var e = t.toString().toLowerCase(), n = e.indexOf("e"), r = n > 0 ? +e.slice(n + 1) : 0, o = n > 0 ? n : e.length, a = e.indexOf("."), i = a < 0 ? 0 : o - 1 - a;
  return Math.max(0, i - r);
}
function W5(t, e) {
  var n = Math.max(co(t), co(e)), r = t + e;
  return n > xy ? r : ec(r, n);
}
var N5 = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function Dy(t) {
  if (t instanceof Date)
    return t;
  if (Le(t)) {
    var e = N5.exec(t);
    if (!e)
      return /* @__PURE__ */ new Date(NaN);
    if (e[8]) {
      var n = +e[4] || 0;
      return e[8].toUpperCase() !== "Z" && (n -= +e[8].slice(0, 3)), new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, n, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0));
    } else
      return new Date(+e[1], +(e[2] || 1) - 1, +e[3] || 1, +e[4] || 0, +(e[5] || 0), +e[6] || 0, e[7] ? +e[7].substring(0, 3) : 0);
  } else if (t == null)
    return /* @__PURE__ */ new Date(NaN);
  return new Date(Math.round(t));
}
function H5() {
  return Math.round(Math.random() * 9);
}
function Cy(t, e) {
  return e === 0 ? t : Cy(e, t % e);
}
function zh(t, e) {
  return t == null ? e : e == null ? t : t * e / Cy(t, e);
}
function Ot(t) {
  throw new Error(t);
}
function Bh(t, e, n) {
  return (e - t) * n + t;
}
var Ty = "series\0", V5 = "\0_ec_\0";
function yt(t) {
  return t instanceof Array ? t : t == null ? [] : [t];
}
function Wh(t, e, n) {
  if (t) {
    t[e] = t[e] || {}, t.emphasis = t.emphasis || {}, t.emphasis[e] = t.emphasis[e] || {};
    for (var r = 0, o = n.length; r < o; r++) {
      var a = n[r];
      !t.emphasis[e].hasOwnProperty(a) && t[e].hasOwnProperty(a) && (t.emphasis[e][a] = t[e][a]);
    }
  }
}
var Nh = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function Ns(t) {
  return _e(t) && !Ce(t) && !(t instanceof Date) ? t.value : t;
}
function q5(t) {
  return _e(t) && !(t instanceof Array);
}
function j5(t, e, n) {
  var r = n === "normalMerge", o = n === "replaceMerge", a = n === "replaceAll";
  t = t || [], e = (e || []).slice();
  var i = Ae();
  X(e, function(l, u) {
    if (!_e(l)) {
      e[u] = null;
      return;
    }
  });
  var s = U5(t, i, n);
  return (r || o) && Y5(s, t, i, e), r && G5(s, e), r || o ? X5(s, e, o) : a && Z5(s, e), K5(s), s;
}
function U5(t, e, n) {
  var r = [];
  if (n === "replaceAll")
    return r;
  for (var o = 0; o < t.length; o++) {
    var a = t[o];
    a && a.id != null && e.set(a.id, o), r.push({
      existing: n === "replaceMerge" || ka(a) ? null : a,
      newOption: null,
      keyInfo: null,
      brandNew: null
    });
  }
  return r;
}
function Y5(t, e, n, r) {
  X(r, function(o, a) {
    if (!(!o || o.id == null)) {
      var i = ga(o.id), s = n.get(i);
      if (s != null) {
        var l = t[s];
        ar(!l.newOption, 'Duplicated option on id "' + i + '".'), l.newOption = o, l.existing = e[s], r[a] = null;
      }
    }
  });
}
function G5(t, e) {
  X(e, function(n, r) {
    if (!(!n || n.name == null))
      for (var o = 0; o < t.length; o++) {
        var a = t[o].existing;
        if (!t[o].newOption && a && (a.id == null || n.id == null) && !ka(n) && !ka(a) && Fy("name", a, n)) {
          t[o].newOption = n, e[r] = null;
          return;
        }
      }
  });
}
function X5(t, e, n) {
  X(e, function(r) {
    if (r) {
      for (
        var o, a = 0;
        // Be `!resultItem` only when `nextIdx >= result.length`.
        (o = t[a]) && (o.newOption || ka(o.existing) || // In mode "replaceMerge", here no not-mapped-non-internal-existing.
        o.existing && r.id != null && !Fy("id", r, o.existing));
      )
        a++;
      o ? (o.newOption = r, o.brandNew = n) : t.push({
        newOption: r,
        brandNew: n,
        existing: null,
        keyInfo: null
      }), a++;
    }
  });
}
function Z5(t, e) {
  X(e, function(n) {
    t.push({
      newOption: n,
      brandNew: !0,
      existing: null,
      keyInfo: null
    });
  });
}
function K5(t) {
  var e = Ae();
  X(t, function(n) {
    var r = n.existing;
    r && e.set(r.id, n);
  }), X(t, function(n) {
    var r = n.newOption;
    ar(!r || r.id == null || !e.get(r.id) || e.get(r.id) === n, "id duplicates: " + (r && r.id)), r && r.id != null && e.set(r.id, n), !n.keyInfo && (n.keyInfo = {});
  }), X(t, function(n, r) {
    var o = n.existing, a = n.newOption, i = n.keyInfo;
    if (_e(a)) {
      if (i.name = a.name != null ? ga(a.name) : o ? o.name : Ty + r, o)
        i.id = ga(o.id);
      else if (a.id != null)
        i.id = ga(a.id);
      else {
        var s = 0;
        do
          i.id = "\0" + i.name + "\0" + s++;
        while (e.get(i.id));
      }
      e.set(i.id, n);
    }
  });
}
function Fy(t, e, n) {
  var r = _n(e[t], null), o = _n(n[t], null);
  return r != null && o != null && r === o;
}
function ga(t) {
  return _n(t, "");
}
function _n(t, e) {
  return t == null ? e : Le(t) ? t : gt(t) || vF(t) ? t + "" : e;
}
function Ay(t) {
  var e = t.name;
  return !!(e && e.indexOf(Ty));
}
function ka(t) {
  return t && t.id != null && ga(t.id).indexOf(V5) === 0;
}
function J5(t, e, n) {
  X(t, function(r) {
    var o = r.newOption;
    _e(o) && (r.keyInfo.mainType = e, r.keyInfo.subType = Q5(e, o, r.existing, n));
  });
}
function Q5(t, e, n, r) {
  var o = e.type ? e.type : n ? n.subType : r.determineSubType(t, e);
  return o;
}
function Hs(t, e) {
  if (e.dataIndexInside != null)
    return e.dataIndexInside;
  if (e.dataIndex != null)
    return Ce(e.dataIndex) ? je(e.dataIndex, function(n) {
      return t.indexOfRawIndex(n);
    }) : t.indexOfRawIndex(e.dataIndex);
  if (e.name != null)
    return Ce(e.name) ? je(e.name, function(n) {
      return t.indexOfName(n);
    }) : t.indexOfName(e.name);
}
function it() {
  var t = "__ec_inner_" + eA++;
  return function(e) {
    return e[t] || (e[t] = {});
  };
}
var eA = H5();
function Rl(t, e, n) {
  var r = ky(e, n), o = r.mainTypeSpecified, a = r.queryOptionMap, i = r.others, s = i, l = n ? n.defaultMainType : null;
  return !o && l && a.set(l, {}), a.each(function(u, c) {
    var f = Vs(t, c, u, {
      useDefault: l === c,
      enableAll: n && n.enableAll != null ? n.enableAll : !0,
      enableNone: n && n.enableNone != null ? n.enableNone : !0
    });
    s[c + "Models"] = f.models, s[c + "Model"] = f.models[0];
  }), s;
}
function ky(t, e) {
  var n;
  if (Le(t)) {
    var r = {};
    r[t + "Index"] = 0, n = r;
  } else
    n = t;
  var o = Ae(), a = {}, i = !1;
  return X(n, function(s, l) {
    if (l === "dataIndex" || l === "dataIndexInside") {
      a[l] = s;
      return;
    }
    var u = l.match(/^(\w+)(Index|Id|Name)$/) || [], c = u[1], f = (u[2] || "").toLowerCase();
    if (!(!c || !f || e && e.includeMainTypes && He(e.includeMainTypes, c) < 0)) {
      i = i || !!c;
      var h = o.get(c) || o.set(c, {});
      h[f] = s;
    }
  }), {
    mainTypeSpecified: i,
    queryOptionMap: o,
    others: a
  };
}
var cf = {
  useDefault: !0,
  enableAll: !1,
  enableNone: !1
};
function Vs(t, e, n, r) {
  r = r || cf;
  var o = n.index, a = n.id, i = n.name, s = {
    models: null,
    specified: o != null || a != null || i != null
  };
  if (!s.specified) {
    var l = void 0;
    return s.models = r.useDefault && (l = t.getComponent(e)) ? [l] : [], s;
  }
  return o === "none" || o === !1 ? (ar(r.enableNone, '`"none"` or `false` is not a valid value on index option.'), s.models = [], s) : (o === "all" && (ar(r.enableAll, '`"all"` is not a valid value on index option.'), o = a = i = null), s.models = t.queryComponents({
    mainType: e,
    index: o,
    id: a,
    name: i
  }), s);
}
function tA(t, e, n) {
  t.setAttribute ? t.setAttribute(e, n) : t[e] = n;
}
function nA(t, e, n, r, o) {
  var a = e == null || e === "auto";
  if (r == null)
    return r;
  if (gt(r)) {
    var i = Bh(n || 0, r, o);
    return ec(i, a ? Math.max(co(n || 0), co(r)) : e);
  } else {
    if (Le(r))
      return o < 1 ? n : r;
    for (var s = [], l = n, u = r, c = Math.max(l ? l.length : 0, u.length), f = 0; f < c; ++f) {
      var h = t.getDimensionInfo(f);
      if (h && h.type === "ordinal")
        s[f] = (o < 1 && l ? l : u)[f];
      else {
        var d = l && l[f] ? l[f] : 0, p = u[f], i = Bh(d, p, o);
        s[f] = ec(i, a ? Math.max(co(d), co(p)) : e);
      }
    }
    return s;
  }
}
var rA = ".", dr = "___EC__COMPONENT__CONTAINER___", Ey = "___EC__EXTENDED_CLASS___";
function bn(t) {
  var e = {
    main: "",
    sub: ""
  };
  if (t) {
    var n = t.split(rA);
    e.main = n[0] || "", e.sub = n[1] || "";
  }
  return e;
}
function oA(t) {
  ar(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t), 'componentType "' + t + '" illegal');
}
function aA(t) {
  return !!(t && t[Ey]);
}
function ff(t, e) {
  t.$constructor = t, t.extend = function(n) {
    var r = this, o;
    return iA(r) ? o = /** @class */
    function(a) {
      Te(i, a);
      function i() {
        return a.apply(this, arguments) || this;
      }
      return i;
    }(r) : (o = function() {
      (n.$constructor || r).apply(this, arguments);
    }, hF(o, this)), ie(o.prototype, n), o[Ey] = !0, o.extend = this.extend, o.superCall = uA, o.superApply = cA, o.superClass = r, o;
  };
}
function iA(t) {
  return Be(t) && /^class\s/.test(Function.prototype.toString.call(t));
}
function My(t, e) {
  t.extend = e.extend;
}
var sA = Math.round(Math.random() * 10);
function lA(t) {
  var e = ["__\0is_clz", sA++].join("_");
  t.prototype[e] = !0, t.isInstance = function(n) {
    return !!(n && n[e]);
  };
}
function uA(t, e) {
  for (var n = [], r = 2; r < arguments.length; r++)
    n[r - 2] = arguments[r];
  return this.superClass.prototype[e].apply(t, n);
}
function cA(t, e, n) {
  return this.superClass.prototype[e].apply(t, n);
}
function df(t) {
  var e = {};
  t.registerClass = function(r) {
    var o = r.type || r.prototype.type;
    if (o) {
      oA(o), r.prototype.type = o;
      var a = bn(o);
      if (!a.sub)
        e[a.main] = r;
      else if (a.sub !== dr) {
        var i = n(a);
        i[a.sub] = r;
      }
    }
    return r;
  }, t.getClass = function(r, o, a) {
    var i = e[r];
    if (i && i[dr] && (i = o ? i[o] : null), a && !i)
      throw new Error(o ? "Component " + r + "." + (o || "") + " is used but not imported." : r + ".type should be specified.");
    return i;
  }, t.getClassesByMainType = function(r) {
    var o = bn(r), a = [], i = e[o.main];
    return i && i[dr] ? X(i, function(s, l) {
      l !== dr && a.push(s);
    }) : a.push(i), a;
  }, t.hasClass = function(r) {
    var o = bn(r);
    return !!e[o.main];
  }, t.getAllClassMainTypes = function() {
    var r = [];
    return X(e, function(o, a) {
      r.push(a);
    }), r;
  }, t.hasSubTypes = function(r) {
    var o = bn(r), a = e[o.main];
    return a && a[dr];
  };
  function n(r) {
    var o = e[r.main];
    return (!o || !o[dr]) && (o = e[r.main] = {}, o[dr] = !0), o;
  }
}
function Ea(t, e) {
  for (var n = 0; n < t.length; n++)
    t[n][1] || (t[n][1] = t[n][0]);
  return e = e || !1, function(r, o, a) {
    for (var i = {}, s = 0; s < t.length; s++) {
      var l = t[s][1];
      if (!(o && He(o, l) >= 0 || a && He(a, l) < 0)) {
        var u = r.getShallow(l, e);
        u != null && (i[t[s][0]] = u);
      }
    }
    return i;
  };
}
var fA = [
  ["fill", "color"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["opacity"],
  ["shadowColor"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], dA = Ea(fA), hA = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getAreaStyle = function(e, n) {
      return dA(this, e, n);
    }, t;
  }()
), tc = new Va(50);
function pA(t) {
  if (typeof t == "string") {
    var e = tc.get(t);
    return e && e.image;
  } else
    return t;
}
function Oy(t, e, n, r, o) {
  if (t)
    if (typeof t == "string") {
      if (e && e.__zrImageSrc === t || !n)
        return e;
      var a = tc.get(t), i = { hostEl: n, cb: r, cbPayload: o };
      return a ? (e = a.image, !qs(e) && a.pending.push(i)) : (e = Ao.loadImage(t, Hh, Hh), e.__zrImageSrc = t, tc.put(t, e.__cachedImgObj = {
        image: e,
        pending: [i]
      })), e;
    } else
      return t;
  else return e;
}
function Hh() {
  var t = this.__cachedImgObj;
  this.onload = this.onerror = this.__cachedImgObj = null;
  for (var e = 0; e < t.pending.length; e++) {
    var n = t.pending[e], r = n.cb;
    r && r(this, n.cbPayload), n.hostEl.dirty();
  }
  t.pending.length = 0;
}
function qs(t) {
  return t && t.width && t.height;
}
var Ll = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function vA(t, e, n, r, o, a) {
  if (!n) {
    t.text = "", t.isTruncated = !1;
    return;
  }
  var i = (e + "").split(`
`);
  a = Ry(n, r, o, a);
  for (var s = !1, l = {}, u = 0, c = i.length; u < c; u++)
    Ly(l, i[u], a), i[u] = l.textLine, s = s || l.isTruncated;
  t.text = i.join(`
`), t.isTruncated = s;
}
function Ry(t, e, n, r) {
  r = r || {};
  var o = ie({}, r);
  o.font = e, n = Ee(n, "..."), o.maxIterations = Ee(r.maxIterations, 2);
  var a = o.minChar = Ee(r.minChar, 0);
  o.cnCharWidth = It("国", e);
  var i = o.ascCharWidth = It("a", e);
  o.placeholder = Ee(r.placeholder, "");
  for (var s = t = Math.max(0, t - 1), l = 0; l < a && s >= i; l++)
    s -= i;
  var u = It(n, e);
  return u > s && (n = "", u = 0), s = t - u, o.ellipsis = n, o.ellipsisWidth = u, o.contentWidth = s, o.containerWidth = t, o;
}
function Ly(t, e, n) {
  var r = n.containerWidth, o = n.font, a = n.contentWidth;
  if (!r) {
    t.textLine = "", t.isTruncated = !1;
    return;
  }
  var i = It(e, o);
  if (i <= r) {
    t.textLine = e, t.isTruncated = !1;
    return;
  }
  for (var s = 0; ; s++) {
    if (i <= a || s >= n.maxIterations) {
      e += n.ellipsis;
      break;
    }
    var l = s === 0 ? gA(e, a, n.ascCharWidth, n.cnCharWidth) : i > 0 ? Math.floor(e.length * a / i) : 0;
    e = e.substr(0, l), i = It(e, o);
  }
  e === "" && (e = n.placeholder), t.textLine = e, t.isTruncated = !0;
}
function gA(t, e, n, r) {
  for (var o = 0, a = 0, i = t.length; a < i && o < e; a++) {
    var s = t.charCodeAt(a);
    o += 0 <= s && s <= 127 ? n : r;
  }
  return a;
}
function yA(t, e) {
  t != null && (t += "");
  var n = e.overflow, r = e.padding, o = e.font, a = n === "truncate", i = uf(o), s = Ee(e.lineHeight, i), l = !!e.backgroundColor, u = e.lineOverflow === "truncate", c = !1, f = e.width, h;
  f != null && (n === "break" || n === "breakAll") ? h = t ? $y(t, e.font, f, n === "breakAll", 0).lines : [] : h = t ? t.split(`
`) : [];
  var d = h.length * s, p = Ee(e.height, d);
  if (d > p && u) {
    var m = Math.floor(p / s);
    c = c || h.length > m, h = h.slice(0, m);
  }
  if (t && a && f != null)
    for (var g = Ry(f, o, e.ellipsis, {
      minChar: e.truncateMinChar,
      placeholder: e.placeholder
    }), v = {}, y = 0; y < h.length; y++)
      Ly(v, h[y], g), h[y] = v.textLine, c = c || v.isTruncated;
  for (var S = p, b = 0, y = 0; y < h.length; y++)
    b = Math.max(It(h[y], o), b);
  f == null && (f = b);
  var _ = b;
  return r && (S += r[0] + r[2], _ += r[1] + r[3], f += r[1] + r[3]), l && (_ = f), {
    lines: h,
    height: p,
    outerWidth: _,
    outerHeight: S,
    lineHeight: s,
    calculatedLineHeight: i,
    contentWidth: b,
    contentHeight: d,
    width: f,
    isTruncated: c
  };
}
var mA = /* @__PURE__ */ function() {
  function t() {
  }
  return t;
}(), Vh = /* @__PURE__ */ function() {
  function t(e) {
    this.tokens = [], e && (this.tokens = e);
  }
  return t;
}(), SA = /* @__PURE__ */ function() {
  function t() {
    this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [], this.isTruncated = !1;
  }
  return t;
}();
function bA(t, e) {
  var n = new SA();
  if (t != null && (t += ""), !t)
    return n;
  for (var r = e.width, o = e.height, a = e.overflow, i = (a === "break" || a === "breakAll") && r != null ? { width: r, accumWidth: 0, breakAll: a === "breakAll" } : null, s = Ll.lastIndex = 0, l; (l = Ll.exec(t)) != null; ) {
    var u = l.index;
    u > s && $l(n, t.substring(s, u), e, i), $l(n, l[2], e, i, l[1]), s = Ll.lastIndex;
  }
  s < t.length && $l(n, t.substring(s, t.length), e, i);
  var c = [], f = 0, h = 0, d = e.padding, p = a === "truncate", m = e.lineOverflow === "truncate", g = {};
  function v(R, E, B) {
    R.width = E, R.lineHeight = B, f += B, h = Math.max(h, E);
  }
  e: for (var y = 0; y < n.lines.length; y++) {
    for (var S = n.lines[y], b = 0, _ = 0, w = 0; w < S.tokens.length; w++) {
      var T = S.tokens[w], C = T.styleName && e.rich[T.styleName] || {}, x = T.textPadding = C.padding, D = x ? x[1] + x[3] : 0, F = T.font = C.font || e.font;
      T.contentHeight = uf(F);
      var I = Ee(C.height, T.contentHeight);
      if (T.innerHeight = I, x && (I += x[0] + x[2]), T.height = I, T.lineHeight = Ei(C.lineHeight, e.lineHeight, I), T.align = C && C.align || e.align, T.verticalAlign = C && C.verticalAlign || "middle", m && o != null && f + T.lineHeight > o) {
        var P = n.lines.length;
        w > 0 ? (S.tokens = S.tokens.slice(0, w), v(S, _, b), n.lines = n.lines.slice(0, y + 1)) : n.lines = n.lines.slice(0, y), n.isTruncated = n.isTruncated || n.lines.length < P;
        break e;
      }
      var O = C.width, k = O == null || O === "auto";
      if (typeof O == "string" && O.charAt(O.length - 1) === "%")
        T.percentWidth = O, c.push(T), T.contentWidth = It(T.text, F);
      else {
        if (k) {
          var $ = C.backgroundColor, M = $ && $.image;
          M && (M = pA(M), qs(M) && (T.width = Math.max(T.width, M.width * I / M.height)));
        }
        var A = p && r != null ? r - _ : null;
        A != null && A < T.width ? !k || A < D ? (T.text = "", T.width = T.contentWidth = 0) : (vA(g, T.text, A - D, F, e.ellipsis, { minChar: e.truncateMinChar }), T.text = g.text, n.isTruncated = n.isTruncated || g.isTruncated, T.width = T.contentWidth = It(T.text, F)) : T.contentWidth = It(T.text, F);
      }
      T.width += D, _ += T.width, C && (b = Math.max(b, T.lineHeight));
    }
    v(S, _, b);
  }
  n.outerWidth = n.width = Ee(r, h), n.outerHeight = n.height = Ee(o, f), n.contentHeight = f, n.contentWidth = h, d && (n.outerWidth += d[1] + d[3], n.outerHeight += d[0] + d[2]);
  for (var y = 0; y < c.length; y++) {
    var T = c[y], L = T.percentWidth;
    T.width = parseInt(L, 10) / 100 * n.width;
  }
  return n;
}
function $l(t, e, n, r, o) {
  var a = e === "", i = o && n.rich[o] || {}, s = t.lines, l = i.font || n.font, u = !1, c, f;
  if (r) {
    var h = i.padding, d = h ? h[1] + h[3] : 0;
    if (i.width != null && i.width !== "auto") {
      var p = Aa(i.width, r.width) + d;
      s.length > 0 && p + r.accumWidth > r.width && (c = e.split(`
`), u = !0), r.accumWidth = p;
    } else {
      var m = $y(e, l, r.width, r.breakAll, r.accumWidth);
      r.accumWidth = m.accumWidth + d, f = m.linesWidths, c = m.lines;
    }
  } else
    c = e.split(`
`);
  for (var g = 0; g < c.length; g++) {
    var v = c[g], y = new mA();
    if (y.styleName = o, y.text = v, y.isLineHolder = !v && !a, typeof i.width == "number" ? y.width = i.width : y.width = f ? f[g] : It(v, l), !g && !u) {
      var S = (s[s.length - 1] || (s[0] = new Vh())).tokens, b = S.length;
      b === 1 && S[0].isLineHolder ? S[0] = y : (v || !b || a) && S.push(y);
    } else
      s.push(new Vh([y]));
  }
}
function wA(t) {
  var e = t.charCodeAt(0);
  return e >= 32 && e <= 591 || e >= 880 && e <= 4351 || e >= 4608 && e <= 5119 || e >= 7680 && e <= 8303;
}
var _A = ko(",&?/;] ".split(""), function(t, e) {
  return t[e] = !0, t;
}, {});
function xA(t) {
  return wA(t) ? !!_A[t] : !0;
}
function $y(t, e, n, r, o) {
  for (var a = [], i = [], s = "", l = "", u = 0, c = 0, f = 0; f < t.length; f++) {
    var h = t.charAt(f);
    if (h === `
`) {
      l && (s += l, c += u), a.push(s), i.push(c), s = "", l = "", u = 0, c = 0;
      continue;
    }
    var d = It(h, e), p = r ? !1 : !xA(h);
    if (a.length ? c + d > n : o + c + d > n) {
      c ? (s || l) && (p ? (s || (s = l, l = "", u = 0, c = u), a.push(s), i.push(c - u), l += h, u += d, s = "", c = u) : (l && (s += l, l = "", u = 0), a.push(s), i.push(c), s = h, c = d)) : p ? (a.push(l), i.push(u), l = h, u = d) : (a.push(h), i.push(d));
      continue;
    }
    c += d, p ? (l += h, u += d) : (l && (s += l, l = "", u = 0), s += h);
  }
  return !a.length && !s && (s = t, l = "", u = 0), l && (s += l), s && (a.push(s), i.push(c)), a.length === 1 && (c += o), {
    accumWidth: c,
    lines: a,
    linesWidths: i
  };
}
var nc = "__zr_style_" + Math.round(Math.random() * 10), Lr = {
  shadowBlur: 0,
  shadowOffsetX: 0,
  shadowOffsetY: 0,
  shadowColor: "#000",
  opacity: 1,
  blend: "source-over"
}, js = {
  style: {
    shadowBlur: !0,
    shadowOffsetX: !0,
    shadowOffsetY: !0,
    shadowColor: !0,
    opacity: !0
  }
};
Lr[nc] = !0;
var qh = ["z", "z2", "invisible"], DA = ["invisible"], Us = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype._init = function(n) {
    for (var r = Ke(n), o = 0; o < r.length; o++) {
      var a = r[o];
      a === "style" ? this.useStyle(n[a]) : t.prototype.attrKV.call(this, a, n[a]);
    }
    this.style || this.useStyle({});
  }, e.prototype.beforeBrush = function() {
  }, e.prototype.afterBrush = function() {
  }, e.prototype.innerBeforeBrush = function() {
  }, e.prototype.innerAfterBrush = function() {
  }, e.prototype.shouldBePainted = function(n, r, o, a) {
    var i = this.transform;
    if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && CA(this, n, r) || i && !i[0] && !i[3])
      return !1;
    if (o && this.__clipPaths) {
      for (var s = 0; s < this.__clipPaths.length; ++s)
        if (this.__clipPaths[s].isZeroArea())
          return !1;
    }
    if (a && this.parent)
      for (var l = this.parent; l; ) {
        if (l.ignore)
          return !1;
        l = l.parent;
      }
    return !0;
  }, e.prototype.contain = function(n, r) {
    return this.rectContain(n, r);
  }, e.prototype.traverse = function(n, r) {
    n.call(r, this);
  }, e.prototype.rectContain = function(n, r) {
    var o = this.transformCoordToLocal(n, r), a = this.getBoundingRect();
    return a.contain(o[0], o[1]);
  }, e.prototype.getPaintRect = function() {
    var n = this._paintRect;
    if (!this._paintRect || this.__dirty) {
      var r = this.transform, o = this.getBoundingRect(), a = this.style, i = a.shadowBlur || 0, s = a.shadowOffsetX || 0, l = a.shadowOffsetY || 0;
      n = this._paintRect || (this._paintRect = new Ie(0, 0, 0, 0)), r ? Ie.applyTransform(n, o, r) : n.copy(o), (i || s || l) && (n.width += i * 2 + Math.abs(s), n.height += i * 2 + Math.abs(l), n.x = Math.min(n.x, n.x + s - i), n.y = Math.min(n.y, n.y + l - i));
      var u = this.dirtyRectTolerance;
      n.isZero() || (n.x = Math.floor(n.x - u), n.y = Math.floor(n.y - u), n.width = Math.ceil(n.width + 1 + u * 2), n.height = Math.ceil(n.height + 1 + u * 2));
    }
    return n;
  }, e.prototype.setPrevPaintRect = function(n) {
    n ? (this._prevPaintRect = this._prevPaintRect || new Ie(0, 0, 0, 0), this._prevPaintRect.copy(n)) : this._prevPaintRect = null;
  }, e.prototype.getPrevPaintRect = function() {
    return this._prevPaintRect;
  }, e.prototype.animateStyle = function(n) {
    return this.animate("style", n);
  }, e.prototype.updateDuringAnimation = function(n) {
    n === "style" ? this.dirtyStyle() : this.markRedraw();
  }, e.prototype.attrKV = function(n, r) {
    n !== "style" ? t.prototype.attrKV.call(this, n, r) : this.style ? this.setStyle(r) : this.useStyle(r);
  }, e.prototype.setStyle = function(n, r) {
    return typeof n == "string" ? this.style[n] = r : ie(this.style, n), this.dirtyStyle(), this;
  }, e.prototype.dirtyStyle = function(n) {
    n || this.markRedraw(), this.__dirty |= Oi, this._rect && (this._rect = null);
  }, e.prototype.dirty = function() {
    this.dirtyStyle();
  }, e.prototype.styleChanged = function() {
    return !!(this.__dirty & Oi);
  }, e.prototype.styleUpdated = function() {
    this.__dirty &= -3;
  }, e.prototype.createStyle = function(n) {
    return Bs(Lr, n);
  }, e.prototype.useStyle = function(n) {
    n[nc] || (n = this.createStyle(n)), this.__inHover ? this.__hoverStyle = n : this.style = n, this.dirtyStyle();
  }, e.prototype.isStyleObject = function(n) {
    return n[nc];
  }, e.prototype._innerSaveToNormal = function(n) {
    t.prototype._innerSaveToNormal.call(this, n);
    var r = this._normalState;
    n.style && !r.style && (r.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(n, r, qh);
  }, e.prototype._applyStateObj = function(n, r, o, a, i, s) {
    t.prototype._applyStateObj.call(this, n, r, o, a, i, s);
    var l = !(r && a), u;
    if (r && r.style ? i ? a ? u = r.style : (u = this._mergeStyle(this.createStyle(), o.style), this._mergeStyle(u, r.style)) : (u = this._mergeStyle(this.createStyle(), a ? this.style : o.style), this._mergeStyle(u, r.style)) : l && (u = o.style), u)
      if (i) {
        var c = this.style;
        if (this.style = this.createStyle(l ? {} : c), l)
          for (var f = Ke(c), h = 0; h < f.length; h++) {
            var d = f[h];
            d in u && (u[d] = u[d], this.style[d] = c[d]);
          }
        for (var p = Ke(u), h = 0; h < p.length; h++) {
          var d = p[h];
          this.style[d] = this.style[d];
        }
        this._transitionState(n, {
          style: u
        }, s, this.getAnimationStyleProps());
      } else
        this.useStyle(u);
    for (var m = this.__inHover ? DA : qh, h = 0; h < m.length; h++) {
      var d = m[h];
      r && r[d] != null ? this[d] = r[d] : l && o[d] != null && (this[d] = o[d]);
    }
  }, e.prototype._mergeStates = function(n) {
    for (var r = t.prototype._mergeStates.call(this, n), o, a = 0; a < n.length; a++) {
      var i = n[a];
      i.style && (o = o || {}, this._mergeStyle(o, i.style));
    }
    return o && (r.style = o), r;
  }, e.prototype._mergeStyle = function(n, r) {
    return ie(n, r), n;
  }, e.prototype.getAnimationStyleProps = function() {
    return js;
  }, e.initDefaultProps = function() {
    var n = e.prototype;
    n.type = "displayable", n.invisible = !1, n.z = 0, n.z2 = 0, n.zlevel = 0, n.culling = !1, n.cursor = "pointer", n.rectHover = !1, n.incremental = !1, n._rect = null, n.dirtyRectTolerance = 0, n.__dirty = wn | Oi;
  }(), e;
}(Ws), Il = new Ie(0, 0, 0, 0), Pl = new Ie(0, 0, 0, 0);
function CA(t, e, n) {
  return Il.copy(t.getBoundingRect()), t.transform && Il.applyTransform(t.transform), Pl.width = e, Pl.height = n, !Il.intersect(Pl);
}
var Ut = Math.min, Yt = Math.max, zl = Math.sin, Bl = Math.cos, hr = Math.PI * 2, ri = Eo(), oi = Eo(), ai = Eo();
function jh(t, e, n, r, o, a) {
  o[0] = Ut(t, n), o[1] = Ut(e, r), a[0] = Yt(t, n), a[1] = Yt(e, r);
}
var Uh = [], Yh = [];
function TA(t, e, n, r, o, a, i, s, l, u) {
  var c = uy, f = at, h = c(t, n, o, i, Uh);
  l[0] = 1 / 0, l[1] = 1 / 0, u[0] = -1 / 0, u[1] = -1 / 0;
  for (var d = 0; d < h; d++) {
    var p = f(t, n, o, i, Uh[d]);
    l[0] = Ut(p, l[0]), u[0] = Yt(p, u[0]);
  }
  h = c(e, r, a, s, Yh);
  for (var d = 0; d < h; d++) {
    var m = f(e, r, a, s, Yh[d]);
    l[1] = Ut(m, l[1]), u[1] = Yt(m, u[1]);
  }
  l[0] = Ut(t, l[0]), u[0] = Yt(t, u[0]), l[0] = Ut(i, l[0]), u[0] = Yt(i, u[0]), l[1] = Ut(e, l[1]), u[1] = Yt(e, u[1]), l[1] = Ut(s, l[1]), u[1] = Yt(s, u[1]);
}
function FA(t, e, n, r, o, a, i, s) {
  var l = fy, u = ct, c = Yt(Ut(l(t, n, o), 1), 0), f = Yt(Ut(l(e, r, a), 1), 0), h = u(t, n, o, c), d = u(e, r, a, f);
  i[0] = Ut(t, o, h), i[1] = Ut(e, a, d), s[0] = Yt(t, o, h), s[1] = Yt(e, a, d);
}
function AA(t, e, n, r, o, a, i, s, l) {
  var u = so, c = lo, f = Math.abs(o - a);
  if (f % hr < 1e-4 && f > 1e-4) {
    s[0] = t - n, s[1] = e - r, l[0] = t + n, l[1] = e + r;
    return;
  }
  if (ri[0] = Bl(o) * n + t, ri[1] = zl(o) * r + e, oi[0] = Bl(a) * n + t, oi[1] = zl(a) * r + e, u(s, ri, oi), c(l, ri, oi), o = o % hr, o < 0 && (o = o + hr), a = a % hr, a < 0 && (a = a + hr), o > a && !i ? a += hr : o < a && i && (o += hr), i) {
    var h = a;
    a = o, o = h;
  }
  for (var d = 0; d < a; d += Math.PI / 2)
    d > o && (ai[0] = Bl(d) * n + t, ai[1] = zl(d) * r + e, u(s, ai, s), c(l, ai, l));
}
var Oe = {
  M: 1,
  L: 2,
  C: 3,
  Q: 4,
  A: 5,
  Z: 6,
  R: 7
}, pr = [], vr = [], fn = [], Un = [], dn = [], hn = [], Wl = Math.min, Nl = Math.max, gr = Math.cos, yr = Math.sin, On = Math.abs, rc = Math.PI, Kn = rc * 2, Hl = typeof Float32Array < "u", Wo = [];
function Vl(t) {
  var e = Math.round(t / rc * 1e8) / 1e8;
  return e % 2 * rc;
}
function kA(t, e) {
  var n = Vl(t[0]);
  n < 0 && (n += Kn);
  var r = n - t[0], o = t[1];
  o += r, !e && o - n >= Kn ? o = n + Kn : e && n - o >= Kn ? o = n - Kn : !e && n > o ? o = n + (Kn - Vl(n - o)) : e && n < o && (o = n - (Kn - Vl(o - n))), t[0] = n, t[1] = o;
}
var Wr = function() {
  function t(e) {
    this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, e && (this._saveData = !1), this._saveData && (this.data = []);
  }
  return t.prototype.increaseVersion = function() {
    this._version++;
  }, t.prototype.getVersion = function() {
    return this._version;
  }, t.prototype.setScale = function(e, n, r) {
    r = r || 0, r > 0 && (this._ux = On(r / ls / e) || 0, this._uy = On(r / ls / n) || 0);
  }, t.prototype.setDPR = function(e) {
    this.dpr = e;
  }, t.prototype.setContext = function(e) {
    this._ctx = e;
  }, t.prototype.getContext = function() {
    return this._ctx;
  }, t.prototype.beginPath = function() {
    return this._ctx && this._ctx.beginPath(), this.reset(), this;
  }, t.prototype.reset = function() {
    this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++;
  }, t.prototype.moveTo = function(e, n) {
    return this._drawPendingPt(), this.addData(Oe.M, e, n), this._ctx && this._ctx.moveTo(e, n), this._x0 = e, this._y0 = n, this._xi = e, this._yi = n, this;
  }, t.prototype.lineTo = function(e, n) {
    var r = On(e - this._xi), o = On(n - this._yi), a = r > this._ux || o > this._uy;
    if (this.addData(Oe.L, e, n), this._ctx && a && this._ctx.lineTo(e, n), a)
      this._xi = e, this._yi = n, this._pendingPtDist = 0;
    else {
      var i = r * r + o * o;
      i > this._pendingPtDist && (this._pendingPtX = e, this._pendingPtY = n, this._pendingPtDist = i);
    }
    return this;
  }, t.prototype.bezierCurveTo = function(e, n, r, o, a, i) {
    return this._drawPendingPt(), this.addData(Oe.C, e, n, r, o, a, i), this._ctx && this._ctx.bezierCurveTo(e, n, r, o, a, i), this._xi = a, this._yi = i, this;
  }, t.prototype.quadraticCurveTo = function(e, n, r, o) {
    return this._drawPendingPt(), this.addData(Oe.Q, e, n, r, o), this._ctx && this._ctx.quadraticCurveTo(e, n, r, o), this._xi = r, this._yi = o, this;
  }, t.prototype.arc = function(e, n, r, o, a, i) {
    this._drawPendingPt(), Wo[0] = o, Wo[1] = a, kA(Wo, i), o = Wo[0], a = Wo[1];
    var s = a - o;
    return this.addData(Oe.A, e, n, r, r, o, s, 0, i ? 0 : 1), this._ctx && this._ctx.arc(e, n, r, o, a, i), this._xi = gr(a) * r + e, this._yi = yr(a) * r + n, this;
  }, t.prototype.arcTo = function(e, n, r, o, a) {
    return this._drawPendingPt(), this._ctx && this._ctx.arcTo(e, n, r, o, a), this;
  }, t.prototype.rect = function(e, n, r, o) {
    return this._drawPendingPt(), this._ctx && this._ctx.rect(e, n, r, o), this.addData(Oe.R, e, n, r, o), this;
  }, t.prototype.closePath = function() {
    this._drawPendingPt(), this.addData(Oe.Z);
    var e = this._ctx, n = this._x0, r = this._y0;
    return e && e.closePath(), this._xi = n, this._yi = r, this;
  }, t.prototype.fill = function(e) {
    e && e.fill(), this.toStatic();
  }, t.prototype.stroke = function(e) {
    e && e.stroke(), this.toStatic();
  }, t.prototype.len = function() {
    return this._len;
  }, t.prototype.setData = function(e) {
    var n = e.length;
    !(this.data && this.data.length === n) && Hl && (this.data = new Float32Array(n));
    for (var r = 0; r < n; r++)
      this.data[r] = e[r];
    this._len = n;
  }, t.prototype.appendPath = function(e) {
    e instanceof Array || (e = [e]);
    for (var n = e.length, r = 0, o = this._len, a = 0; a < n; a++)
      r += e[a].len();
    Hl && this.data instanceof Float32Array && (this.data = new Float32Array(o + r));
    for (var a = 0; a < n; a++)
      for (var i = e[a].data, s = 0; s < i.length; s++)
        this.data[o++] = i[s];
    this._len = o;
  }, t.prototype.addData = function(e, n, r, o, a, i, s, l, u) {
    if (this._saveData) {
      var c = this.data;
      this._len + arguments.length > c.length && (this._expandData(), c = this.data);
      for (var f = 0; f < arguments.length; f++)
        c[this._len++] = arguments[f];
    }
  }, t.prototype._drawPendingPt = function() {
    this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0);
  }, t.prototype._expandData = function() {
    if (!(this.data instanceof Array)) {
      for (var e = [], n = 0; n < this._len; n++)
        e[n] = this.data[n];
      this.data = e;
    }
  }, t.prototype.toStatic = function() {
    if (this._saveData) {
      this._drawPendingPt();
      var e = this.data;
      e instanceof Array && (e.length = this._len, Hl && this._len > 11 && (this.data = new Float32Array(e)));
    }
  }, t.prototype.getBoundingRect = function() {
    fn[0] = fn[1] = dn[0] = dn[1] = Number.MAX_VALUE, Un[0] = Un[1] = hn[0] = hn[1] = -Number.MAX_VALUE;
    var e = this.data, n = 0, r = 0, o = 0, a = 0, i;
    for (i = 0; i < this._len; ) {
      var s = e[i++], l = i === 1;
      switch (l && (n = e[i], r = e[i + 1], o = n, a = r), s) {
        case Oe.M:
          n = o = e[i++], r = a = e[i++], dn[0] = o, dn[1] = a, hn[0] = o, hn[1] = a;
          break;
        case Oe.L:
          jh(n, r, e[i], e[i + 1], dn, hn), n = e[i++], r = e[i++];
          break;
        case Oe.C:
          TA(n, r, e[i++], e[i++], e[i++], e[i++], e[i], e[i + 1], dn, hn), n = e[i++], r = e[i++];
          break;
        case Oe.Q:
          FA(n, r, e[i++], e[i++], e[i], e[i + 1], dn, hn), n = e[i++], r = e[i++];
          break;
        case Oe.A:
          var u = e[i++], c = e[i++], f = e[i++], h = e[i++], d = e[i++], p = e[i++] + d;
          i += 1;
          var m = !e[i++];
          l && (o = gr(d) * f + u, a = yr(d) * h + c), AA(u, c, f, h, d, p, m, dn, hn), n = gr(p) * f + u, r = yr(p) * h + c;
          break;
        case Oe.R:
          o = n = e[i++], a = r = e[i++];
          var g = e[i++], v = e[i++];
          jh(o, a, o + g, a + v, dn, hn);
          break;
        case Oe.Z:
          n = o, r = a;
          break;
      }
      so(fn, fn, dn), lo(Un, Un, hn);
    }
    return i === 0 && (fn[0] = fn[1] = Un[0] = Un[1] = 0), new Ie(fn[0], fn[1], Un[0] - fn[0], Un[1] - fn[1]);
  }, t.prototype._calculateLength = function() {
    var e = this.data, n = this._len, r = this._ux, o = this._uy, a = 0, i = 0, s = 0, l = 0;
    this._pathSegLen || (this._pathSegLen = []);
    for (var u = this._pathSegLen, c = 0, f = 0, h = 0; h < n; ) {
      var d = e[h++], p = h === 1;
      p && (a = e[h], i = e[h + 1], s = a, l = i);
      var m = -1;
      switch (d) {
        case Oe.M:
          a = s = e[h++], i = l = e[h++];
          break;
        case Oe.L: {
          var g = e[h++], v = e[h++], y = g - a, S = v - i;
          (On(y) > r || On(S) > o || h === n - 1) && (m = Math.sqrt(y * y + S * S), a = g, i = v);
          break;
        }
        case Oe.C: {
          var b = e[h++], _ = e[h++], g = e[h++], v = e[h++], w = e[h++], T = e[h++];
          m = r5(a, i, b, _, g, v, w, T, 10), a = w, i = T;
          break;
        }
        case Oe.Q: {
          var b = e[h++], _ = e[h++], g = e[h++], v = e[h++];
          m = a5(a, i, b, _, g, v, 10), a = g, i = v;
          break;
        }
        case Oe.A:
          var C = e[h++], x = e[h++], D = e[h++], F = e[h++], I = e[h++], P = e[h++], O = P + I;
          h += 1, p && (s = gr(I) * D + C, l = yr(I) * F + x), m = Nl(D, F) * Wl(Kn, Math.abs(P)), a = gr(O) * D + C, i = yr(O) * F + x;
          break;
        case Oe.R: {
          s = a = e[h++], l = i = e[h++];
          var k = e[h++], $ = e[h++];
          m = k * 2 + $ * 2;
          break;
        }
        case Oe.Z: {
          var y = s - a, S = l - i;
          m = Math.sqrt(y * y + S * S), a = s, i = l;
          break;
        }
      }
      m >= 0 && (u[f++] = m, c += m);
    }
    return this._pathLen = c, c;
  }, t.prototype.rebuildPath = function(e, n) {
    var r = this.data, o = this._ux, a = this._uy, i = this._len, s, l, u, c, f, h, d = n < 1, p, m, g = 0, v = 0, y, S = 0, b, _;
    if (!(d && (this._pathSegLen || this._calculateLength(), p = this._pathSegLen, m = this._pathLen, y = n * m, !y)))
      e: for (var w = 0; w < i; ) {
        var T = r[w++], C = w === 1;
        switch (C && (u = r[w], c = r[w + 1], s = u, l = c), T !== Oe.L && S > 0 && (e.lineTo(b, _), S = 0), T) {
          case Oe.M:
            s = u = r[w++], l = c = r[w++], e.moveTo(u, c);
            break;
          case Oe.L: {
            f = r[w++], h = r[w++];
            var x = On(f - u), D = On(h - c);
            if (x > o || D > a) {
              if (d) {
                var F = p[v++];
                if (g + F > y) {
                  var I = (y - g) / F;
                  e.lineTo(u * (1 - I) + f * I, c * (1 - I) + h * I);
                  break e;
                }
                g += F;
              }
              e.lineTo(f, h), u = f, c = h, S = 0;
            } else {
              var P = x * x + D * D;
              P > S && (b = f, _ = h, S = P);
            }
            break;
          }
          case Oe.C: {
            var O = r[w++], k = r[w++], $ = r[w++], M = r[w++], A = r[w++], L = r[w++];
            if (d) {
              var F = p[v++];
              if (g + F > y) {
                var I = (y - g) / F;
                as(u, O, $, A, I, pr), as(c, k, M, L, I, vr), e.bezierCurveTo(pr[1], vr[1], pr[2], vr[2], pr[3], vr[3]);
                break e;
              }
              g += F;
            }
            e.bezierCurveTo(O, k, $, M, A, L), u = A, c = L;
            break;
          }
          case Oe.Q: {
            var O = r[w++], k = r[w++], $ = r[w++], M = r[w++];
            if (d) {
              var F = p[v++];
              if (g + F > y) {
                var I = (y - g) / F;
                is(u, O, $, I, pr), is(c, k, M, I, vr), e.quadraticCurveTo(pr[1], vr[1], pr[2], vr[2]);
                break e;
              }
              g += F;
            }
            e.quadraticCurveTo(O, k, $, M), u = $, c = M;
            break;
          }
          case Oe.A:
            var R = r[w++], E = r[w++], B = r[w++], W = r[w++], z = r[w++], V = r[w++], q = r[w++], U = !r[w++], K = B > W ? B : W, Z = On(B - W) > 1e-3, ee = z + V, te = !1;
            if (d) {
              var F = p[v++];
              g + F > y && (ee = z + V * (y - g) / F, te = !0), g += F;
            }
            if (Z && e.ellipse ? e.ellipse(R, E, B, W, q, z, ee, U) : e.arc(R, E, K, z, ee, U), te)
              break e;
            C && (s = gr(z) * B + R, l = yr(z) * W + E), u = gr(ee) * B + R, c = yr(ee) * W + E;
            break;
          case Oe.R:
            s = u = r[w], l = c = r[w + 1], f = r[w++], h = r[w++];
            var re = r[w++], xe = r[w++];
            if (d) {
              var F = p[v++];
              if (g + F > y) {
                var ge = y - g;
                e.moveTo(f, h), e.lineTo(f + Wl(ge, re), h), ge -= re, ge > 0 && e.lineTo(f + re, h + Wl(ge, xe)), ge -= xe, ge > 0 && e.lineTo(f + Nl(re - ge, 0), h + xe), ge -= re, ge > 0 && e.lineTo(f, h + Nl(xe - ge, 0));
                break e;
              }
              g += F;
            }
            e.rect(f, h, re, xe);
            break;
          case Oe.Z:
            if (d) {
              var F = p[v++];
              if (g + F > y) {
                var I = (y - g) / F;
                e.lineTo(u * (1 - I) + s * I, c * (1 - I) + l * I);
                break e;
              }
              g += F;
            }
            e.closePath(), u = s, c = l;
        }
      }
  }, t.prototype.clone = function() {
    var e = new t(), n = this.data;
    return e.data = n.slice ? n.slice() : Array.prototype.slice.call(n), e._len = this._len, e;
  }, t.CMD = Oe, t.initDefaultProps = function() {
    var e = t.prototype;
    e._saveData = !0, e._ux = 0, e._uy = 0, e._pendingPtDist = 0, e._version = 0;
  }(), t;
}();
function Xr(t, e, n, r, o, a, i) {
  if (o === 0)
    return !1;
  var s = o, l = 0, u = t;
  if (i > e + s && i > r + s || i < e - s && i < r - s || a > t + s && a > n + s || a < t - s && a < n - s)
    return !1;
  if (t !== n)
    l = (e - r) / (t - n), u = (t * r - n * e) / (t - n);
  else
    return Math.abs(a - t) <= s / 2;
  var c = l * a - i + u, f = c * c / (l * l + 1);
  return f <= s / 2 * s / 2;
}
function EA(t, e, n, r, o, a, i, s, l, u, c) {
  if (l === 0)
    return !1;
  var f = l;
  if (c > e + f && c > r + f && c > a + f && c > s + f || c < e - f && c < r - f && c < a - f && c < s - f || u > t + f && u > n + f && u > o + f && u > i + f || u < t - f && u < n - f && u < o - f && u < i - f)
    return !1;
  var h = cy(t, e, n, r, o, a, i, s, u, c, null);
  return h <= f / 2;
}
function MA(t, e, n, r, o, a, i, s, l) {
  if (i === 0)
    return !1;
  var u = i;
  if (l > e + u && l > r + u && l > a + u || l < e - u && l < r - u && l < a - u || s > t + u && s > n + u && s > o + u || s < t - u && s < n - u && s < o - u)
    return !1;
  var c = dy(t, e, n, r, o, a, s, l, null);
  return c <= u / 2;
}
var Gh = Math.PI * 2;
function In(t) {
  return t %= Gh, t < 0 && (t += Gh), t;
}
var No = Math.PI * 2;
function OA(t, e, n, r, o, a, i, s, l) {
  if (i === 0)
    return !1;
  var u = i;
  s -= t, l -= e;
  var c = Math.sqrt(s * s + l * l);
  if (c - u > n || c + u < n)
    return !1;
  if (Math.abs(r - o) % No < 1e-4)
    return !0;
  if (a) {
    var f = r;
    r = In(o), o = In(f);
  } else
    r = In(r), o = In(o);
  r > o && (o += No);
  var h = Math.atan2(l, s);
  return h < 0 && (h += No), h >= r && h <= o || h + No >= r && h + No <= o;
}
function mr(t, e, n, r, o, a) {
  if (a > e && a > r || a < e && a < r || r === e)
    return 0;
  var i = (a - e) / (r - e), s = r < e ? 1 : -1;
  (i === 1 || i === 0) && (s = r < e ? 0.5 : -0.5);
  var l = i * (n - t) + t;
  return l === o ? 1 / 0 : l > o ? s : 0;
}
var Yn = Wr.CMD, Sr = Math.PI * 2, RA = 1e-4;
function LA(t, e) {
  return Math.abs(t - e) < RA;
}
var pt = [-1, -1, -1], qt = [-1, -1];
function $A() {
  var t = qt[0];
  qt[0] = qt[1], qt[1] = t;
}
function IA(t, e, n, r, o, a, i, s, l, u) {
  if (u > e && u > r && u > a && u > s || u < e && u < r && u < a && u < s)
    return 0;
  var c = ly(e, r, a, s, u, pt);
  if (c === 0)
    return 0;
  for (var f = 0, h = -1, d = void 0, p = void 0, m = 0; m < c; m++) {
    var g = pt[m], v = g === 0 || g === 1 ? 0.5 : 1, y = at(t, n, o, i, g);
    y < l || (h < 0 && (h = uy(e, r, a, s, qt), qt[1] < qt[0] && h > 1 && $A(), d = at(e, r, a, s, qt[0]), h > 1 && (p = at(e, r, a, s, qt[1]))), h === 2 ? g < qt[0] ? f += d < e ? v : -v : g < qt[1] ? f += p < d ? v : -v : f += s < p ? v : -v : g < qt[0] ? f += d < e ? v : -v : f += s < d ? v : -v);
  }
  return f;
}
function PA(t, e, n, r, o, a, i, s) {
  if (s > e && s > r && s > a || s < e && s < r && s < a)
    return 0;
  var l = o5(e, r, a, s, pt);
  if (l === 0)
    return 0;
  var u = fy(e, r, a);
  if (u >= 0 && u <= 1) {
    for (var c = 0, f = ct(e, r, a, u), h = 0; h < l; h++) {
      var d = pt[h] === 0 || pt[h] === 1 ? 0.5 : 1, p = ct(t, n, o, pt[h]);
      p < i || (pt[h] < u ? c += f < e ? d : -d : c += a < f ? d : -d);
    }
    return c;
  } else {
    var d = pt[0] === 0 || pt[0] === 1 ? 0.5 : 1, p = ct(t, n, o, pt[0]);
    return p < i ? 0 : a < e ? d : -d;
  }
}
function zA(t, e, n, r, o, a, i, s) {
  if (s -= e, s > n || s < -n)
    return 0;
  var l = Math.sqrt(n * n - s * s);
  pt[0] = -l, pt[1] = l;
  var u = Math.abs(r - o);
  if (u < 1e-4)
    return 0;
  if (u >= Sr - 1e-4) {
    r = 0, o = Sr;
    var c = a ? 1 : -1;
    return i >= pt[0] + t && i <= pt[1] + t ? c : 0;
  }
  if (r > o) {
    var f = r;
    r = o, o = f;
  }
  r < 0 && (r += Sr, o += Sr);
  for (var h = 0, d = 0; d < 2; d++) {
    var p = pt[d];
    if (p + t > i) {
      var m = Math.atan2(s, p), c = a ? 1 : -1;
      m < 0 && (m = Sr + m), (m >= r && m <= o || m + Sr >= r && m + Sr <= o) && (m > Math.PI / 2 && m < Math.PI * 1.5 && (c = -c), h += c);
    }
  }
  return h;
}
function Iy(t, e, n, r, o) {
  for (var a = t.data, i = t.len(), s = 0, l = 0, u = 0, c = 0, f = 0, h, d, p = 0; p < i; ) {
    var m = a[p++], g = p === 1;
    switch (m === Yn.M && p > 1 && (n || (s += mr(l, u, c, f, r, o))), g && (l = a[p], u = a[p + 1], c = l, f = u), m) {
      case Yn.M:
        c = a[p++], f = a[p++], l = c, u = f;
        break;
      case Yn.L:
        if (n) {
          if (Xr(l, u, a[p], a[p + 1], e, r, o))
            return !0;
        } else
          s += mr(l, u, a[p], a[p + 1], r, o) || 0;
        l = a[p++], u = a[p++];
        break;
      case Yn.C:
        if (n) {
          if (EA(l, u, a[p++], a[p++], a[p++], a[p++], a[p], a[p + 1], e, r, o))
            return !0;
        } else
          s += IA(l, u, a[p++], a[p++], a[p++], a[p++], a[p], a[p + 1], r, o) || 0;
        l = a[p++], u = a[p++];
        break;
      case Yn.Q:
        if (n) {
          if (MA(l, u, a[p++], a[p++], a[p], a[p + 1], e, r, o))
            return !0;
        } else
          s += PA(l, u, a[p++], a[p++], a[p], a[p + 1], r, o) || 0;
        l = a[p++], u = a[p++];
        break;
      case Yn.A:
        var v = a[p++], y = a[p++], S = a[p++], b = a[p++], _ = a[p++], w = a[p++];
        p += 1;
        var T = !!(1 - a[p++]);
        h = Math.cos(_) * S + v, d = Math.sin(_) * b + y, g ? (c = h, f = d) : s += mr(l, u, h, d, r, o);
        var C = (r - v) * b / S + v;
        if (n) {
          if (OA(v, y, b, _, _ + w, T, e, C, o))
            return !0;
        } else
          s += zA(v, y, b, _, _ + w, T, C, o);
        l = Math.cos(_ + w) * S + v, u = Math.sin(_ + w) * b + y;
        break;
      case Yn.R:
        c = l = a[p++], f = u = a[p++];
        var x = a[p++], D = a[p++];
        if (h = c + x, d = f + D, n) {
          if (Xr(c, f, h, f, e, r, o) || Xr(h, f, h, d, e, r, o) || Xr(h, d, c, d, e, r, o) || Xr(c, d, c, f, e, r, o))
            return !0;
        } else
          s += mr(h, f, h, d, r, o), s += mr(c, d, c, f, r, o);
        break;
      case Yn.Z:
        if (n) {
          if (Xr(l, u, c, f, e, r, o))
            return !0;
        } else
          s += mr(l, u, c, f, r, o);
        l = c, u = f;
        break;
    }
  }
  return !n && !LA(u, f) && (s += mr(l, u, c, f, r, o) || 0), s !== 0;
}
function BA(t, e, n) {
  return Iy(t, 0, !1, e, n);
}
function WA(t, e, n, r) {
  return Iy(t, e, !0, n, r);
}
var Py = mt({
  fill: "#000",
  stroke: null,
  strokePercent: 1,
  fillOpacity: 1,
  strokeOpacity: 1,
  lineDashOffset: 0,
  lineWidth: 1,
  lineCap: "butt",
  miterLimit: 10,
  strokeNoScale: !1,
  strokeFirst: !1
}, Lr), NA = {
  style: mt({
    fill: !0,
    stroke: !0,
    strokePercent: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineDashOffset: !0,
    lineWidth: !0,
    miterLimit: !0
  }, js.style)
}, ql = Fa.concat([
  "invisible",
  "culling",
  "z",
  "z2",
  "zlevel",
  "parent"
]), Ve = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.update = function() {
    var n = this;
    t.prototype.update.call(this);
    var r = this.style;
    if (r.decal) {
      var o = this._decalEl = this._decalEl || new e();
      o.buildPath === e.prototype.buildPath && (o.buildPath = function(l) {
        n.buildPath(l, n.shape);
      }), o.silent = !0;
      var a = o.style;
      for (var i in r)
        a[i] !== r[i] && (a[i] = r[i]);
      a.fill = r.fill ? r.decal : null, a.decal = null, a.shadowColor = null, r.strokeFirst && (a.stroke = null);
      for (var s = 0; s < ql.length; ++s)
        o[ql[s]] = this[ql[s]];
      o.__dirty |= wn;
    } else this._decalEl && (this._decalEl = null);
  }, e.prototype.getDecalElement = function() {
    return this._decalEl;
  }, e.prototype._init = function(n) {
    var r = Ke(n);
    this.shape = this.getDefaultShape();
    var o = this.getDefaultStyle();
    o && this.useStyle(o);
    for (var a = 0; a < r.length; a++) {
      var i = r[a], s = n[i];
      i === "style" ? this.style ? ie(this.style, s) : this.useStyle(s) : i === "shape" ? ie(this.shape, s) : t.prototype.attrKV.call(this, i, s);
    }
    this.style || this.useStyle({});
  }, e.prototype.getDefaultStyle = function() {
    return null;
  }, e.prototype.getDefaultShape = function() {
    return {};
  }, e.prototype.canBeInsideText = function() {
    return this.hasFill();
  }, e.prototype.getInsideTextFill = function() {
    var n = this.style.fill;
    if (n !== "none") {
      if (Le(n)) {
        var r = ss(n, 0);
        return r > 0.5 ? Ku : r > 0.2 ? D5 : Ju;
      } else if (n)
        return Ju;
    }
    return Ku;
  }, e.prototype.getInsideTextStroke = function(n) {
    var r = this.style.fill;
    if (Le(r)) {
      var o = this.__zr, a = !!(o && o.isDarkMode()), i = ss(n, 0) < Zu;
      if (a === i)
        return r;
    }
  }, e.prototype.buildPath = function(n, r, o) {
  }, e.prototype.pathUpdated = function() {
    this.__dirty &= -5;
  }, e.prototype.getUpdatedPathProxy = function(n) {
    return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, n), this.path;
  }, e.prototype.createPathProxy = function() {
    this.path = new Wr(!1);
  }, e.prototype.hasStroke = function() {
    var n = this.style, r = n.stroke;
    return !(r == null || r === "none" || !(n.lineWidth > 0));
  }, e.prototype.hasFill = function() {
    var n = this.style, r = n.fill;
    return r != null && r !== "none";
  }, e.prototype.getBoundingRect = function() {
    var n = this._rect, r = this.style, o = !n;
    if (o) {
      var a = !1;
      this.path || (a = !0, this.createPathProxy());
      var i = this.path;
      (a || this.__dirty & ta) && (i.beginPath(), this.buildPath(i, this.shape, !1), this.pathUpdated()), n = i.getBoundingRect();
    }
    if (this._rect = n, this.hasStroke() && this.path && this.path.len() > 0) {
      var s = this._rectStroke || (this._rectStroke = n.clone());
      if (this.__dirty || o) {
        s.copy(n);
        var l = r.strokeNoScale ? this.getLineScale() : 1, u = r.lineWidth;
        if (!this.hasFill()) {
          var c = this.strokeContainThreshold;
          u = Math.max(u, c ?? 4);
        }
        l > 1e-10 && (s.width += u / l, s.height += u / l, s.x -= u / l / 2, s.y -= u / l / 2);
      }
      return s;
    }
    return n;
  }, e.prototype.contain = function(n, r) {
    var o = this.transformCoordToLocal(n, r), a = this.getBoundingRect(), i = this.style;
    if (n = o[0], r = o[1], a.contain(n, r)) {
      var s = this.path;
      if (this.hasStroke()) {
        var l = i.lineWidth, u = i.strokeNoScale ? this.getLineScale() : 1;
        if (u > 1e-10 && (this.hasFill() || (l = Math.max(l, this.strokeContainThreshold)), WA(s, l / u, n, r)))
          return !0;
      }
      if (this.hasFill())
        return BA(s, n, r);
    }
    return !1;
  }, e.prototype.dirtyShape = function() {
    this.__dirty |= ta, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw();
  }, e.prototype.dirty = function() {
    this.dirtyStyle(), this.dirtyShape();
  }, e.prototype.animateShape = function(n) {
    return this.animate("shape", n);
  }, e.prototype.updateDuringAnimation = function(n) {
    n === "style" ? this.dirtyStyle() : n === "shape" ? this.dirtyShape() : this.markRedraw();
  }, e.prototype.attrKV = function(n, r) {
    n === "shape" ? this.setShape(r) : t.prototype.attrKV.call(this, n, r);
  }, e.prototype.setShape = function(n, r) {
    var o = this.shape;
    return o || (o = this.shape = {}), typeof n == "string" ? o[n] = r : ie(o, n), this.dirtyShape(), this;
  }, e.prototype.shapeChanged = function() {
    return !!(this.__dirty & ta);
  }, e.prototype.createStyle = function(n) {
    return Bs(Py, n);
  }, e.prototype._innerSaveToNormal = function(n) {
    t.prototype._innerSaveToNormal.call(this, n);
    var r = this._normalState;
    n.shape && !r.shape && (r.shape = ie({}, this.shape));
  }, e.prototype._applyStateObj = function(n, r, o, a, i, s) {
    t.prototype._applyStateObj.call(this, n, r, o, a, i, s);
    var l = !(r && a), u;
    if (r && r.shape ? i ? a ? u = r.shape : (u = ie({}, o.shape), ie(u, r.shape)) : (u = ie({}, a ? this.shape : o.shape), ie(u, r.shape)) : l && (u = o.shape), u)
      if (i) {
        this.shape = ie({}, this.shape);
        for (var c = {}, f = Ke(u), h = 0; h < f.length; h++) {
          var d = f[h];
          typeof u[d] == "object" ? this.shape[d] = u[d] : c[d] = u[d];
        }
        this._transitionState(n, {
          shape: c
        }, s);
      } else
        this.shape = u, this.dirtyShape();
  }, e.prototype._mergeStates = function(n) {
    for (var r = t.prototype._mergeStates.call(this, n), o, a = 0; a < n.length; a++) {
      var i = n[a];
      i.shape && (o = o || {}, this._mergeStyle(o, i.shape));
    }
    return o && (r.shape = o), r;
  }, e.prototype.getAnimationStyleProps = function() {
    return NA;
  }, e.prototype.isZeroArea = function() {
    return !1;
  }, e.extend = function(n) {
    var r = function(a) {
      Te(i, a);
      function i(s) {
        var l = a.call(this, s) || this;
        return n.init && n.init.call(l, s), l;
      }
      return i.prototype.getDefaultStyle = function() {
        return Re(n.style);
      }, i.prototype.getDefaultShape = function() {
        return Re(n.shape);
      }, i;
    }(e);
    for (var o in n)
      typeof n[o] == "function" && (r.prototype[o] = n[o]);
    return r;
  }, e.initDefaultProps = function() {
    var n = e.prototype;
    n.type = "path", n.strokeContainThreshold = 5, n.segmentIgnoreThreshold = 0, n.subPixelOptimize = !1, n.autoBatch = !1, n.__dirty = wn | Oi | ta;
  }(), e;
}(Us), HA = mt({
  strokeFirst: !0,
  font: zr,
  x: 0,
  y: 0,
  textAlign: "left",
  textBaseline: "top",
  miterLimit: 2
}, Py), us = function(t) {
  Te(e, t);
  function e() {
    return t !== null && t.apply(this, arguments) || this;
  }
  return e.prototype.hasStroke = function() {
    var n = this.style, r = n.stroke;
    return r != null && r !== "none" && n.lineWidth > 0;
  }, e.prototype.hasFill = function() {
    var n = this.style, r = n.fill;
    return r != null && r !== "none";
  }, e.prototype.createStyle = function(n) {
    return Bs(HA, n);
  }, e.prototype.setBoundingRect = function(n) {
    this._rect = n;
  }, e.prototype.getBoundingRect = function() {
    var n = this.style;
    if (!this._rect) {
      var r = n.text;
      r != null ? r += "" : r = "";
      var o = F5(r, n.font, n.textAlign, n.textBaseline);
      if (o.x += n.x || 0, o.y += n.y || 0, this.hasStroke()) {
        var a = n.lineWidth;
        o.x -= a / 2, o.y -= a / 2, o.width += a, o.height += a;
      }
      this._rect = o;
    }
    return this._rect;
  }, e.initDefaultProps = function() {
    var n = e.prototype;
    n.dirtyRectTolerance = 10;
  }(), e;
}(Us);
us.prototype.type = "tspan";
var VA = mt({
  x: 0,
  y: 0
}, Lr), qA = {
  style: mt({
    x: !0,
    y: !0,
    width: !0,
    height: !0,
    sx: !0,
    sy: !0,
    sWidth: !0,
    sHeight: !0
  }, js.style)
};
function jA(t) {
  return !!(t && typeof t != "string" && t.width && t.height);
}
var qa = function(t) {
  Te(e, t);
  function e() {
    return t !== null && t.apply(this, arguments) || this;
  }
  return e.prototype.createStyle = function(n) {
    return Bs(VA, n);
  }, e.prototype._getSize = function(n) {
    var r = this.style, o = r[n];
    if (o != null)
      return o;
    var a = jA(r.image) ? r.image : this.__image;
    if (!a)
      return 0;
    var i = n === "width" ? "height" : "width", s = r[i];
    return s == null ? a[n] : a[n] / a[i] * s;
  }, e.prototype.getWidth = function() {
    return this._getSize("width");
  }, e.prototype.getHeight = function() {
    return this._getSize("height");
  }, e.prototype.getAnimationStyleProps = function() {
    return qA;
  }, e.prototype.getBoundingRect = function() {
    var n = this.style;
    return this._rect || (this._rect = new Ie(n.x || 0, n.y || 0, this.getWidth(), this.getHeight())), this._rect;
  }, e;
}(Us);
qa.prototype.type = "image";
function UA(t, e) {
  var n = e.x, r = e.y, o = e.width, a = e.height, i = e.r, s, l, u, c;
  o < 0 && (n = n + o, o = -o), a < 0 && (r = r + a, a = -a), typeof i == "number" ? s = l = u = c = i : i instanceof Array ? i.length === 1 ? s = l = u = c = i[0] : i.length === 2 ? (s = u = i[0], l = c = i[1]) : i.length === 3 ? (s = i[0], l = c = i[1], u = i[2]) : (s = i[0], l = i[1], u = i[2], c = i[3]) : s = l = u = c = 0;
  var f;
  s + l > o && (f = s + l, s *= o / f, l *= o / f), u + c > o && (f = u + c, u *= o / f, c *= o / f), l + u > a && (f = l + u, l *= a / f, u *= a / f), s + c > a && (f = s + c, s *= a / f, c *= a / f), t.moveTo(n + s, r), t.lineTo(n + o - l, r), l !== 0 && t.arc(n + o - l, r + l, l, -Math.PI / 2, 0), t.lineTo(n + o, r + a - u), u !== 0 && t.arc(n + o - u, r + a - u, u, 0, Math.PI / 2), t.lineTo(n + c, r + a), c !== 0 && t.arc(n + c, r + a - c, c, Math.PI / 2, Math.PI), t.lineTo(n, r + s), s !== 0 && t.arc(n + s, r + s, s, Math.PI, Math.PI * 1.5);
}
var fo = Math.round;
function YA(t, e, n) {
  if (e) {
    var r = e.x1, o = e.x2, a = e.y1, i = e.y2;
    t.x1 = r, t.x2 = o, t.y1 = a, t.y2 = i;
    var s = n && n.lineWidth;
    return s && (fo(r * 2) === fo(o * 2) && (t.x1 = t.x2 = ho(r, s, !0)), fo(a * 2) === fo(i * 2) && (t.y1 = t.y2 = ho(a, s, !0))), t;
  }
}
function GA(t, e, n) {
  if (e) {
    var r = e.x, o = e.y, a = e.width, i = e.height;
    t.x = r, t.y = o, t.width = a, t.height = i;
    var s = n && n.lineWidth;
    return s && (t.x = ho(r, s, !0), t.y = ho(o, s, !0), t.width = Math.max(ho(r + a, s, !1) - t.x, a === 0 ? 0 : 1), t.height = Math.max(ho(o + i, s, !1) - t.y, i === 0 ? 0 : 1)), t;
  }
}
function ho(t, e, n) {
  if (!e)
    return t;
  var r = fo(t * 2);
  return (r + fo(e)) % 2 === 0 ? r / 2 : (r + (n ? 1 : -1)) / 2;
}
var XA = /* @__PURE__ */ function() {
  function t() {
    this.x = 0, this.y = 0, this.width = 0, this.height = 0;
  }
  return t;
}(), ZA = {}, an = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new XA();
  }, e.prototype.buildPath = function(n, r) {
    var o, a, i, s;
    if (this.subPixelOptimize) {
      var l = GA(ZA, r, this.style);
      o = l.x, a = l.y, i = l.width, s = l.height, l.r = r.r, r = l;
    } else
      o = r.x, a = r.y, i = r.width, s = r.height;
    r.r ? UA(n, r) : n.rect(o, a, i, s);
  }, e.prototype.isZeroArea = function() {
    return !this.shape.width || !this.shape.height;
  }, e;
}(Ve);
an.prototype.type = "rect";
var Xh = {
  fill: "#000"
}, Zh = 2, KA = {
  style: mt({
    fill: !0,
    stroke: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineWidth: !0,
    fontSize: !0,
    lineHeight: !0,
    width: !0,
    height: !0,
    textShadowColor: !0,
    textShadowBlur: !0,
    textShadowOffsetX: !0,
    textShadowOffsetY: !0,
    backgroundColor: !0,
    padding: !0,
    borderColor: !0,
    borderWidth: !0,
    borderRadius: !0
  }, js.style)
}, Ma = function(t) {
  Te(e, t);
  function e(n) {
    var r = t.call(this) || this;
    return r.type = "text", r._children = [], r._defaultStyle = Xh, r.attr(n), r;
  }
  return e.prototype.childrenRef = function() {
    return this._children;
  }, e.prototype.update = function() {
    t.prototype.update.call(this), this.styleChanged() && this._updateSubTexts();
    for (var n = 0; n < this._children.length; n++) {
      var r = this._children[n];
      r.zlevel = this.zlevel, r.z = this.z, r.z2 = this.z2, r.culling = this.culling, r.cursor = this.cursor, r.invisible = this.invisible;
    }
  }, e.prototype.updateTransform = function() {
    var n = this.innerTransformable;
    n ? (n.updateTransform(), n.transform && (this.transform = n.transform)) : t.prototype.updateTransform.call(this);
  }, e.prototype.getLocalTransform = function(n) {
    var r = this.innerTransformable;
    return r ? r.getLocalTransform(n) : t.prototype.getLocalTransform.call(this, n);
  }, e.prototype.getComputedTransform = function() {
    return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), t.prototype.getComputedTransform.call(this);
  }, e.prototype._updateSubTexts = function() {
    this._childCursor = 0, nk(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated();
  }, e.prototype.addSelfToZr = function(n) {
    t.prototype.addSelfToZr.call(this, n);
    for (var r = 0; r < this._children.length; r++)
      this._children[r].__zr = n;
  }, e.prototype.removeSelfFromZr = function(n) {
    t.prototype.removeSelfFromZr.call(this, n);
    for (var r = 0; r < this._children.length; r++)
      this._children[r].__zr = null;
  }, e.prototype.getBoundingRect = function() {
    if (this.styleChanged() && this._updateSubTexts(), !this._rect) {
      for (var n = new Ie(0, 0, 0, 0), r = this._children, o = [], a = null, i = 0; i < r.length; i++) {
        var s = r[i], l = s.getBoundingRect(), u = s.getLocalTransform(o);
        u ? (n.copy(l), n.applyTransform(u), a = a || n.clone(), a.union(n)) : (a = a || l.clone(), a.union(l));
      }
      this._rect = a || n;
    }
    return this._rect;
  }, e.prototype.setDefaultTextStyle = function(n) {
    this._defaultStyle = n || Xh;
  }, e.prototype.setTextContent = function(n) {
  }, e.prototype._mergeStyle = function(n, r) {
    if (!r)
      return n;
    var o = r.rich, a = n.rich || o && {};
    return ie(n, r), o && a ? (this._mergeRich(a, o), n.rich = a) : a && (n.rich = a), n;
  }, e.prototype._mergeRich = function(n, r) {
    for (var o = Ke(r), a = 0; a < o.length; a++) {
      var i = o[a];
      n[i] = n[i] || {}, ie(n[i], r[i]);
    }
  }, e.prototype.getAnimationStyleProps = function() {
    return KA;
  }, e.prototype._getOrCreateChild = function(n) {
    var r = this._children[this._childCursor];
    return (!r || !(r instanceof n)) && (r = new n()), this._children[this._childCursor++] = r, r.__zr = this.__zr, r.parent = this, r;
  }, e.prototype._updatePlainTexts = function() {
    var n = this.style, r = n.font || zr, o = n.padding, a = rp(n), i = yA(a, n), s = jl(n), l = !!n.backgroundColor, u = i.outerHeight, c = i.outerWidth, f = i.contentWidth, h = i.lines, d = i.lineHeight, p = this._defaultStyle;
    this.isTruncated = !!i.isTruncated;
    var m = n.x || 0, g = n.y || 0, v = n.align || p.align || "left", y = n.verticalAlign || p.verticalAlign || "top", S = m, b = io(g, i.contentHeight, y);
    if (s || o) {
      var _ = ra(m, c, v), w = io(g, u, y);
      s && this._renderBackground(n, n, _, w, c, u);
    }
    b += d / 2, o && (S = np(m, v, o), y === "top" ? b += o[0] : y === "bottom" && (b -= o[2]));
    for (var T = 0, C = !1, x = tp("fill" in n ? n.fill : (C = !0, p.fill)), D = ep("stroke" in n ? n.stroke : !l && (!p.autoStroke || C) ? (T = Zh, p.stroke) : null), F = n.textShadowBlur > 0, I = n.width != null && (n.overflow === "truncate" || n.overflow === "break" || n.overflow === "breakAll"), P = i.calculatedLineHeight, O = 0; O < h.length; O++) {
      var k = this._getOrCreateChild(us), $ = k.createStyle();
      k.useStyle($), $.text = h[O], $.x = S, $.y = b, $.textAlign = v, $.textBaseline = "middle", $.opacity = n.opacity, $.strokeFirst = !0, F && ($.shadowBlur = n.textShadowBlur || 0, $.shadowColor = n.textShadowColor || "transparent", $.shadowOffsetX = n.textShadowOffsetX || 0, $.shadowOffsetY = n.textShadowOffsetY || 0), $.stroke = D, $.fill = x, D && ($.lineWidth = n.lineWidth || T, $.lineDash = n.lineDash, $.lineDashOffset = n.lineDashOffset || 0), $.font = r, Jh($, n), b += d, I && k.setBoundingRect(new Ie(ra($.x, f, $.textAlign), io($.y, P, $.textBaseline), f, P));
    }
  }, e.prototype._updateRichTexts = function() {
    var n = this.style, r = rp(n), o = bA(r, n), a = o.width, i = o.outerWidth, s = o.outerHeight, l = n.padding, u = n.x || 0, c = n.y || 0, f = this._defaultStyle, h = n.align || f.align, d = n.verticalAlign || f.verticalAlign;
    this.isTruncated = !!o.isTruncated;
    var p = ra(u, i, h), m = io(c, s, d), g = p, v = m;
    l && (g += l[3], v += l[0]);
    var y = g + a;
    jl(n) && this._renderBackground(n, n, p, m, i, s);
    for (var S = !!n.backgroundColor, b = 0; b < o.lines.length; b++) {
      for (var _ = o.lines[b], w = _.tokens, T = w.length, C = _.lineHeight, x = _.width, D = 0, F = g, I = y, P = T - 1, O = void 0; D < T && (O = w[D], !O.align || O.align === "left"); )
        this._placeToken(O, n, C, v, F, "left", S), x -= O.width, F += O.width, D++;
      for (; P >= 0 && (O = w[P], O.align === "right"); )
        this._placeToken(O, n, C, v, I, "right", S), x -= O.width, I -= O.width, P--;
      for (F += (a - (F - g) - (y - I) - x) / 2; D <= P; )
        O = w[D], this._placeToken(O, n, C, v, F + O.width / 2, "center", S), F += O.width, D++;
      v += C;
    }
  }, e.prototype._placeToken = function(n, r, o, a, i, s, l) {
    var u = r.rich[n.styleName] || {};
    u.text = n.text;
    var c = n.verticalAlign, f = a + o / 2;
    c === "top" ? f = a + n.height / 2 : c === "bottom" && (f = a + o - n.height / 2);
    var h = !n.isLineHolder && jl(u);
    h && this._renderBackground(u, r, s === "right" ? i - n.width : s === "center" ? i - n.width / 2 : i, f - n.height / 2, n.width, n.height);
    var d = !!u.backgroundColor, p = n.textPadding;
    p && (i = np(i, s, p), f -= n.height / 2 - p[0] - n.innerHeight / 2);
    var m = this._getOrCreateChild(us), g = m.createStyle();
    m.useStyle(g);
    var v = this._defaultStyle, y = !1, S = 0, b = tp("fill" in u ? u.fill : "fill" in r ? r.fill : (y = !0, v.fill)), _ = ep("stroke" in u ? u.stroke : "stroke" in r ? r.stroke : !d && !l && (!v.autoStroke || y) ? (S = Zh, v.stroke) : null), w = u.textShadowBlur > 0 || r.textShadowBlur > 0;
    g.text = n.text, g.x = i, g.y = f, w && (g.shadowBlur = u.textShadowBlur || r.textShadowBlur || 0, g.shadowColor = u.textShadowColor || r.textShadowColor || "transparent", g.shadowOffsetX = u.textShadowOffsetX || r.textShadowOffsetX || 0, g.shadowOffsetY = u.textShadowOffsetY || r.textShadowOffsetY || 0), g.textAlign = s, g.textBaseline = "middle", g.font = n.font || zr, g.opacity = Ei(u.opacity, r.opacity, 1), Jh(g, u), _ && (g.lineWidth = Ei(u.lineWidth, r.lineWidth, S), g.lineDash = Ee(u.lineDash, r.lineDash), g.lineDashOffset = r.lineDashOffset || 0, g.stroke = _), b && (g.fill = b);
    var T = n.contentWidth, C = n.contentHeight;
    m.setBoundingRect(new Ie(ra(g.x, T, g.textAlign), io(g.y, C, g.textBaseline), T, C));
  }, e.prototype._renderBackground = function(n, r, o, a, i, s) {
    var l = n.backgroundColor, u = n.borderWidth, c = n.borderColor, f = l && l.image, h = l && !f, d = n.borderRadius, p = this, m, g;
    if (h || n.lineHeight || u && c) {
      m = this._getOrCreateChild(an), m.useStyle(m.createStyle()), m.style.fill = null;
      var v = m.shape;
      v.x = o, v.y = a, v.width = i, v.height = s, v.r = d, m.dirtyShape();
    }
    if (h) {
      var y = m.style;
      y.fill = l || null, y.fillOpacity = Ee(n.fillOpacity, 1);
    } else if (f) {
      g = this._getOrCreateChild(qa), g.onload = function() {
        p.dirtyStyle();
      };
      var S = g.style;
      S.image = l.image, S.x = o, S.y = a, S.width = i, S.height = s;
    }
    if (u && c) {
      var y = m.style;
      y.lineWidth = u, y.stroke = c, y.strokeOpacity = Ee(n.strokeOpacity, 1), y.lineDash = n.borderDash, y.lineDashOffset = n.borderDashOffset || 0, m.strokeContainThreshold = 0, m.hasFill() && m.hasStroke() && (y.strokeFirst = !0, y.lineWidth *= 2);
    }
    var b = (m || g).style;
    b.shadowBlur = n.shadowBlur || 0, b.shadowColor = n.shadowColor || "transparent", b.shadowOffsetX = n.shadowOffsetX || 0, b.shadowOffsetY = n.shadowOffsetY || 0, b.opacity = Ei(n.opacity, r.opacity, 1);
  }, e.makeFont = function(n) {
    var r = "";
    return tk(n) && (r = [
      n.fontStyle,
      n.fontWeight,
      ek(n.fontSize),
      n.fontFamily || "sans-serif"
    ].join(" ")), r && Qn(r) || n.textFont || n.font;
  }, e;
}(Us), JA = { left: !0, right: 1, center: 1 }, QA = { top: 1, bottom: 1, middle: 1 }, Kh = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function ek(t) {
  return typeof t == "string" && (t.indexOf("px") !== -1 || t.indexOf("rem") !== -1 || t.indexOf("em") !== -1) ? t : isNaN(+t) ? Qc + "px" : t + "px";
}
function Jh(t, e) {
  for (var n = 0; n < Kh.length; n++) {
    var r = Kh[n], o = e[r];
    o != null && (t[r] = o);
  }
}
function tk(t) {
  return t.fontSize != null || t.fontFamily || t.fontWeight;
}
function nk(t) {
  return Qh(t), X(t.rich, Qh), t;
}
function Qh(t) {
  if (t) {
    t.font = Ma.makeFont(t);
    var e = t.align;
    e === "middle" && (e = "center"), t.align = e == null || JA[e] ? e : "left";
    var n = t.verticalAlign;
    n === "center" && (n = "middle"), t.verticalAlign = n == null || QA[n] ? n : "top";
    var r = t.padding;
    r && (t.padding = mF(t.padding));
  }
}
function ep(t, e) {
  return t == null || e <= 0 || t === "transparent" || t === "none" ? null : t.image || t.colorStops ? "#000" : t;
}
function tp(t) {
  return t == null || t === "none" ? null : t.image || t.colorStops ? "#000" : t;
}
function np(t, e, n) {
  return e === "right" ? t - n[1] : e === "center" ? t + n[3] / 2 - n[1] / 2 : t + n[3];
}
function rp(t) {
  var e = t.text;
  return e != null && (e += ""), e;
}
function jl(t) {
  return !!(t.backgroundColor || t.lineHeight || t.borderWidth && t.borderColor);
}
var Pt = it(), rk = function(t, e, n, r) {
  if (r) {
    var o = Pt(r);
    o.dataIndex = n, o.dataType = e, o.seriesIndex = t, o.ssrType = "chart", r.type === "group" && r.traverse(function(a) {
      var i = Pt(a);
      i.seriesIndex = t, i.dataIndex = n, i.dataType = e, i.ssrType = "chart";
    });
  }
}, op = 1, ap = {}, zy = it(), hf = it(), By = 0, pf = 1, vf = 2, xo = ["emphasis", "blur", "select"], ip = ["normal", "emphasis", "blur", "select"], ok = 10, ak = 9, $r = "highlight", zi = "downplay", ya = "select", Bi = "unselect", ma = "toggleSelect";
function Zr(t) {
  return t != null && t !== "none";
}
function Ys(t, e, n) {
  t.onHoverStateChange && (t.hoverState || 0) !== n && t.onHoverStateChange(e), t.hoverState = n;
}
function Wy(t) {
  Ys(t, "emphasis", vf);
}
function Ny(t) {
  t.hoverState === vf && Ys(t, "normal", By);
}
function gf(t) {
  Ys(t, "blur", pf);
}
function Hy(t) {
  t.hoverState === pf && Ys(t, "normal", By);
}
function ik(t) {
  t.selected = !0;
}
function sk(t) {
  t.selected = !1;
}
function sp(t, e, n) {
  e(t, n);
}
function qn(t, e, n) {
  sp(t, e, n), t.isGroup && t.traverse(function(r) {
    sp(r, e, n);
  });
}
function lk(t, e, n, r) {
  for (var o = t.style, a = {}, i = 0; i < e.length; i++) {
    var s = e[i], l = o[s];
    a[s] = l ?? (r && r[s]);
  }
  for (var i = 0; i < t.animators.length; i++) {
    var u = t.animators[i];
    u.__fromStateTransition && u.__fromStateTransition.indexOf(n) < 0 && u.targetName === "style" && u.saveTo(a, e);
  }
  return a;
}
function uk(t, e, n, r) {
  var o = n && He(n, "select") >= 0, a = !1;
  if (t instanceof Ve) {
    var i = zy(t), s = o && i.selectFill || i.normalFill, l = o && i.selectStroke || i.normalStroke;
    if (Zr(s) || Zr(l)) {
      r = r || {};
      var u = r.style || {};
      u.fill === "inherit" ? (a = !0, r = ie({}, r), u = ie({}, u), u.fill = s) : !Zr(u.fill) && Zr(s) ? (a = !0, r = ie({}, r), u = ie({}, u), u.fill = Fh(s)) : !Zr(u.stroke) && Zr(l) && (a || (r = ie({}, r), u = ie({}, u)), u.stroke = Fh(l)), r.style = u;
    }
  }
  if (r && r.z2 == null) {
    a || (r = ie({}, r));
    var c = t.z2EmphasisLift;
    r.z2 = t.z2 + (c ?? ok);
  }
  return r;
}
function ck(t, e, n) {
  if (n && n.z2 == null) {
    n = ie({}, n);
    var r = t.z2SelectLift;
    n.z2 = t.z2 + (r ?? ak);
  }
  return n;
}
function fk(t, e, n) {
  var r = He(t.currentStates, e) >= 0, o = t.style.opacity, a = r ? null : lk(t, ["opacity"], e, {
    opacity: 1
  });
  n = n || {};
  var i = n.style || {};
  return i.opacity == null && (n = ie({}, n), i = ie({
    // Already being applied 'emphasis'. DON'T mul opacity multiple times.
    opacity: r ? o : a.opacity * 0.1
  }, i), n.style = i), n;
}
function Ul(t, e) {
  var n = this.states[t];
  if (this.style) {
    if (t === "emphasis")
      return uk(this, t, e, n);
    if (t === "blur")
      return fk(this, t, n);
    if (t === "select")
      return ck(this, t, n);
  }
  return n;
}
function dk(t) {
  t.stateProxy = Ul;
  var e = t.getTextContent(), n = t.getTextGuideLine();
  e && (e.stateProxy = Ul), n && (n.stateProxy = Ul);
}
function lp(t, e) {
  !Uy(t, e) && !t.__highByOuter && qn(t, Wy);
}
function up(t, e) {
  !Uy(t, e) && !t.__highByOuter && qn(t, Ny);
}
function oc(t, e) {
  t.__highByOuter |= 1 << (e || 0), qn(t, Wy);
}
function ac(t, e) {
  !(t.__highByOuter &= ~(1 << (e || 0))) && qn(t, Ny);
}
function hk(t) {
  qn(t, gf);
}
function Vy(t) {
  qn(t, Hy);
}
function qy(t) {
  qn(t, ik);
}
function jy(t) {
  qn(t, sk);
}
function Uy(t, e) {
  return t.__highDownSilentOnTouch && e.zrByTouch;
}
function Yy(t) {
  var e = t.getModel(), n = [], r = [];
  e.eachComponent(function(o, a) {
    var i = hf(a), s = o === "series", l = s ? t.getViewOfSeriesModel(a) : t.getViewOfComponentModel(a);
    !s && r.push(l), i.isBlured && (l.group.traverse(function(u) {
      Hy(u);
    }), s && n.push(a)), i.isBlured = !1;
  }), X(r, function(o) {
    o && o.toggleBlurSeries && o.toggleBlurSeries(n, !1, e);
  });
}
function ic(t, e, n, r) {
  var o = r.getModel();
  n = n || "coordinateSystem";
  function a(u, c) {
    for (var f = 0; f < c.length; f++) {
      var h = u.getItemGraphicEl(c[f]);
      h && Vy(h);
    }
  }
  if (t != null && !(!e || e === "none")) {
    var i = o.getSeriesByIndex(t), s = i.coordinateSystem;
    s && s.master && (s = s.master);
    var l = [];
    o.eachSeries(function(u) {
      var c = i === u, f = u.coordinateSystem;
      f && f.master && (f = f.master);
      var h = f && s ? f === s : c;
      if (!// Not blur other series if blurScope series
      (n === "series" && !c || n === "coordinateSystem" && !h || e === "series" && c)) {
        var d = r.getViewOfSeriesModel(u);
        if (d.group.traverse(function(g) {
          g.__highByOuter && c && e === "self" || gf(g);
        }), Wt(e))
          a(u.getData(), e);
        else if (_e(e))
          for (var p = Ke(e), m = 0; m < p.length; m++)
            a(u.getData(p[m]), e[p[m]]);
        l.push(u), hf(u).isBlured = !0;
      }
    }), o.eachComponent(function(u, c) {
      if (u !== "series") {
        var f = r.getViewOfComponentModel(c);
        f && f.toggleBlurSeries && f.toggleBlurSeries(l, !0, o);
      }
    });
  }
}
function sc(t, e, n) {
  if (!(t == null || e == null)) {
    var r = n.getModel().getComponent(t, e);
    if (r) {
      hf(r).isBlured = !0;
      var o = n.getViewOfComponentModel(r);
      !o || !o.focusBlurEnabled || o.group.traverse(function(a) {
        gf(a);
      });
    }
  }
}
function pk(t, e, n) {
  var r = t.seriesIndex, o = t.getData(e.dataType);
  if (o) {
    var a = Hs(o, e);
    a = (Ce(a) ? a[0] : a) || 0;
    var i = o.getItemGraphicEl(a);
    if (!i)
      for (var s = o.count(), l = 0; !i && l < s; )
        i = o.getItemGraphicEl(l++);
    if (i) {
      var u = Pt(i);
      ic(r, u.focus, u.blurScope, n);
    } else {
      var c = t.get(["emphasis", "focus"]), f = t.get(["emphasis", "blurScope"]);
      c != null && ic(r, c, f, n);
    }
  }
}
function yf(t, e, n, r) {
  var o = {
    focusSelf: !1,
    dispatchers: null
  };
  if (t == null || t === "series" || e == null || n == null)
    return o;
  var a = r.getModel().getComponent(t, e);
  if (!a)
    return o;
  var i = r.getViewOfComponentModel(a);
  if (!i || !i.findHighDownDispatchers)
    return o;
  for (var s = i.findHighDownDispatchers(n), l, u = 0; u < s.length; u++)
    if (Pt(s[u]).focus === "self") {
      l = !0;
      break;
    }
  return {
    focusSelf: l,
    dispatchers: s
  };
}
function vk(t, e, n) {
  var r = Pt(t), o = yf(r.componentMainType, r.componentIndex, r.componentHighDownName, n), a = o.dispatchers, i = o.focusSelf;
  a ? (i && sc(r.componentMainType, r.componentIndex, n), X(a, function(s) {
    return lp(s, e);
  })) : (ic(r.seriesIndex, r.focus, r.blurScope, n), r.focus === "self" && sc(r.componentMainType, r.componentIndex, n), lp(t, e));
}
function gk(t, e, n) {
  Yy(n);
  var r = Pt(t), o = yf(r.componentMainType, r.componentIndex, r.componentHighDownName, n).dispatchers;
  o ? X(o, function(a) {
    return up(a, e);
  }) : up(t, e);
}
function yk(t, e, n) {
  if (uc(e)) {
    var r = e.dataType, o = t.getData(r), a = Hs(o, e);
    Ce(a) || (a = [a]), t[e.type === ma ? "toggleSelect" : e.type === ya ? "select" : "unselect"](a, r);
  }
}
function cp(t) {
  var e = t.getAllData();
  X(e, function(n) {
    var r = n.data, o = n.type;
    r.eachItemGraphicEl(function(a, i) {
      t.isSelected(i, o) ? qy(a) : jy(a);
    });
  });
}
function mk(t) {
  var e = [];
  return t.eachSeries(function(n) {
    var r = n.getAllData();
    X(r, function(o) {
      o.data;
      var a = o.type, i = n.getSelectedDataIndices();
      if (i.length > 0) {
        var s = {
          dataIndex: i,
          seriesIndex: n.seriesIndex
        };
        a != null && (s.dataType = a), e.push(s);
      }
    });
  }), e;
}
function Sk(t, e, n) {
  wk(t), qn(t, dk), bk(t);
}
function bk(t, e, n) {
  var r = Pt(t);
  r.focus && (r.focus = null);
}
function wk(t, e) {
  var n = t;
  t.highDownSilentOnTouch && (n.__highDownSilentOnTouch = t.highDownSilentOnTouch), n.__highByOuter = n.__highByOuter || 0, n.__highDownDispatcher = !0;
}
function lc(t) {
  return !!(t && t.__highDownDispatcher);
}
function _k(t) {
  var e = ap[t];
  return e == null && op <= 32 && (e = ap[t] = op++), e;
}
function uc(t) {
  var e = t.type;
  return e === ya || e === Bi || e === ma;
}
function fp(t) {
  var e = t.type;
  return e === $r || e === zi;
}
function xk(t) {
  var e = zy(t);
  e.normalFill = t.style.fill, e.normalStroke = t.style.stroke;
  var n = t.states.select || {};
  e.selectFill = n.style && n.style.fill || null, e.selectStroke = n.style && n.style.stroke || null;
}
var Kr = Wr.CMD, Dk = [[], [], []], dp = Math.sqrt, Ck = Math.atan2;
function Tk(t, e) {
  if (e) {
    var n = t.data, r = t.len(), o, a, i, s, l, u, c = Kr.M, f = Kr.C, h = Kr.L, d = Kr.R, p = Kr.A, m = Kr.Q;
    for (i = 0, s = 0; i < r; ) {
      switch (o = n[i++], s = i, a = 0, o) {
        case c:
          a = 1;
          break;
        case h:
          a = 1;
          break;
        case f:
          a = 3;
          break;
        case m:
          a = 2;
          break;
        case p:
          var g = e[4], v = e[5], y = dp(e[0] * e[0] + e[1] * e[1]), S = dp(e[2] * e[2] + e[3] * e[3]), b = Ck(-e[1] / S, e[0] / y);
          n[i] *= y, n[i++] += g, n[i] *= S, n[i++] += v, n[i++] *= y, n[i++] *= S, n[i++] += b, n[i++] += b, i += 2, s = i;
          break;
        case d:
          u[0] = n[i++], u[1] = n[i++], fa(u, u, e), n[s++] = u[0], n[s++] = u[1], u[0] += n[i++], u[1] += n[i++], fa(u, u, e), n[s++] = u[0], n[s++] = u[1];
      }
      for (l = 0; l < a; l++) {
        var _ = Dk[l];
        _[0] = n[i++], _[1] = n[i++], fa(_, _, e), n[s++] = _[0], n[s++] = _[1];
      }
    }
    t.increaseVersion();
  }
}
var Yl = Math.sqrt, ii = Math.sin, si = Math.cos, Ho = Math.PI;
function hp(t) {
  return Math.sqrt(t[0] * t[0] + t[1] * t[1]);
}
function cc(t, e) {
  return (t[0] * e[0] + t[1] * e[1]) / (hp(t) * hp(e));
}
function pp(t, e) {
  return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(cc(t, e));
}
function vp(t, e, n, r, o, a, i, s, l, u, c) {
  var f = l * (Ho / 180), h = si(f) * (t - n) / 2 + ii(f) * (e - r) / 2, d = -1 * ii(f) * (t - n) / 2 + si(f) * (e - r) / 2, p = h * h / (i * i) + d * d / (s * s);
  p > 1 && (i *= Yl(p), s *= Yl(p));
  var m = (o === a ? -1 : 1) * Yl((i * i * (s * s) - i * i * (d * d) - s * s * (h * h)) / (i * i * (d * d) + s * s * (h * h))) || 0, g = m * i * d / s, v = m * -s * h / i, y = (t + n) / 2 + si(f) * g - ii(f) * v, S = (e + r) / 2 + ii(f) * g + si(f) * v, b = pp([1, 0], [(h - g) / i, (d - v) / s]), _ = [(h - g) / i, (d - v) / s], w = [(-1 * h - g) / i, (-1 * d - v) / s], T = pp(_, w);
  if (cc(_, w) <= -1 && (T = Ho), cc(_, w) >= 1 && (T = 0), T < 0) {
    var C = Math.round(T / Ho * 1e6) / 1e6;
    T = Ho * 2 + C % 2 * Ho;
  }
  c.addData(u, y, S, i, s, b, T, f, a);
}
var Fk = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig, Ak = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function kk(t) {
  var e = new Wr();
  if (!t)
    return e;
  var n = 0, r = 0, o = n, a = r, i, s = Wr.CMD, l = t.match(Fk);
  if (!l)
    return e;
  for (var u = 0; u < l.length; u++) {
    for (var c = l[u], f = c.charAt(0), h = void 0, d = c.match(Ak) || [], p = d.length, m = 0; m < p; m++)
      d[m] = parseFloat(d[m]);
    for (var g = 0; g < p; ) {
      var v = void 0, y = void 0, S = void 0, b = void 0, _ = void 0, w = void 0, T = void 0, C = n, x = r, D = void 0, F = void 0;
      switch (f) {
        case "l":
          n += d[g++], r += d[g++], h = s.L, e.addData(h, n, r);
          break;
        case "L":
          n = d[g++], r = d[g++], h = s.L, e.addData(h, n, r);
          break;
        case "m":
          n += d[g++], r += d[g++], h = s.M, e.addData(h, n, r), o = n, a = r, f = "l";
          break;
        case "M":
          n = d[g++], r = d[g++], h = s.M, e.addData(h, n, r), o = n, a = r, f = "L";
          break;
        case "h":
          n += d[g++], h = s.L, e.addData(h, n, r);
          break;
        case "H":
          n = d[g++], h = s.L, e.addData(h, n, r);
          break;
        case "v":
          r += d[g++], h = s.L, e.addData(h, n, r);
          break;
        case "V":
          r = d[g++], h = s.L, e.addData(h, n, r);
          break;
        case "C":
          h = s.C, e.addData(h, d[g++], d[g++], d[g++], d[g++], d[g++], d[g++]), n = d[g - 2], r = d[g - 1];
          break;
        case "c":
          h = s.C, e.addData(h, d[g++] + n, d[g++] + r, d[g++] + n, d[g++] + r, d[g++] + n, d[g++] + r), n += d[g - 2], r += d[g - 1];
          break;
        case "S":
          v = n, y = r, D = e.len(), F = e.data, i === s.C && (v += n - F[D - 4], y += r - F[D - 3]), h = s.C, C = d[g++], x = d[g++], n = d[g++], r = d[g++], e.addData(h, v, y, C, x, n, r);
          break;
        case "s":
          v = n, y = r, D = e.len(), F = e.data, i === s.C && (v += n - F[D - 4], y += r - F[D - 3]), h = s.C, C = n + d[g++], x = r + d[g++], n += d[g++], r += d[g++], e.addData(h, v, y, C, x, n, r);
          break;
        case "Q":
          C = d[g++], x = d[g++], n = d[g++], r = d[g++], h = s.Q, e.addData(h, C, x, n, r);
          break;
        case "q":
          C = d[g++] + n, x = d[g++] + r, n += d[g++], r += d[g++], h = s.Q, e.addData(h, C, x, n, r);
          break;
        case "T":
          v = n, y = r, D = e.len(), F = e.data, i === s.Q && (v += n - F[D - 4], y += r - F[D - 3]), n = d[g++], r = d[g++], h = s.Q, e.addData(h, v, y, n, r);
          break;
        case "t":
          v = n, y = r, D = e.len(), F = e.data, i === s.Q && (v += n - F[D - 4], y += r - F[D - 3]), n += d[g++], r += d[g++], h = s.Q, e.addData(h, v, y, n, r);
          break;
        case "A":
          S = d[g++], b = d[g++], _ = d[g++], w = d[g++], T = d[g++], C = n, x = r, n = d[g++], r = d[g++], h = s.A, vp(C, x, n, r, w, T, S, b, _, h, e);
          break;
        case "a":
          S = d[g++], b = d[g++], _ = d[g++], w = d[g++], T = d[g++], C = n, x = r, n += d[g++], r += d[g++], h = s.A, vp(C, x, n, r, w, T, S, b, _, h, e);
          break;
      }
    }
    (f === "z" || f === "Z") && (h = s.Z, e.addData(h), n = o, r = a), i = h;
  }
  return e.toStatic(), e;
}
var Ek = function(t) {
  Te(e, t);
  function e() {
    return t !== null && t.apply(this, arguments) || this;
  }
  return e.prototype.applyTransform = function(n) {
  }, e;
}(Ve);
function Mk(t) {
  return t.setData != null;
}
function Ok(t, e) {
  var n = kk(t), r = ie({}, e);
  return r.buildPath = function(o) {
    if (Mk(o)) {
      o.setData(n.data);
      var a = o.getContext();
      a && o.rebuildPath(a, 1);
    } else {
      var a = o;
      n.rebuildPath(a, 1);
    }
  }, r.applyTransform = function(o) {
    Tk(n, o), this.dirtyShape();
  }, r;
}
function Rk(t, e) {
  return new Ek(Ok(t, e));
}
var Lk = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r = 0;
  }
  return t;
}(), Gs = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new Lk();
  }, e.prototype.buildPath = function(n, r) {
    n.moveTo(r.cx + r.r, r.cy), n.arc(r.cx, r.cy, r.r, 0, Math.PI * 2);
  }, e;
}(Ve);
Gs.prototype.type = "circle";
var $k = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0;
  }
  return t;
}(), Gy = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new $k();
  }, e.prototype.buildPath = function(n, r) {
    var o = 0.5522848, a = r.cx, i = r.cy, s = r.rx, l = r.ry, u = s * o, c = l * o;
    n.moveTo(a - s, i), n.bezierCurveTo(a - s, i - c, a - u, i - l, a, i - l), n.bezierCurveTo(a + u, i - l, a + s, i - c, a + s, i), n.bezierCurveTo(a + s, i + c, a + u, i + l, a, i + l), n.bezierCurveTo(a - u, i + l, a - s, i + c, a - s, i), n.closePath();
  }, e;
}(Ve);
Gy.prototype.type = "ellipse";
var Xy = Math.PI, Gl = Xy * 2, br = Math.sin, Jr = Math.cos, Ik = Math.acos, st = Math.atan2, gp = Math.abs, Sa = Math.sqrt, oa = Math.max, pn = Math.min, Jt = 1e-4;
function Pk(t, e, n, r, o, a, i, s) {
  var l = n - t, u = r - e, c = i - o, f = s - a, h = f * l - c * u;
  if (!(h * h < Jt))
    return h = (c * (e - a) - f * (t - o)) / h, [t + h * l, e + h * u];
}
function li(t, e, n, r, o, a, i) {
  var s = t - n, l = e - r, u = (i ? a : -a) / Sa(s * s + l * l), c = u * l, f = -u * s, h = t + c, d = e + f, p = n + c, m = r + f, g = (h + p) / 2, v = (d + m) / 2, y = p - h, S = m - d, b = y * y + S * S, _ = o - a, w = h * m - p * d, T = (S < 0 ? -1 : 1) * Sa(oa(0, _ * _ * b - w * w)), C = (w * S - y * T) / b, x = (-w * y - S * T) / b, D = (w * S + y * T) / b, F = (-w * y + S * T) / b, I = C - g, P = x - v, O = D - g, k = F - v;
  return I * I + P * P > O * O + k * k && (C = D, x = F), {
    cx: C,
    cy: x,
    x0: -c,
    y0: -f,
    x1: C * (o / _ - 1),
    y1: x * (o / _ - 1)
  };
}
function zk(t) {
  var e;
  if (Ce(t)) {
    var n = t.length;
    if (!n)
      return t;
    n === 1 ? e = [t[0], t[0], 0, 0] : n === 2 ? e = [t[0], t[0], t[1], t[1]] : n === 3 ? e = t.concat(t[2]) : e = t;
  } else
    e = [t, t, t, t];
  return e;
}
function Bk(t, e) {
  var n, r = oa(e.r, 0), o = oa(e.r0 || 0, 0), a = r > 0, i = o > 0;
  if (!(!a && !i)) {
    if (a || (r = o, o = 0), o > r) {
      var s = r;
      r = o, o = s;
    }
    var l = e.startAngle, u = e.endAngle;
    if (!(isNaN(l) || isNaN(u))) {
      var c = e.cx, f = e.cy, h = !!e.clockwise, d = gp(u - l), p = d > Gl && d % Gl;
      if (p > Jt && (d = p), !(r > Jt))
        t.moveTo(c, f);
      else if (d > Gl - Jt)
        t.moveTo(c + r * Jr(l), f + r * br(l)), t.arc(c, f, r, l, u, !h), o > Jt && (t.moveTo(c + o * Jr(u), f + o * br(u)), t.arc(c, f, o, u, l, h));
      else {
        var m = void 0, g = void 0, v = void 0, y = void 0, S = void 0, b = void 0, _ = void 0, w = void 0, T = void 0, C = void 0, x = void 0, D = void 0, F = void 0, I = void 0, P = void 0, O = void 0, k = r * Jr(l), $ = r * br(l), M = o * Jr(u), A = o * br(u), L = d > Jt;
        if (L) {
          var R = e.cornerRadius;
          R && (n = zk(R), m = n[0], g = n[1], v = n[2], y = n[3]);
          var E = gp(r - o) / 2;
          if (S = pn(E, v), b = pn(E, y), _ = pn(E, m), w = pn(E, g), x = T = oa(S, b), D = C = oa(_, w), (T > Jt || C > Jt) && (F = r * Jr(u), I = r * br(u), P = o * Jr(l), O = o * br(l), d < Xy)) {
            var B = Pk(k, $, P, O, F, I, M, A);
            if (B) {
              var W = k - B[0], z = $ - B[1], V = F - B[0], q = I - B[1], U = 1 / br(Ik((W * V + z * q) / (Sa(W * W + z * z) * Sa(V * V + q * q))) / 2), K = Sa(B[0] * B[0] + B[1] * B[1]);
              x = pn(T, (r - K) / (U + 1)), D = pn(C, (o - K) / (U - 1));
            }
          }
        }
        if (!L)
          t.moveTo(c + k, f + $);
        else if (x > Jt) {
          var Z = pn(v, x), ee = pn(y, x), te = li(P, O, k, $, r, Z, h), re = li(F, I, M, A, r, ee, h);
          t.moveTo(c + te.cx + te.x0, f + te.cy + te.y0), x < T && Z === ee ? t.arc(c + te.cx, f + te.cy, x, st(te.y0, te.x0), st(re.y0, re.x0), !h) : (Z > 0 && t.arc(c + te.cx, f + te.cy, Z, st(te.y0, te.x0), st(te.y1, te.x1), !h), t.arc(c, f, r, st(te.cy + te.y1, te.cx + te.x1), st(re.cy + re.y1, re.cx + re.x1), !h), ee > 0 && t.arc(c + re.cx, f + re.cy, ee, st(re.y1, re.x1), st(re.y0, re.x0), !h));
        } else
          t.moveTo(c + k, f + $), t.arc(c, f, r, l, u, !h);
        if (!(o > Jt) || !L)
          t.lineTo(c + M, f + A);
        else if (D > Jt) {
          var Z = pn(m, D), ee = pn(g, D), te = li(M, A, F, I, o, -ee, h), re = li(k, $, P, O, o, -Z, h);
          t.lineTo(c + te.cx + te.x0, f + te.cy + te.y0), D < C && Z === ee ? t.arc(c + te.cx, f + te.cy, D, st(te.y0, te.x0), st(re.y0, re.x0), !h) : (ee > 0 && t.arc(c + te.cx, f + te.cy, ee, st(te.y0, te.x0), st(te.y1, te.x1), !h), t.arc(c, f, o, st(te.cy + te.y1, te.cx + te.x1), st(re.cy + re.y1, re.cx + re.x1), h), Z > 0 && t.arc(c + re.cx, f + re.cy, Z, st(re.y1, re.x1), st(re.y0, re.x0), !h));
        } else
          t.lineTo(c + M, f + A), t.arc(c, f, o, u, l, h);
      }
      t.closePath();
    }
  }
}
var Wk = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0, this.cornerRadius = 0;
  }
  return t;
}(), Zy = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new Wk();
  }, e.prototype.buildPath = function(n, r) {
    Bk(n, r);
  }, e.prototype.isZeroArea = function() {
    return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
  }, e;
}(Ve);
Zy.prototype.type = "sector";
var Nk = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0;
  }
  return t;
}(), Ky = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new Nk();
  }, e.prototype.buildPath = function(n, r) {
    var o = r.cx, a = r.cy, i = Math.PI * 2;
    n.moveTo(o + r.r, a), n.arc(o, a, r.r, 0, i, !1), n.moveTo(o + r.r0, a), n.arc(o, a, r.r0, 0, i, !0);
  }, e;
}(Ve);
Ky.prototype.type = "ring";
function Hk(t, e, n, r) {
  var o = [], a = [], i = [], s = [], l, u, c, f;
  if (r) {
    c = [1 / 0, 1 / 0], f = [-1 / 0, -1 / 0];
    for (var h = 0, d = t.length; h < d; h++)
      so(c, c, t[h]), lo(f, f, t[h]);
    so(c, c, r[0]), lo(f, f, r[1]);
  }
  for (var h = 0, d = t.length; h < d; h++) {
    var p = t[h];
    if (n)
      l = t[h ? h - 1 : d - 1], u = t[(h + 1) % d];
    else if (h === 0 || h === d - 1) {
      o.push(DF(t[h]));
      continue;
    } else
      l = t[h - 1], u = t[h + 1];
    CF(a, u, l), fl(a, a, e);
    var m = Wu(p, l), g = Wu(p, u), v = m + g;
    v !== 0 && (m /= v, g /= v), fl(i, a, -m), fl(s, a, g);
    var y = uh([], p, i), S = uh([], p, s);
    r && (lo(y, y, c), so(y, y, f), lo(S, S, c), so(S, S, f)), o.push(y), o.push(S);
  }
  return n && o.push(o.shift()), o;
}
function Jy(t, e, n) {
  var r = e.smooth, o = e.points;
  if (o && o.length >= 2) {
    if (r) {
      var a = Hk(o, r, n, e.smoothConstraint);
      t.moveTo(o[0][0], o[0][1]);
      for (var i = o.length, s = 0; s < (n ? i : i - 1); s++) {
        var l = a[s * 2], u = a[s * 2 + 1], c = o[(s + 1) % i];
        t.bezierCurveTo(l[0], l[1], u[0], u[1], c[0], c[1]);
      }
    } else {
      t.moveTo(o[0][0], o[0][1]);
      for (var s = 1, f = o.length; s < f; s++)
        t.lineTo(o[s][0], o[s][1]);
    }
    n && t.closePath();
  }
}
var Vk = /* @__PURE__ */ function() {
  function t() {
    this.points = null, this.smooth = 0, this.smoothConstraint = null;
  }
  return t;
}(), Qy = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultShape = function() {
    return new Vk();
  }, e.prototype.buildPath = function(n, r) {
    Jy(n, r, !0);
  }, e;
}(Ve);
Qy.prototype.type = "polygon";
var qk = /* @__PURE__ */ function() {
  function t() {
    this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null;
  }
  return t;
}(), mf = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new qk();
  }, e.prototype.buildPath = function(n, r) {
    Jy(n, r, !1);
  }, e;
}(Ve);
mf.prototype.type = "polyline";
var jk = {}, Uk = /* @__PURE__ */ function() {
  function t() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
  }
  return t;
}(), Sf = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new Uk();
  }, e.prototype.buildPath = function(n, r) {
    var o, a, i, s;
    if (this.subPixelOptimize) {
      var l = YA(jk, r, this.style);
      o = l.x1, a = l.y1, i = l.x2, s = l.y2;
    } else
      o = r.x1, a = r.y1, i = r.x2, s = r.y2;
    var u = r.percent;
    u !== 0 && (n.moveTo(o, a), u < 1 && (i = o * (1 - u) + i * u, s = a * (1 - u) + s * u), n.lineTo(i, s));
  }, e.prototype.pointAt = function(n) {
    var r = this.shape;
    return [
      r.x1 * (1 - n) + r.x2 * n,
      r.y1 * (1 - n) + r.y2 * n
    ];
  }, e;
}(Ve);
Sf.prototype.type = "line";
var bt = [], Yk = /* @__PURE__ */ function() {
  function t() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1;
  }
  return t;
}();
function yp(t, e, n) {
  var r = t.cpx2, o = t.cpy2;
  return r != null || o != null ? [
    (n ? bh : at)(t.x1, t.cpx1, t.cpx2, t.x2, e),
    (n ? bh : at)(t.y1, t.cpy1, t.cpy2, t.y2, e)
  ] : [
    (n ? wh : ct)(t.x1, t.cpx1, t.x2, e),
    (n ? wh : ct)(t.y1, t.cpy1, t.y2, e)
  ];
}
var em = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new Yk();
  }, e.prototype.buildPath = function(n, r) {
    var o = r.x1, a = r.y1, i = r.x2, s = r.y2, l = r.cpx1, u = r.cpy1, c = r.cpx2, f = r.cpy2, h = r.percent;
    h !== 0 && (n.moveTo(o, a), c == null || f == null ? (h < 1 && (is(o, l, i, h, bt), l = bt[1], i = bt[2], is(a, u, s, h, bt), u = bt[1], s = bt[2]), n.quadraticCurveTo(l, u, i, s)) : (h < 1 && (as(o, l, c, i, h, bt), l = bt[1], c = bt[2], i = bt[3], as(a, u, f, s, h, bt), u = bt[1], f = bt[2], s = bt[3]), n.bezierCurveTo(l, u, c, f, i, s)));
  }, e.prototype.pointAt = function(n) {
    return yp(this.shape, n, !1);
  }, e.prototype.tangentAt = function(n) {
    var r = yp(this.shape, n, !0);
    return AF(r, r);
  }, e;
}(Ve);
em.prototype.type = "bezier-curve";
var Gk = /* @__PURE__ */ function() {
  function t() {
    this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
  }
  return t;
}(), bf = function(t) {
  Te(e, t);
  function e(n) {
    return t.call(this, n) || this;
  }
  return e.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, e.prototype.getDefaultShape = function() {
    return new Gk();
  }, e.prototype.buildPath = function(n, r) {
    var o = r.cx, a = r.cy, i = Math.max(r.r, 0), s = r.startAngle, l = r.endAngle, u = r.clockwise, c = Math.cos(s), f = Math.sin(s);
    n.moveTo(c * i + o, f * i + a), n.arc(o, a, i, s, l, !u);
  }, e;
}(Ve);
bf.prototype.type = "arc";
var Xk = function(t) {
  Te(e, t);
  function e() {
    var n = t !== null && t.apply(this, arguments) || this;
    return n.type = "compound", n;
  }
  return e.prototype._updatePathDirty = function() {
    for (var n = this.shape.paths, r = this.shapeChanged(), o = 0; o < n.length; o++)
      r = r || n[o].shapeChanged();
    r && this.dirtyShape();
  }, e.prototype.beforeBrush = function() {
    this._updatePathDirty();
    for (var n = this.shape.paths || [], r = this.getGlobalScale(), o = 0; o < n.length; o++)
      n[o].path || n[o].createPathProxy(), n[o].path.setScale(r[0], r[1], n[o].segmentIgnoreThreshold);
  }, e.prototype.buildPath = function(n, r) {
    for (var o = r.paths || [], a = 0; a < o.length; a++)
      o[a].buildPath(n, o[a].shape, !0);
  }, e.prototype.afterBrush = function() {
    for (var n = this.shape.paths || [], r = 0; r < n.length; r++)
      n[r].pathUpdated();
  }, e.prototype.getBoundingRect = function() {
    return this._updatePathDirty.call(this), Ve.prototype.getBoundingRect.call(this);
  }, e;
}(Ve), wr = [0, 0], _r = [0, 0], ui = new De(), ci = new De(), fc = function() {
  function t(e, n) {
    this._corners = [], this._axes = [], this._origin = [0, 0];
    for (var r = 0; r < 4; r++)
      this._corners[r] = new De();
    for (var r = 0; r < 2; r++)
      this._axes[r] = new De();
    e && this.fromBoundingRect(e, n);
  }
  return t.prototype.fromBoundingRect = function(e, n) {
    var r = this._corners, o = this._axes, a = e.x, i = e.y, s = a + e.width, l = i + e.height;
    if (r[0].set(a, i), r[1].set(s, i), r[2].set(s, l), r[3].set(a, l), n)
      for (var u = 0; u < 4; u++)
        r[u].transform(n);
    De.sub(o[0], r[1], r[0]), De.sub(o[1], r[3], r[0]), o[0].normalize(), o[1].normalize();
    for (var u = 0; u < 2; u++)
      this._origin[u] = o[u].dot(r[0]);
  }, t.prototype.intersect = function(e, n) {
    var r = !0, o = !n;
    return ui.set(1 / 0, 1 / 0), ci.set(0, 0), !this._intersectCheckOneSide(this, e, ui, ci, o, 1) && (r = !1, o) || !this._intersectCheckOneSide(e, this, ui, ci, o, -1) && (r = !1, o) || o || De.copy(n, r ? ui : ci), r;
  }, t.prototype._intersectCheckOneSide = function(e, n, r, o, a, i) {
    for (var s = !0, l = 0; l < 2; l++) {
      var u = this._axes[l];
      if (this._getProjMinMaxOnAxis(l, e._corners, wr), this._getProjMinMaxOnAxis(l, n._corners, _r), wr[1] < _r[0] || wr[0] > _r[1]) {
        if (s = !1, a)
          return s;
        var c = Math.abs(_r[0] - wr[1]), f = Math.abs(wr[0] - _r[1]);
        Math.min(c, f) > o.len() && (c < f ? De.scale(o, u, -c * i) : De.scale(o, u, f * i));
      } else if (r) {
        var c = Math.abs(_r[0] - wr[1]), f = Math.abs(wr[0] - _r[1]);
        Math.min(c, f) < r.len() && (c < f ? De.scale(r, u, c * i) : De.scale(r, u, -f * i));
      }
    }
    return s;
  }, t.prototype._getProjMinMaxOnAxis = function(e, n, r) {
    for (var o = this._axes[e], a = this._origin, i = n[0].dot(o) + a[e], s = i, l = i, u = 1; u < n.length; u++) {
      var c = n[u].dot(o) + a[e];
      s = Math.min(c, s), l = Math.max(c, l);
    }
    r[0] = s, r[1] = l;
  }, t;
}();
it();
function Zk(t, e, n, r, o) {
  var a;
  if (e && e.ecModel) {
    var i = e.ecModel.getUpdatePayload();
    a = i && i.animation;
  }
  var s = e && e.isAnimationEnabled(), l = t === "update";
  if (s) {
    var u = void 0, c = void 0, f = void 0;
    r ? (u = Ee(r.duration, 200), c = Ee(r.easing, "cubicOut"), f = 0) : (u = e.getShallow(l ? "animationDurationUpdate" : "animationDuration"), c = e.getShallow(l ? "animationEasingUpdate" : "animationEasing"), f = e.getShallow(l ? "animationDelayUpdate" : "animationDelay")), a && (a.duration != null && (u = a.duration), a.easing != null && (c = a.easing), a.delay != null && (f = a.delay)), Be(f) && (f = f(n, o)), Be(u) && (u = u(n));
    var h = {
      duration: u || 0,
      delay: f,
      easing: c
    };
    return h;
  } else
    return null;
}
function tm(t, e, n, r, o, a, i) {
  var s = !1, l;
  Be(o) ? (i = a, a = o, o = null) : _e(o) && (a = o.cb, i = o.during, s = o.isFrom, l = o.removeOpt, o = o.dataIndex);
  var u = t === "leave";
  u || e.stopAnimation("leave");
  var c = Zk(t, r, o, u ? l || {} : null, r && r.getAnimationDelayParams ? r.getAnimationDelayParams(e, o) : null);
  if (c && c.duration > 0) {
    var f = c.duration, h = c.delay, d = c.easing, p = {
      duration: f,
      delay: h || 0,
      easing: d,
      done: a,
      force: !!a || !!i,
      // Set to final state in update/init animation.
      // So the post processing based on the path shape can be done correctly.
      setToFinal: !u,
      scope: t,
      during: i
    };
    s ? e.animateFrom(n, p) : e.animateTo(n, p);
  } else
    e.stopAnimation(), !s && e.attr(n), i && i(1), a && a();
}
function mo(t, e, n, r, o, a) {
  tm("update", t, e, n, r, o, a);
}
function cs(t, e, n, r, o, a) {
  tm("enter", t, e, n, r, o, a);
}
function Wi(t) {
  if (!t.__zr)
    return !0;
  for (var e = 0; e < t.animators.length; e++) {
    var n = t.animators[e];
    if (n.scope === "leave")
      return !0;
  }
  return !1;
}
var Kk = {};
function Jk(t) {
  return Ve.extend(t);
}
function An(t, e) {
  Kk[t] = e;
}
function dc(t, e, n, r) {
  var o = Rk(t, e);
  return n && (r === "center" && (n = nm(n, o.getBoundingRect())), eE(o, n)), o;
}
function Qk(t, e, n) {
  var r = new qa({
    style: {
      image: t,
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height
    },
    onload: function(o) {
      if (n === "center") {
        var a = {
          width: o.width,
          height: o.height
        };
        r.setStyle(nm(e, a));
      }
    }
  });
  return r;
}
function nm(t, e) {
  var n = e.width / e.height, r = t.height * n, o;
  r <= t.width ? o = t.height : (r = t.width, o = r / n);
  var a = t.x + t.width / 2, i = t.y + t.height / 2;
  return {
    x: a - r / 2,
    y: i - o / 2,
    width: r,
    height: o
  };
}
function eE(t, e) {
  if (t.applyTransform) {
    var n = t.getBoundingRect(), r = n.calculateTransform(e);
    t.applyTransform(r);
  }
}
function mp(t, e) {
  var n;
  t.isGroup && (n = e(t)), n || t.traverse(e);
}
function tE(t, e) {
  if (t)
    if (Ce(t))
      for (var n = 0; n < t.length; n++)
        mp(t[n], e);
    else
      mp(t, e);
}
An("circle", Gs);
An("ellipse", Gy);
An("sector", Zy);
An("ring", Ky);
An("polygon", Qy);
An("polyline", mf);
An("rect", an);
An("line", Sf);
An("bezierCurve", em);
An("arc", bf);
var wf = {};
function nE(t, e) {
  for (var n = 0; n < xo.length; n++) {
    var r = xo[n], o = e[r], a = t.ensureState(r);
    a.style = a.style || {}, a.style.text = o;
  }
  var i = t.currentStates.slice();
  t.clearStates(!0), t.setStyle({
    text: e.normal
  }), t.useStates(i, !0);
}
function rE(t, e, n) {
  var r = t.labelFetcher, o = t.labelDataIndex, a = t.labelDimIndex, i = e.normal, s;
  r && (s = r.getFormattedLabel(o, "normal", null, a, i && i.get("formatter"), n != null ? {
    interpolatedValue: n
  } : null)), s == null && (s = Be(t.defaultText) ? t.defaultText(o, t, n) : t.defaultText);
  for (var l = {
    normal: s
  }, u = 0; u < xo.length; u++) {
    var c = xo[u], f = e[c];
    l[c] = Ee(r ? r.getFormattedLabel(o, c, null, a, f && f.get("formatter")) : null, s);
  }
  return l;
}
function oE(t, e, n, r, o) {
  var a = {};
  return aE(a, t, n, r, o), a;
}
function aE(t, e, n, r, o) {
  n = n || wf;
  var a = e.ecModel, i = a && a.option.textStyle, s = iE(e), l;
  if (s) {
    l = {};
    for (var u in s)
      if (s.hasOwnProperty(u)) {
        var c = e.getModel(["rich", u]);
        _p(l[u] = {}, c, i, n, r, o, !1, !0);
      }
  }
  l && (t.rich = l);
  var f = e.get("overflow");
  f && (t.overflow = f);
  var h = e.get("minMargin");
  h != null && (t.margin = h), _p(t, e, i, n, r, o, !0, !1);
}
function iE(t) {
  for (var e; t && t !== t.ecModel; ) {
    var n = (t.option || wf).rich;
    if (n) {
      e = e || {};
      for (var r = Ke(n), o = 0; o < r.length; o++) {
        var a = r[o];
        e[a] = 1;
      }
    }
    t = t.parentModel;
  }
  return e;
}
var Sp = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], bp = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"], wp = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function _p(t, e, n, r, o, a, i, s) {
  n = !o && n || wf;
  var l = r && r.inheritColor, u = e.getShallow("color"), c = e.getShallow("textBorderColor"), f = Ee(e.getShallow("opacity"), n.opacity);
  (u === "inherit" || u === "auto") && (l ? u = l : u = null), (c === "inherit" || c === "auto") && (l ? c = l : c = null), u = u || n.color, c = c || n.textBorderColor, u != null && (t.fill = u), c != null && (t.stroke = c);
  var h = Ee(e.getShallow("textBorderWidth"), n.textBorderWidth);
  h != null && (t.lineWidth = h);
  var d = Ee(e.getShallow("textBorderType"), n.textBorderType);
  d != null && (t.lineDash = d);
  var p = Ee(e.getShallow("textBorderDashOffset"), n.textBorderDashOffset);
  p != null && (t.lineDashOffset = p), !o && f == null && !s && (f = r && r.defaultOpacity), f != null && (t.opacity = f), o || t.fill == null && r.inheritColor && (t.fill = r.inheritColor);
  for (var m = 0; m < Sp.length; m++) {
    var g = Sp[m], v = Ee(e.getShallow(g), n[g]);
    v != null && (t[g] = v);
  }
  for (var m = 0; m < bp.length; m++) {
    var g = bp[m], v = e.getShallow(g);
    v != null && (t[g] = v);
  }
  if (t.verticalAlign == null) {
    var y = e.getShallow("baseline");
    y != null && (t.verticalAlign = y);
  }
  if (!i || !r.disableBox) {
    for (var m = 0; m < wp.length; m++) {
      var g = wp[m], v = e.getShallow(g);
      v != null && (t[g] = v);
    }
    var S = e.getShallow("borderType");
    S != null && (t.borderDash = S), (t.backgroundColor === "auto" || t.backgroundColor === "inherit") && l && (t.backgroundColor = l), (t.borderColor === "auto" || t.borderColor === "inherit") && l && (t.borderColor = l);
  }
}
function sE(t, e) {
  var n = e && e.getModel("textStyle");
  return Qn([
    // FIXME in node-canvas fontWeight is before fontStyle
    t.fontStyle || n && n.getShallow("fontStyle") || "",
    t.fontWeight || n && n.getShallow("fontWeight") || "",
    (t.fontSize || n && n.getShallow("fontSize") || 12) + "px",
    t.fontFamily || n && n.getShallow("fontFamily") || "sans-serif"
  ].join(" "));
}
var rm = it();
function lE(t, e, n, r, o) {
  var a = rm(t);
  if (!a.valueAnimation || a.prevValue === a.value)
    return;
  var i = a.defaultInterpolatedText, s = Ee(a.interpolatedValue, a.prevValue), l = a.value;
  function u(c) {
    var f = nA(n, a.precision, s, l, c);
    a.interpolatedValue = c === 1 ? null : f;
    var h = rE({
      labelDataIndex: e,
      labelFetcher: o,
      defaultText: i ? i(f) : f + ""
    }, a.statesModels, f);
    nE(t, h);
  }
  t.percent = 0, (a.prevValue == null ? cs : mo)(t, {
    // percent is used to prevent animation from being aborted #15916
    percent: 1
  }, r, e, null, u);
}
var uE = ["textStyle", "color"], Xl = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], Zl = new Ma(), cE = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getTextColor = function(e) {
      var n = this.ecModel;
      return this.getShallow("color") || (!e && n ? n.get(uE) : null);
    }, t.prototype.getFont = function() {
      return sE({
        fontStyle: this.getShallow("fontStyle"),
        fontWeight: this.getShallow("fontWeight"),
        fontSize: this.getShallow("fontSize"),
        fontFamily: this.getShallow("fontFamily")
      }, this.ecModel);
    }, t.prototype.getTextRect = function(e) {
      for (var n = {
        text: e,
        verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
      }, r = 0; r < Xl.length; r++)
        n[Xl[r]] = this.getShallow(Xl[r]);
      return Zl.useStyle(n), Zl.update(), Zl.getBoundingRect();
    }, t;
  }()
), om = [
  ["lineWidth", "width"],
  ["stroke", "color"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "type"],
  ["lineDashOffset", "dashOffset"],
  ["lineCap", "cap"],
  ["lineJoin", "join"],
  ["miterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], fE = Ea(om), dE = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getLineStyle = function(e) {
      return fE(this, e);
    }, t;
  }()
), am = [
  ["fill", "color"],
  ["stroke", "borderColor"],
  ["lineWidth", "borderWidth"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "borderType"],
  ["lineDashOffset", "borderDashOffset"],
  ["lineCap", "borderCap"],
  ["lineJoin", "borderJoin"],
  ["miterLimit", "borderMiterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], hE = Ea(am), pE = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getItemStyle = function(e, n) {
      return hE(this, e, n);
    }, t;
  }()
), zt = (
  /** @class */
  function() {
    function t(e, n, r) {
      this.parentModel = n, this.ecModel = r, this.option = e;
    }
    return t.prototype.init = function(e, n, r) {
    }, t.prototype.mergeOption = function(e, n) {
      Je(this.option, e, !0);
    }, t.prototype.get = function(e, n) {
      return e == null ? this.option : this._doGet(this.parsePath(e), !n && this.parentModel);
    }, t.prototype.getShallow = function(e, n) {
      var r = this.option, o = r == null ? r : r[e];
      if (o == null && !n) {
        var a = this.parentModel;
        a && (o = a.getShallow(e));
      }
      return o;
    }, t.prototype.getModel = function(e, n) {
      var r = e != null, o = r ? this.parsePath(e) : null, a = r ? this._doGet(o) : this.option;
      return n = n || this.parentModel && this.parentModel.getModel(this.resolveParentPath(o)), new t(a, n, this.ecModel);
    }, t.prototype.isEmpty = function() {
      return this.option == null;
    }, t.prototype.restoreData = function() {
    }, t.prototype.clone = function() {
      var e = this.constructor;
      return new e(Re(this.option));
    }, t.prototype.parsePath = function(e) {
      return typeof e == "string" ? e.split(".") : e;
    }, t.prototype.resolveParentPath = function(e) {
      return e;
    }, t.prototype.isAnimationEnabled = function() {
      if (!ke.node && this.option) {
        if (this.option.animation != null)
          return !!this.option.animation;
        if (this.parentModel)
          return this.parentModel.isAnimationEnabled();
      }
    }, t.prototype._doGet = function(e, n) {
      var r = this.option;
      if (!e)
        return r;
      for (var o = 0; o < e.length && !(e[o] && (r = r && typeof r == "object" ? r[e[o]] : null, r == null)); o++)
        ;
      return r == null && n && (r = n._doGet(this.resolveParentPath(e), n.parentModel)), r;
    }, t;
  }()
);
ff(zt);
lA(zt);
Vn(zt, dE);
Vn(zt, pE);
Vn(zt, hA);
Vn(zt, cE);
var vE = Math.round(Math.random() * 10);
function Xs(t) {
  return [t || "", vE++].join("_");
}
function gE(t) {
  var e = {};
  t.registerSubTypeDefaulter = function(n, r) {
    var o = bn(n);
    e[o.main] = r;
  }, t.determineSubType = function(n, r) {
    var o = r.type;
    if (!o) {
      var a = bn(n).main;
      t.hasSubTypes(n) && e[a] && (o = e[a](r));
    }
    return o;
  };
}
function yE(t, e) {
  t.topologicalTravel = function(a, i, s, l) {
    if (!a.length)
      return;
    var u = n(i), c = u.graph, f = u.noEntryList, h = {};
    for (X(a, function(y) {
      h[y] = !0;
    }); f.length; ) {
      var d = f.pop(), p = c[d], m = !!h[d];
      m && (s.call(l, d, p.originalDeps.slice()), delete h[d]), X(p.successor, m ? v : g);
    }
    X(h, function() {
      var y = "";
      throw new Error(y);
    });
    function g(y) {
      c[y].entryCount--, c[y].entryCount === 0 && f.push(y);
    }
    function v(y) {
      h[y] = !0, g(y);
    }
  };
  function n(a) {
    var i = {}, s = [];
    return X(a, function(l) {
      var u = r(i, l), c = u.originalDeps = e(l), f = o(c, a);
      u.entryCount = f.length, u.entryCount === 0 && s.push(l), X(f, function(h) {
        He(u.predecessor, h) < 0 && u.predecessor.push(h);
        var d = r(i, h);
        He(d.successor, h) < 0 && d.successor.push(l);
      });
    }), {
      graph: i,
      noEntryList: s
    };
  }
  function r(a, i) {
    return a[i] || (a[i] = {
      predecessor: [],
      successor: []
    }), a[i];
  }
  function o(a, i) {
    var s = [];
    return X(a, function(l) {
      He(i, l) >= 0 && s.push(l);
    }), s;
  }
}
const mE = {
  time: {
    month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
  },
  legend: {
    selector: {
      all: "All",
      inverse: "Inv"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "Box Select",
        polygon: "Lasso Select",
        lineX: "Horizontally Select",
        lineY: "Vertically Select",
        keep: "Keep Selections",
        clear: "Clear Selections"
      }
    },
    dataView: {
      title: "Data View",
      lang: ["Data View", "Close", "Refresh"]
    },
    dataZoom: {
      title: {
        zoom: "Zoom",
        back: "Zoom Reset"
      }
    },
    magicType: {
      title: {
        line: "Switch to Line Chart",
        bar: "Switch to Bar Chart",
        stack: "Stack",
        tiled: "Tile"
      }
    },
    restore: {
      title: "Restore"
    },
    saveAsImage: {
      title: "Save as Image",
      lang: ["Right Click to Save Image"]
    }
  },
  series: {
    typeNames: {
      pie: "Pie chart",
      bar: "Bar chart",
      line: "Line chart",
      scatter: "Scatter plot",
      effectScatter: "Ripple scatter plot",
      radar: "Radar chart",
      tree: "Tree",
      treemap: "Treemap",
      boxplot: "Boxplot",
      candlestick: "Candlestick",
      k: "K line chart",
      heatmap: "Heat map",
      map: "Map",
      parallel: "Parallel coordinate map",
      lines: "Line graph",
      graph: "Relationship graph",
      sankey: "Sankey diagram",
      funnel: "Funnel chart",
      gauge: "Gauge",
      pictorialBar: "Pictorial bar",
      themeRiver: "Theme River Map",
      sunburst: "Sunburst",
      custom: "Custom chart",
      chart: "Chart"
    }
  },
  aria: {
    general: {
      withTitle: 'This is a chart about "{title}"',
      withoutTitle: "This is a chart"
    },
    series: {
      single: {
        prefix: "",
        withName: " with type {seriesType} named {seriesName}.",
        withoutName: " with type {seriesType}."
      },
      multiple: {
        prefix: ". It consists of {seriesCount} series count.",
        withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
        withoutName: " The {seriesId} series is a {seriesType}.",
        separator: {
          middle: "",
          end: ""
        }
      }
    },
    data: {
      allData: "The data is as follows: ",
      partialData: "The first {displayCnt} items are: ",
      withName: "the data for {name} is {value}",
      withoutName: "{value}",
      separator: {
        middle: ", ",
        end: ". "
      }
    }
  }
}, SE = {
  time: {
    month: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
    monthAbbr: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
    dayOfWeekAbbr: ["日", "一", "二", "三", "四", "五", "六"]
  },
  legend: {
    selector: {
      all: "全选",
      inverse: "反选"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "矩形选择",
        polygon: "圈选",
        lineX: "横向选择",
        lineY: "纵向选择",
        keep: "保持选择",
        clear: "清除选择"
      }
    },
    dataView: {
      title: "数据视图",
      lang: ["数据视图", "关闭", "刷新"]
    },
    dataZoom: {
      title: {
        zoom: "区域缩放",
        back: "区域缩放还原"
      }
    },
    magicType: {
      title: {
        line: "切换为折线图",
        bar: "切换为柱状图",
        stack: "切换为堆叠",
        tiled: "切换为平铺"
      }
    },
    restore: {
      title: "还原"
    },
    saveAsImage: {
      title: "保存为图片",
      lang: ["右键另存为图片"]
    }
  },
  series: {
    typeNames: {
      pie: "饼图",
      bar: "柱状图",
      line: "折线图",
      scatter: "散点图",
      effectScatter: "涟漪散点图",
      radar: "雷达图",
      tree: "树图",
      treemap: "矩形树图",
      boxplot: "箱型图",
      candlestick: "K线图",
      k: "K线图",
      heatmap: "热力图",
      map: "地图",
      parallel: "平行坐标图",
      lines: "线图",
      graph: "关系图",
      sankey: "桑基图",
      funnel: "漏斗图",
      gauge: "仪表盘图",
      pictorialBar: "象形柱图",
      themeRiver: "主题河流图",
      sunburst: "旭日图",
      custom: "自定义图表",
      chart: "图表"
    }
  },
  aria: {
    general: {
      withTitle: "这是一个关于“{title}”的图表。",
      withoutTitle: "这是一个图表，"
    },
    series: {
      single: {
        prefix: "",
        withName: "图表类型是{seriesType}，表示{seriesName}。",
        withoutName: "图表类型是{seriesType}。"
      },
      multiple: {
        prefix: "它由{seriesCount}个图表系列组成。",
        withName: "第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",
        withoutName: "第{seriesId}个系列是一个{seriesType}，",
        separator: {
          middle: "；",
          end: "。"
        }
      }
    },
    data: {
      allData: "其数据是——",
      partialData: "其中，前{displayCnt}项是——",
      withName: "{name}的数据是{value}",
      withoutName: "{value}",
      separator: {
        middle: "，",
        end: ""
      }
    }
  }
};
var fs = "ZH", _f = "EN", ba = _f, Ni = {}, bE = ke.domSupported ? function() {
  var t = (
    /* eslint-disable-next-line */
    (document.documentElement.lang || navigator.language || navigator.browserLanguage || ba).toUpperCase()
  );
  return t.indexOf(fs) > -1 ? fs : ba;
}() : ba;
function im(t, e) {
  t = t.toUpperCase(), Ni[t] = e;
}
function wE(t) {
  if (Le(t)) {
    var e = Ni[t.toUpperCase()] || {};
    return t === fs || t === _f ? Re(e) : Je(Re(e), Re(Ni[ba]), !1);
  } else
    return Je(Re(t), Re(Ni[ba]), !1);
}
im(_f, mE);
im(fs, SE);
var xp = ["a", "b", "c", "d", "e", "f", "g"], Kl = function(t, e) {
  return "{" + t + (e ?? "") + "}";
};
function _E(t, e, n) {
  Ce(e) || (e = [e]);
  var r = e.length;
  if (!r)
    return "";
  for (var o = e[0].$vars || [], a = 0; a < o.length; a++) {
    var i = xp[a];
    t = t.replace(Kl(i), Kl(i, 0));
  }
  for (var s = 0; s < r; s++)
    for (var l = 0; l < o.length; l++) {
      var u = e[s][o[l]];
      t = t.replace(Kl(xp[l], s), u);
    }
  return t;
}
function xE(t, e) {
  return e = e || "transparent", Le(t) ? t : _e(t) && t.colorStops && (t.colorStops[0] || {}).color || e;
}
var Hi = X, DE = ["left", "right", "top", "bottom", "width", "height"], fi = [["width", "left", "right"], ["height", "top", "bottom"]];
function sm(t, e, n, r, o) {
  var a = 0, i = 0;
  r == null && (r = 1 / 0), o == null && (o = 1 / 0);
  var s = 0;
  e.eachChild(function(l, u) {
    var c = l.getBoundingRect(), f = e.childAt(u + 1), h = f && f.getBoundingRect(), d, p;
    if (t === "horizontal") {
      var m = c.width + (h ? -h.x + c.x : 0);
      d = a + m, d > r || l.newline ? (a = 0, d = m, i += s + n, s = c.height) : s = Math.max(s, c.height);
    } else {
      var g = c.height + (h ? -h.y + c.y : 0);
      p = i + g, p > o || l.newline ? (a += s + n, i = 0, p = g, s = c.width) : s = Math.max(s, c.width);
    }
    l.newline || (l.x = a, l.y = i, l.markRedraw(), t === "horizontal" ? a = d + n : i = p + n);
  });
}
rf(sm, "vertical");
rf(sm, "horizontal");
function ds(t) {
  var e = t.layoutMode || t.constructor.layoutMode;
  return _e(e) ? e : e ? {
    type: e
  } : null;
}
function hs(t, e, n) {
  var r = n && n.ignoreSize;
  !Ce(r) && (r = [r, r]);
  var o = i(fi[0], 0), a = i(fi[1], 1);
  u(fi[0], t, o), u(fi[1], t, a);
  function i(c, f) {
    var h = {}, d = 0, p = {}, m = 0, g = 2;
    if (Hi(c, function(S) {
      p[S] = t[S];
    }), Hi(c, function(S) {
      s(e, S) && (h[S] = p[S] = e[S]), l(h, S) && d++, l(p, S) && m++;
    }), r[f])
      return l(e, c[1]) ? p[c[2]] = null : l(e, c[2]) && (p[c[1]] = null), p;
    if (m === g || !d)
      return p;
    if (d >= g)
      return h;
    for (var v = 0; v < c.length; v++) {
      var y = c[v];
      if (!s(h, y) && s(t, y)) {
        h[y] = t[y];
        break;
      }
    }
    return h;
  }
  function s(c, f) {
    return c.hasOwnProperty(f);
  }
  function l(c, f) {
    return c[f] != null && c[f] !== "auto";
  }
  function u(c, f, h) {
    Hi(c, function(d) {
      f[d] = h[d];
    });
  }
}
function lm(t) {
  return CE({}, t);
}
function CE(t, e) {
  return e && t && Hi(DE, function(n) {
    e.hasOwnProperty(n) && (t[n] = e[n]);
  }), t;
}
var TE = it(), We = (
  /** @class */
  function(t) {
    Te(e, t);
    function e(n, r, o) {
      var a = t.call(this, n, r, o) || this;
      return a.uid = Xs("ec_cpt_model"), a;
    }
    return e.prototype.init = function(n, r, o) {
      this.mergeDefaultAndTheme(n, o);
    }, e.prototype.mergeDefaultAndTheme = function(n, r) {
      var o = ds(this), a = o ? lm(n) : {}, i = r.getTheme();
      Je(n, i.get(this.mainType)), Je(n, this.getDefaultOption()), o && hs(n, a, o);
    }, e.prototype.mergeOption = function(n, r) {
      Je(this.option, n, !0);
      var o = ds(this);
      o && hs(this.option, n, o);
    }, e.prototype.optionUpdated = function(n, r) {
    }, e.prototype.getDefaultOption = function() {
      var n = this.constructor;
      if (!aA(n))
        return n.defaultOption;
      var r = TE(this);
      if (!r.defaultOption) {
        for (var o = [], a = n; a; ) {
          var i = a.prototype.defaultOption;
          i && o.push(i), a = a.superClass;
        }
        for (var s = {}, l = o.length - 1; l >= 0; l--)
          s = Je(s, o[l], !0);
        r.defaultOption = s;
      }
      return r.defaultOption;
    }, e.prototype.getReferringComponents = function(n, r) {
      var o = n + "Index", a = n + "Id";
      return Vs(this.ecModel, n, {
        index: this.get(o, !0),
        id: this.get(a, !0)
      }, r);
    }, e.prototype.getBoxLayoutParams = function() {
      var n = this;
      return {
        left: n.get("left"),
        top: n.get("top"),
        right: n.get("right"),
        bottom: n.get("bottom"),
        width: n.get("width"),
        height: n.get("height")
      };
    }, e.prototype.getZLevelKey = function() {
      return "";
    }, e.prototype.setZLevel = function(n) {
      this.option.zlevel = n;
    }, e.protoInitialize = function() {
      var n = e.prototype;
      n.type = "component", n.id = "", n.name = "", n.mainType = "", n.subType = "", n.componentIndex = 0;
    }(), e;
  }(zt)
);
My(We, zt);
df(We);
gE(We);
yE(We, FE);
function FE(t) {
  var e = [];
  return X(We.getClassesByMainType(t), function(n) {
    e = e.concat(n.dependencies || n.prototype.dependencies || []);
  }), e = je(e, function(n) {
    return bn(n).main;
  }), t !== "dataset" && He(e, "dataset") <= 0 && e.unshift("dataset"), e;
}
var um = "";
typeof navigator < "u" && (um = navigator.platform || "");
var Qr = "rgba(0, 0, 0, 0.2)";
const AE = {
  darkMode: "auto",
  // backgroundColor: 'rgba(0,0,0,0)',
  colorBy: "series",
  color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"],
  gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
  aria: {
    decal: {
      decals: [{
        color: Qr,
        dashArrayX: [1, 0],
        dashArrayY: [2, 5],
        symbolSize: 1,
        rotation: Math.PI / 6
      }, {
        color: Qr,
        symbol: "circle",
        dashArrayX: [[8, 8], [0, 8, 8, 0]],
        dashArrayY: [6, 0],
        symbolSize: 0.8
      }, {
        color: Qr,
        dashArrayX: [1, 0],
        dashArrayY: [4, 3],
        rotation: -Math.PI / 4
      }, {
        color: Qr,
        dashArrayX: [[6, 6], [0, 6, 6, 0]],
        dashArrayY: [6, 0]
      }, {
        color: Qr,
        dashArrayX: [[1, 0], [1, 6]],
        dashArrayY: [1, 0, 6, 0],
        rotation: Math.PI / 4
      }, {
        color: Qr,
        symbol: "triangle",
        dashArrayX: [[9, 9], [0, 9, 9, 0]],
        dashArrayY: [7, 2],
        symbolSize: 0.75
      }]
    }
  },
  // If xAxis and yAxis declared, grid is created by default.
  // grid: {},
  textStyle: {
    // color: '#000',
    // decoration: 'none',
    // PENDING
    fontFamily: um.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
    // fontFamily: 'Arial, Verdana, sans-serif',
    fontSize: 12,
    fontStyle: "normal",
    fontWeight: "normal"
  },
  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/
  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
  // Default is source-over
  blendMode: null,
  stateAnimation: {
    duration: 300,
    easing: "cubicOut"
  },
  animation: "auto",
  animationDuration: 1e3,
  animationDurationUpdate: 500,
  animationEasing: "cubicInOut",
  animationEasingUpdate: "cubicInOut",
  animationThreshold: 2e3,
  // Configuration for progressive/incremental rendering
  progressiveThreshold: 3e3,
  progressive: 400,
  // Threshold of if use single hover layer to optimize.
  // It is recommended that `hoverLayerThreshold` is equivalent to or less than
  // `progressiveThreshold`, otherwise hover will cause restart of progressive,
  // which is unexpected.
  // see example <echarts/test/heatmap-large.html>.
  hoverLayerThreshold: 3e3,
  // See: module:echarts/scale/Time
  useUTC: !1
};
var cm = Ae(["tooltip", "label", "itemName", "itemId", "itemGroupId", "itemChildGroupId", "seriesName"]), kn = "original", At = "arrayRows", En = "objectRows", jn = "keyedColumns", or = "typedArray", fm = "unknown", xn = "column", Mo = "row", kt = {
  Must: 1,
  Might: 2,
  Not: 3
  // Other cases
}, kE = it();
function EE(t) {
  kE(t).datasetMap = Ae();
}
function ME(t) {
  var e = t.get("data", !0);
  if (!e)
    return Vs(t.ecModel, "dataset", {
      index: t.get("datasetIndex", !0),
      id: t.get("datasetId", !0)
    }, cf).models[0];
}
function OE(t) {
  return !t.get("transform", !0) && !t.get("fromTransformResult", !0) ? [] : Vs(t.ecModel, "dataset", {
    index: t.get("fromDatasetIndex", !0),
    id: t.get("fromDatasetId", !0)
  }, cf).models;
}
function dm(t, e) {
  return RE(t.data, t.sourceFormat, t.seriesLayoutBy, t.dimensionsDefine, t.startIndex, e);
}
function RE(t, e, n, r, o, a) {
  var i, s = 5;
  if (Ft(t))
    return kt.Not;
  var l, u;
  if (r) {
    var c = r[a];
    _e(c) ? (l = c.name, u = c.type) : Le(c) && (l = c);
  }
  if (u != null)
    return u === "ordinal" ? kt.Must : kt.Not;
  if (e === At) {
    var f = t;
    if (n === Mo) {
      for (var h = f[a], d = 0; d < (h || []).length && d < s; d++)
        if ((i = b(h[o + d])) != null)
          return i;
    } else
      for (var d = 0; d < f.length && d < s; d++) {
        var p = f[o + d];
        if (p && (i = b(p[a])) != null)
          return i;
      }
  } else if (e === En) {
    var m = t;
    if (!l)
      return kt.Not;
    for (var d = 0; d < m.length && d < s; d++) {
      var g = m[d];
      if (g && (i = b(g[l])) != null)
        return i;
    }
  } else if (e === jn) {
    var v = t;
    if (!l)
      return kt.Not;
    var h = v[l];
    if (!h || Ft(h))
      return kt.Not;
    for (var d = 0; d < h.length && d < s; d++)
      if ((i = b(h[d])) != null)
        return i;
  } else if (e === kn)
    for (var y = t, d = 0; d < y.length && d < s; d++) {
      var g = y[d], S = Ns(g);
      if (!Ce(S))
        return kt.Not;
      if ((i = b(S[a])) != null)
        return i;
    }
  function b(_) {
    var w = Le(_);
    if (_ != null && Number.isFinite(Number(_)) && _ !== "")
      return w ? kt.Might : kt.Not;
    if (w && _ !== "-")
      return kt.Must;
  }
  return kt.Not;
}
var LE = Ae();
function $E(t, e, n) {
  var r = LE.get(e);
  if (!r)
    return n;
  var o = r(t);
  return o ? n.concat(o) : n;
}
var Dp = it();
it();
var xf = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getColorFromPalette = function(e, n, r) {
      var o = yt(this.get("color", !0)), a = this.get("colorLayer", !0);
      return PE(this, Dp, o, a, e, n, r);
    }, t.prototype.clearColorPalette = function() {
      zE(this, Dp);
    }, t;
  }()
);
function IE(t, e) {
  for (var n = t.length, r = 0; r < n; r++)
    if (t[r].length > e)
      return t[r];
  return t[n - 1];
}
function PE(t, e, n, r, o, a, i) {
  a = a || t;
  var s = e(a), l = s.paletteIdx || 0, u = s.paletteNameMap = s.paletteNameMap || {};
  if (u.hasOwnProperty(o))
    return u[o];
  var c = i == null || !r ? n : IE(r, i);
  if (c = c || n, !(!c || !c.length)) {
    var f = c[l];
    return o && (u[o] = f), s.paletteIdx = (l + 1) % c.length, f;
  }
}
function zE(t, e) {
  e(t).paletteIdx = 0, e(t).paletteNameMap = {};
}
var di, Vo, Cp, Tp = "\0_ec_inner", BE = 1, Df = (
  /** @class */
  function(t) {
    Te(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e.prototype.init = function(n, r, o, a, i, s) {
      a = a || {}, this.option = null, this._theme = new zt(a), this._locale = new zt(i), this._optionManager = s;
    }, e.prototype.setOption = function(n, r, o) {
      var a = kp(r);
      this._optionManager.setOption(n, o, a), this._resetOption(null, a);
    }, e.prototype.resetOption = function(n, r) {
      return this._resetOption(n, kp(r));
    }, e.prototype._resetOption = function(n, r) {
      var o = !1, a = this._optionManager;
      if (!n || n === "recreate") {
        var i = a.mountOption(n === "recreate");
        !this.option || n === "recreate" ? Cp(this, i) : (this.restoreData(), this._mergeOption(i, r)), o = !0;
      }
      if ((n === "timeline" || n === "media") && this.restoreData(), !n || n === "recreate" || n === "timeline") {
        var s = a.getTimelineOption(this);
        s && (o = !0, this._mergeOption(s, r));
      }
      if (!n || n === "recreate" || n === "media") {
        var l = a.getMediaOption(this);
        l.length && X(l, function(u) {
          o = !0, this._mergeOption(u, r);
        }, this);
      }
      return o;
    }, e.prototype.mergeOption = function(n) {
      this._mergeOption(n, null);
    }, e.prototype._mergeOption = function(n, r) {
      var o = this.option, a = this._componentsMap, i = this._componentsCount, s = [], l = Ae(), u = r && r.replaceMergeMainTypeMap;
      EE(this), X(n, function(f, h) {
        f != null && (We.hasClass(h) ? h && (s.push(h), l.set(h, !0)) : o[h] = o[h] == null ? Re(f) : Je(o[h], f, !0));
      }), u && u.each(function(f, h) {
        We.hasClass(h) && !l.get(h) && (s.push(h), l.set(h, !0));
      }), We.topologicalTravel(s, We.getAllClassMainTypes(), c, this);
      function c(f) {
        var h = $E(this, f, yt(n[f])), d = a.get(f), p = (
          // `!oldCmptList` means init. See the comment in `mappingToExists`
          d ? u && u.get(f) ? "replaceMerge" : "normalMerge" : "replaceAll"
        ), m = j5(d, h, p);
        J5(m, f, We), o[f] = null, a.set(f, null), i.set(f, 0);
        var g = [], v = [], y = 0, S;
        X(m, function(b, _) {
          var w = b.existing, T = b.newOption;
          if (!T)
            w && (w.mergeOption({}, this), w.optionUpdated({}, !1));
          else {
            var C = f === "series", x = We.getClass(
              f,
              b.keyInfo.subType,
              !C
              // Give a more detailed warn later if series don't exists
            );
            if (!x)
              return;
            if (f === "tooltip") {
              if (S)
                return;
              S = !0;
            }
            if (w && w.constructor === x)
              w.name = b.keyInfo.name, w.mergeOption(T, this), w.optionUpdated(T, !1);
            else {
              var D = ie({
                componentIndex: _
              }, b.keyInfo);
              w = new x(T, this, this, D), ie(w, D), b.brandNew && (w.__requireNewView = !0), w.init(T, this, this), w.optionUpdated(null, !0);
            }
          }
          w ? (g.push(w.option), v.push(w), y++) : (g.push(void 0), v.push(void 0));
        }, this), o[f] = g, a.set(f, v), i.set(f, y), f === "series" && di(this);
      }
      this._seriesIndices || di(this);
    }, e.prototype.getOption = function() {
      var n = Re(this.option);
      return X(n, function(r, o) {
        if (We.hasClass(o)) {
          for (var a = yt(r), i = a.length, s = !1, l = i - 1; l >= 0; l--)
            a[l] && !ka(a[l]) ? s = !0 : (a[l] = null, !s && i--);
          a.length = i, n[o] = a;
        }
      }), delete n[Tp], n;
    }, e.prototype.getTheme = function() {
      return this._theme;
    }, e.prototype.getLocaleModel = function() {
      return this._locale;
    }, e.prototype.setUpdatePayload = function(n) {
      this._payload = n;
    }, e.prototype.getUpdatePayload = function() {
      return this._payload;
    }, e.prototype.getComponent = function(n, r) {
      var o = this._componentsMap.get(n);
      if (o) {
        var a = o[r || 0];
        if (a)
          return a;
        if (r == null) {
          for (var i = 0; i < o.length; i++)
            if (o[i])
              return o[i];
        }
      }
    }, e.prototype.queryComponents = function(n) {
      var r = n.mainType;
      if (!r)
        return [];
      var o = n.index, a = n.id, i = n.name, s = this._componentsMap.get(r);
      if (!s || !s.length)
        return [];
      var l;
      return o != null ? (l = [], X(yt(o), function(u) {
        s[u] && l.push(s[u]);
      })) : a != null ? l = Fp("id", a, s) : i != null ? l = Fp("name", i, s) : l = _t(s, function(u) {
        return !!u;
      }), Ap(l, n);
    }, e.prototype.findComponents = function(n) {
      var r = n.query, o = n.mainType, a = s(r), i = a ? this.queryComponents(a) : _t(this._componentsMap.get(o), function(u) {
        return !!u;
      });
      return l(Ap(i, n));
      function s(u) {
        var c = o + "Index", f = o + "Id", h = o + "Name";
        return u && (u[c] != null || u[f] != null || u[h] != null) ? {
          mainType: o,
          // subType will be filtered finally.
          index: u[c],
          id: u[f],
          name: u[h]
        } : null;
      }
      function l(u) {
        return n.filter ? _t(u, n.filter) : u;
      }
    }, e.prototype.eachComponent = function(n, r, o) {
      var a = this._componentsMap;
      if (Be(n)) {
        var i = r, s = n;
        a.each(function(f, h) {
          for (var d = 0; f && d < f.length; d++) {
            var p = f[d];
            p && s.call(i, h, p, p.componentIndex);
          }
        });
      } else
        for (var l = Le(n) ? a.get(n) : _e(n) ? this.findComponents(n) : null, u = 0; l && u < l.length; u++) {
          var c = l[u];
          c && r.call(o, c, c.componentIndex);
        }
    }, e.prototype.getSeriesByName = function(n) {
      var r = _n(n, null);
      return _t(this._componentsMap.get("series"), function(o) {
        return !!o && r != null && o.name === r;
      });
    }, e.prototype.getSeriesByIndex = function(n) {
      return this._componentsMap.get("series")[n];
    }, e.prototype.getSeriesByType = function(n) {
      return _t(this._componentsMap.get("series"), function(r) {
        return !!r && r.subType === n;
      });
    }, e.prototype.getSeries = function() {
      return _t(this._componentsMap.get("series"), function(n) {
        return !!n;
      });
    }, e.prototype.getSeriesCount = function() {
      return this._componentsCount.get("series");
    }, e.prototype.eachSeries = function(n, r) {
      Vo(this), X(this._seriesIndices, function(o) {
        var a = this._componentsMap.get("series")[o];
        n.call(r, a, o);
      }, this);
    }, e.prototype.eachRawSeries = function(n, r) {
      X(this._componentsMap.get("series"), function(o) {
        o && n.call(r, o, o.componentIndex);
      });
    }, e.prototype.eachSeriesByType = function(n, r, o) {
      Vo(this), X(this._seriesIndices, function(a) {
        var i = this._componentsMap.get("series")[a];
        i.subType === n && r.call(o, i, a);
      }, this);
    }, e.prototype.eachRawSeriesByType = function(n, r, o) {
      return X(this.getSeriesByType(n), r, o);
    }, e.prototype.isSeriesFiltered = function(n) {
      return Vo(this), this._seriesIndicesMap.get(n.componentIndex) == null;
    }, e.prototype.getCurrentSeriesIndices = function() {
      return (this._seriesIndices || []).slice();
    }, e.prototype.filterSeries = function(n, r) {
      Vo(this);
      var o = [];
      X(this._seriesIndices, function(a) {
        var i = this._componentsMap.get("series")[a];
        n.call(r, i, a) && o.push(a);
      }, this), this._seriesIndices = o, this._seriesIndicesMap = Ae(o);
    }, e.prototype.restoreData = function(n) {
      di(this);
      var r = this._componentsMap, o = [];
      r.each(function(a, i) {
        We.hasClass(i) && o.push(i);
      }), We.topologicalTravel(o, We.getAllClassMainTypes(), function(a) {
        X(r.get(a), function(i) {
          i && (a !== "series" || !WE(i, n)) && i.restoreData();
        });
      });
    }, e.internalField = function() {
      di = function(n) {
        var r = n._seriesIndices = [];
        X(n._componentsMap.get("series"), function(o) {
          o && r.push(o.componentIndex);
        }), n._seriesIndicesMap = Ae(r);
      }, Vo = function(n) {
      }, Cp = function(n, r) {
        n.option = {}, n.option[Tp] = BE, n._componentsMap = Ae({
          series: []
        }), n._componentsCount = Ae();
        var o = r.aria;
        _e(o) && o.enabled == null && (o.enabled = !0), NE(r, n._theme.option), Je(r, AE, !1), n._mergeOption(r, null);
      };
    }(), e;
  }(zt)
);
function WE(t, e) {
  if (e) {
    var n = e.seriesIndex, r = e.seriesId, o = e.seriesName;
    return n != null && t.componentIndex !== n || r != null && t.id !== r || o != null && t.name !== o;
  }
}
function NE(t, e) {
  var n = t.color && !t.colorLayer;
  X(e, function(r, o) {
    o === "colorLayer" && n || We.hasClass(o) || (typeof r == "object" ? t[o] = t[o] ? Je(t[o], r, !1) : Re(r) : t[o] == null && (t[o] = r));
  });
}
function Fp(t, e, n) {
  if (Ce(e)) {
    var r = Ae();
    return X(e, function(a) {
      if (a != null) {
        var i = _n(a, null);
        i != null && r.set(a, !0);
      }
    }), _t(n, function(a) {
      return a && r.get(a[t]);
    });
  } else {
    var o = _n(e, null);
    return _t(n, function(a) {
      return a && o != null && a[t] === o;
    });
  }
}
function Ap(t, e) {
  return e.hasOwnProperty("subType") ? _t(t, function(n) {
    return n && n.subType === e.subType;
  }) : t;
}
function kp(t) {
  var e = Ae();
  return t && X(yt(t.replaceMerge), function(n) {
    e.set(n, !0);
  }), {
    replaceMergeMainTypeMap: e
  };
}
Vn(Df, xf);
var HE = [
  "getDom",
  "getZr",
  "getWidth",
  "getHeight",
  "getDevicePixelRatio",
  "dispatchAction",
  "isSSR",
  "isDisposed",
  "on",
  "off",
  "getDataURL",
  "getConnectedDataURL",
  // 'getModel',
  "getOption",
  // 'getViewOfComponentModel',
  // 'getViewOfSeriesModel',
  "getId",
  "updateLabelLayout"
], hm = (
  /** @class */
  /* @__PURE__ */ function() {
    function t(e) {
      X(HE, function(n) {
        this[n] = xt(e[n], e);
      }, this);
    }
    return t;
  }()
), Jl = {}, pm = (
  /** @class */
  function() {
    function t() {
      this._coordinateSystems = [];
    }
    return t.prototype.create = function(e, n) {
      var r = [];
      X(Jl, function(o, a) {
        var i = o.create(e, n);
        r = r.concat(i || []);
      }), this._coordinateSystems = r;
    }, t.prototype.update = function(e, n) {
      X(this._coordinateSystems, function(r) {
        r.update && r.update(e, n);
      });
    }, t.prototype.getCoordinateSystems = function() {
      return this._coordinateSystems.slice();
    }, t.register = function(e, n) {
      Jl[e] = n;
    }, t.get = function(e) {
      return Jl[e];
    }, t;
  }()
), VE = /^(min|max)?(.+)$/, qE = (
  /** @class */
  function() {
    function t(e) {
      this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = e;
    }
    return t.prototype.setOption = function(e, n, r) {
      e && (X(yt(e.series), function(i) {
        i && i.data && Ft(i.data) && ns(i.data);
      }), X(yt(e.dataset), function(i) {
        i && i.source && Ft(i.source) && ns(i.source);
      })), e = Re(e);
      var o = this._optionBackup, a = jE(e, n, !o);
      this._newBaseOption = a.baseOption, o ? (a.timelineOptions.length && (o.timelineOptions = a.timelineOptions), a.mediaList.length && (o.mediaList = a.mediaList), a.mediaDefault && (o.mediaDefault = a.mediaDefault)) : this._optionBackup = a;
    }, t.prototype.mountOption = function(e) {
      var n = this._optionBackup;
      return this._timelineOptions = n.timelineOptions, this._mediaList = n.mediaList, this._mediaDefault = n.mediaDefault, this._currentMediaIndices = [], Re(e ? n.baseOption : this._newBaseOption);
    }, t.prototype.getTimelineOption = function(e) {
      var n, r = this._timelineOptions;
      if (r.length) {
        var o = e.getComponent("timeline");
        o && (n = Re(
          // FIXME:TS as TimelineModel or quivlant interface
          r[o.getCurrentIndex()]
        ));
      }
      return n;
    }, t.prototype.getMediaOption = function(e) {
      var n = this._api.getWidth(), r = this._api.getHeight(), o = this._mediaList, a = this._mediaDefault, i = [], s = [];
      if (!o.length && !a)
        return s;
      for (var l = 0, u = o.length; l < u; l++)
        UE(o[l].query, n, r) && i.push(l);
      return !i.length && a && (i = [-1]), i.length && !GE(i, this._currentMediaIndices) && (s = je(i, function(c) {
        return Re(c === -1 ? a.option : o[c].option);
      })), this._currentMediaIndices = i, s;
    }, t;
  }()
);
function jE(t, e, n) {
  var r = [], o, a, i = t.baseOption, s = t.timeline, l = t.options, u = t.media, c = !!t.media, f = !!(l || s || i && i.timeline);
  i ? (a = i, a.timeline || (a.timeline = s)) : ((f || c) && (t.options = t.media = null), a = t), c && Ce(u) && X(u, function(d) {
    d && d.option && (d.query ? r.push(d) : o || (o = d));
  }), h(a), X(l, function(d) {
    return h(d);
  }), X(r, function(d) {
    return h(d.option);
  });
  function h(d) {
    X(e, function(p) {
      p(d, n);
    });
  }
  return {
    baseOption: a,
    timelineOptions: l || [],
    mediaDefault: o,
    mediaList: r
  };
}
function UE(t, e, n) {
  var r = {
    width: e,
    height: n,
    aspectratio: e / n
    // lower case for convenience.
  }, o = !0;
  return X(t, function(a, i) {
    var s = i.match(VE);
    if (!(!s || !s[1] || !s[2])) {
      var l = s[1], u = s[2].toLowerCase();
      YE(r[u], a, l) || (o = !1);
    }
  }), o;
}
function YE(t, e, n) {
  return n === "min" ? t >= e : n === "max" ? t <= e : t === e;
}
function GE(t, e) {
  return t.join(",") === e.join(",");
}
var Kt = X, Oa = _e, Ep = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function Ql(t) {
  var e = t && t.itemStyle;
  if (e)
    for (var n = 0, r = Ep.length; n < r; n++) {
      var o = Ep[n], a = e.normal, i = e.emphasis;
      a && a[o] && (t[o] = t[o] || {}, t[o].normal ? Je(t[o].normal, a[o]) : t[o].normal = a[o], a[o] = null), i && i[o] && (t[o] = t[o] || {}, t[o].emphasis ? Je(t[o].emphasis, i[o]) : t[o].emphasis = i[o], i[o] = null);
    }
}
function ft(t, e, n) {
  if (t && t[e] && (t[e].normal || t[e].emphasis)) {
    var r = t[e].normal, o = t[e].emphasis;
    r && (n ? (t[e].normal = t[e].emphasis = null, mt(t[e], r)) : t[e] = r), o && (t.emphasis = t.emphasis || {}, t.emphasis[e] = o, o.focus && (t.emphasis.focus = o.focus), o.blurScope && (t.emphasis.blurScope = o.blurScope));
  }
}
function aa(t) {
  ft(t, "itemStyle"), ft(t, "lineStyle"), ft(t, "areaStyle"), ft(t, "label"), ft(t, "labelLine"), ft(t, "upperLabel"), ft(t, "edgeLabel");
}
function Ze(t, e) {
  var n = Oa(t) && t[e], r = Oa(n) && n.textStyle;
  if (r)
    for (var o = 0, a = Nh.length; o < a; o++) {
      var i = Nh[o];
      r.hasOwnProperty(i) && (n[i] = r[i]);
    }
}
function Vt(t) {
  t && (aa(t), Ze(t, "label"), t.emphasis && Ze(t.emphasis, "label"));
}
function XE(t) {
  if (Oa(t)) {
    Ql(t), aa(t), Ze(t, "label"), Ze(t, "upperLabel"), Ze(t, "edgeLabel"), t.emphasis && (Ze(t.emphasis, "label"), Ze(t.emphasis, "upperLabel"), Ze(t.emphasis, "edgeLabel"));
    var e = t.markPoint;
    e && (Ql(e), Vt(e));
    var n = t.markLine;
    n && (Ql(n), Vt(n));
    var r = t.markArea;
    r && Vt(r);
    var o = t.data;
    if (t.type === "graph") {
      o = o || t.nodes;
      var a = t.links || t.edges;
      if (a && !Ft(a))
        for (var i = 0; i < a.length; i++)
          Vt(a[i]);
      X(t.categories, function(u) {
        aa(u);
      });
    }
    if (o && !Ft(o))
      for (var i = 0; i < o.length; i++)
        Vt(o[i]);
    if (e = t.markPoint, e && e.data)
      for (var s = e.data, i = 0; i < s.length; i++)
        Vt(s[i]);
    if (n = t.markLine, n && n.data)
      for (var l = n.data, i = 0; i < l.length; i++)
        Ce(l[i]) ? (Vt(l[i][0]), Vt(l[i][1])) : Vt(l[i]);
    t.type === "gauge" ? (Ze(t, "axisLabel"), Ze(t, "title"), Ze(t, "detail")) : t.type === "treemap" ? (ft(t.breadcrumb, "itemStyle"), X(t.levels, function(u) {
      aa(u);
    })) : t.type === "tree" && aa(t.leaves);
  }
}
function Rn(t) {
  return Ce(t) ? t : t ? [t] : [];
}
function Mp(t) {
  return (Ce(t) ? t[0] : t) || {};
}
function ZE(t, e) {
  Kt(Rn(t.series), function(r) {
    Oa(r) && XE(r);
  });
  var n = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
  e && n.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), Kt(n, function(r) {
    Kt(Rn(t[r]), function(o) {
      o && (Ze(o, "axisLabel"), Ze(o.axisPointer, "label"));
    });
  }), Kt(Rn(t.parallel), function(r) {
    var o = r && r.parallelAxisDefault;
    Ze(o, "axisLabel"), Ze(o && o.axisPointer, "label");
  }), Kt(Rn(t.calendar), function(r) {
    ft(r, "itemStyle"), Ze(r, "dayLabel"), Ze(r, "monthLabel"), Ze(r, "yearLabel");
  }), Kt(Rn(t.radar), function(r) {
    Ze(r, "name"), r.name && r.axisName == null && (r.axisName = r.name, delete r.name), r.nameGap != null && r.axisNameGap == null && (r.axisNameGap = r.nameGap, delete r.nameGap);
  }), Kt(Rn(t.geo), function(r) {
    Oa(r) && (Vt(r), Kt(Rn(r.regions), function(o) {
      Vt(o);
    }));
  }), Kt(Rn(t.timeline), function(r) {
    Vt(r), ft(r, "label"), ft(r, "itemStyle"), ft(r, "controlStyle", !0);
    var o = r.data;
    Ce(o) && X(o, function(a) {
      _e(a) && (ft(a, "label"), ft(a, "itemStyle"));
    });
  }), Kt(Rn(t.toolbox), function(r) {
    ft(r, "iconStyle"), Kt(r.feature, function(o) {
      ft(o, "iconStyle");
    });
  }), Ze(Mp(t.axisPointer), "label"), Ze(Mp(t.tooltip).axisPointer, "label");
}
function KE(t, e) {
  for (var n = e.split(","), r = t, o = 0; o < n.length && (r = r && r[n[o]], r != null); o++)
    ;
  return r;
}
function JE(t, e, n, r) {
  for (var o = e.split(","), a = t, i, s = 0; s < o.length - 1; s++)
    i = o[s], a[i] == null && (a[i] = {}), a = a[i];
  a[o[s]] == null && (a[o[s]] = n);
}
function Op(t) {
  t && X(QE, function(e) {
    e[0] in t && !(e[1] in t) && (t[e[1]] = t[e[0]]);
  });
}
var QE = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], eM = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], eu = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function qo(t) {
  var e = t && t.itemStyle;
  if (e)
    for (var n = 0; n < eu.length; n++) {
      var r = eu[n][1], o = eu[n][0];
      e[r] != null && (e[o] = e[r]);
    }
}
function Rp(t) {
  t && t.alignTo === "edge" && t.margin != null && t.edgeDistance == null && (t.edgeDistance = t.margin);
}
function Lp(t) {
  t && t.downplay && !t.blur && (t.blur = t.downplay);
}
function tM(t) {
  t && t.focusNodeAdjacency != null && (t.emphasis = t.emphasis || {}, t.emphasis.focus == null && (t.emphasis.focus = "adjacency"));
}
function vm(t, e) {
  if (t)
    for (var n = 0; n < t.length; n++)
      e(t[n]), t[n] && vm(t[n].children, e);
}
function gm(t, e) {
  ZE(t, e), t.series = yt(t.series), X(t.series, function(n) {
    if (_e(n)) {
      var r = n.type;
      if (r === "line")
        n.clipOverflow != null && (n.clip = n.clipOverflow);
      else if (r === "pie" || r === "gauge") {
        n.clockWise != null && (n.clockwise = n.clockWise), Rp(n.label);
        var o = n.data;
        if (o && !Ft(o))
          for (var a = 0; a < o.length; a++)
            Rp(o[a]);
        n.hoverOffset != null && (n.emphasis = n.emphasis || {}, (n.emphasis.scaleSize = null) && (n.emphasis.scaleSize = n.hoverOffset));
      } else if (r === "gauge") {
        var i = KE(n, "pointer.color");
        i != null && JE(n, "itemStyle.color", i);
      } else if (r === "bar") {
        qo(n), qo(n.backgroundStyle), qo(n.emphasis);
        var o = n.data;
        if (o && !Ft(o))
          for (var a = 0; a < o.length; a++)
            typeof o[a] == "object" && (qo(o[a]), qo(o[a] && o[a].emphasis));
      } else if (r === "sunburst") {
        var s = n.highlightPolicy;
        s && (n.emphasis = n.emphasis || {}, n.emphasis.focus || (n.emphasis.focus = s)), Lp(n), vm(n.data, Lp);
      } else r === "graph" || r === "sankey" ? tM(n) : r === "map" && (n.mapType && !n.map && (n.map = n.mapType), n.mapLocation && mt(n, n.mapLocation));
      n.hoverAnimation != null && (n.emphasis = n.emphasis || {}, n.emphasis && n.emphasis.scale == null && (n.emphasis.scale = n.hoverAnimation)), Op(n);
    }
  }), t.dataRange && (t.visualMap = t.dataRange), X(eM, function(n) {
    var r = t[n];
    r && (Ce(r) || (r = [r]), X(r, function(o) {
      Op(o);
    }));
  });
}
function nM(t) {
  var e = Ae();
  t.eachSeries(function(n) {
    var r = n.get("stack");
    if (r) {
      var o = e.get(r) || e.set(r, []), a = n.getData(), i = {
        // Used for calculate axis extent automatically.
        // TODO: Type getCalculationInfo return more specific type?
        stackResultDimension: a.getCalculationInfo("stackResultDimension"),
        stackedOverDimension: a.getCalculationInfo("stackedOverDimension"),
        stackedDimension: a.getCalculationInfo("stackedDimension"),
        stackedByDimension: a.getCalculationInfo("stackedByDimension"),
        isStackedByIndex: a.getCalculationInfo("isStackedByIndex"),
        data: a,
        seriesModel: n
      };
      if (!i.stackedDimension || !(i.isStackedByIndex || i.stackedByDimension))
        return;
      o.length && a.setCalculationInfo("stackedOnSeries", o[o.length - 1].seriesModel), o.push(i);
    }
  }), e.each(rM);
}
function rM(t) {
  X(t, function(e, n) {
    var r = [], o = [NaN, NaN], a = [e.stackResultDimension, e.stackedOverDimension], i = e.data, s = e.isStackedByIndex, l = e.seriesModel.get("stackStrategy") || "samesign";
    i.modify(a, function(u, c, f) {
      var h = i.get(e.stackedDimension, f);
      if (isNaN(h))
        return o;
      var d, p;
      s ? p = i.getRawIndex(f) : d = i.get(e.stackedByDimension, f);
      for (var m = NaN, g = n - 1; g >= 0; g--) {
        var v = t[g];
        if (s || (p = v.data.rawIndexOf(v.stackedByDimension, d)), p >= 0) {
          var y = v.data.getByRawIndex(v.stackResultDimension, p);
          if (l === "all" || l === "positive" && y > 0 || l === "negative" && y < 0 || l === "samesign" && h >= 0 && y > 0 || l === "samesign" && h <= 0 && y < 0) {
            h = W5(h, y), m = y;
            break;
          }
        }
      }
      return r[0] = h, r[1] = m, r;
    });
  });
}
var Zs = (
  /** @class */
  /* @__PURE__ */ function() {
    function t(e) {
      this.data = e.data || (e.sourceFormat === jn ? {} : []), this.sourceFormat = e.sourceFormat || fm, this.seriesLayoutBy = e.seriesLayoutBy || xn, this.startIndex = e.startIndex || 0, this.dimensionsDetectedCount = e.dimensionsDetectedCount, this.metaRawOption = e.metaRawOption;
      var n = this.dimensionsDefine = e.dimensionsDefine;
      if (n)
        for (var r = 0; r < n.length; r++) {
          var o = n[r];
          o.type == null && dm(this, r) === kt.Must && (o.type = "ordinal");
        }
    }
    return t;
  }()
);
function Cf(t) {
  return t instanceof Zs;
}
function hc(t, e, n) {
  n = n || mm(t);
  var r = e.seriesLayoutBy, o = aM(t, n, r, e.sourceHeader, e.dimensions), a = new Zs({
    data: t,
    sourceFormat: n,
    seriesLayoutBy: r,
    dimensionsDefine: o.dimensionsDefine,
    startIndex: o.startIndex,
    dimensionsDetectedCount: o.dimensionsDetectedCount,
    metaRawOption: Re(e)
  });
  return a;
}
function ym(t) {
  return new Zs({
    data: t,
    sourceFormat: Ft(t) ? or : kn
  });
}
function oM(t) {
  return new Zs({
    data: t.data,
    sourceFormat: t.sourceFormat,
    seriesLayoutBy: t.seriesLayoutBy,
    dimensionsDefine: Re(t.dimensionsDefine),
    startIndex: t.startIndex,
    dimensionsDetectedCount: t.dimensionsDetectedCount
  });
}
function mm(t) {
  var e = fm;
  if (Ft(t))
    e = or;
  else if (Ce(t)) {
    t.length === 0 && (e = At);
    for (var n = 0, r = t.length; n < r; n++) {
      var o = t[n];
      if (o != null) {
        if (Ce(o) || Ft(o)) {
          e = At;
          break;
        } else if (_e(o)) {
          e = En;
          break;
        }
      }
    }
  } else if (_e(t)) {
    for (var a in t)
      if (rs(t, a) && Wt(t[a])) {
        e = jn;
        break;
      }
  }
  return e;
}
function aM(t, e, n, r, o) {
  var a, i;
  if (!t)
    return {
      dimensionsDefine: $p(o),
      startIndex: i,
      dimensionsDetectedCount: a
    };
  if (e === At) {
    var s = t;
    r === "auto" || r == null ? Ip(function(u) {
      u != null && u !== "-" && (Le(u) ? i == null && (i = 1) : i = 0);
    }, n, s, 10) : i = gt(r) ? r : r ? 1 : 0, !o && i === 1 && (o = [], Ip(function(u, c) {
      o[c] = u != null ? u + "" : "";
    }, n, s, 1 / 0)), a = o ? o.length : n === Mo ? s.length : s[0] ? s[0].length : null;
  } else if (e === En)
    o || (o = iM(t));
  else if (e === jn)
    o || (o = [], X(t, function(u, c) {
      o.push(c);
    }));
  else if (e === kn) {
    var l = Ns(t[0]);
    a = Ce(l) && l.length || 1;
  }
  return {
    startIndex: i,
    dimensionsDefine: $p(o),
    dimensionsDetectedCount: a
  };
}
function iM(t) {
  for (var e = 0, n; e < t.length && !(n = t[e++]); )
    ;
  if (n)
    return Ke(n);
}
function $p(t) {
  if (t) {
    var e = Ae();
    return je(t, function(n, r) {
      n = _e(n) ? n : {
        name: n
      };
      var o = {
        name: n.name,
        displayName: n.displayName,
        type: n.type
      };
      if (o.name == null)
        return o;
      o.name += "", o.displayName == null && (o.displayName = o.name);
      var a = e.get(o.name);
      return a ? o.name += "-" + a.count++ : e.set(o.name, {
        count: 1
      }), o;
    });
  }
}
function Ip(t, e, n, r) {
  if (e === Mo)
    for (var o = 0; o < n.length && o < r; o++)
      t(n[o] ? n[o][0] : null, o);
  else
    for (var a = n[0] || [], o = 0; o < a.length && o < r; o++)
      t(a[o], o);
}
function Sm(t) {
  var e = t.sourceFormat;
  return e === En || e === jn;
}
var xr, Dr, Cr, Pp, zp, bm = (
  /** @class */
  function() {
    function t(e, n) {
      var r = Cf(e) ? e : ym(e);
      this._source = r;
      var o = this._data = r.data;
      r.sourceFormat === or && (this._offset = 0, this._dimSize = n, this._data = o), zp(this, o, r);
    }
    return t.prototype.getSource = function() {
      return this._source;
    }, t.prototype.count = function() {
      return 0;
    }, t.prototype.getItem = function(e, n) {
    }, t.prototype.appendData = function(e) {
    }, t.prototype.clean = function() {
    }, t.protoInitialize = function() {
      var e = t.prototype;
      e.pure = !1, e.persistent = !0;
    }(), t.internalField = function() {
      var e;
      zp = function(i, s, l) {
        var u = l.sourceFormat, c = l.seriesLayoutBy, f = l.startIndex, h = l.dimensionsDefine, d = Pp[Tf(u, c)];
        if (ie(i, d), u === or)
          i.getItem = n, i.count = o, i.fillStorage = r;
        else {
          var p = wm(u, c);
          i.getItem = xt(p, null, s, f, h);
          var m = _m(u, c);
          i.count = xt(m, null, s, f, h);
        }
      };
      var n = function(i, s) {
        i = i - this._offset, s = s || [];
        for (var l = this._data, u = this._dimSize, c = u * i, f = 0; f < u; f++)
          s[f] = l[c + f];
        return s;
      }, r = function(i, s, l, u) {
        for (var c = this._data, f = this._dimSize, h = 0; h < f; h++) {
          for (var d = u[h], p = d[0] == null ? 1 / 0 : d[0], m = d[1] == null ? -1 / 0 : d[1], g = s - i, v = l[h], y = 0; y < g; y++) {
            var S = c[y * f + h];
            v[i + y] = S, S < p && (p = S), S > m && (m = S);
          }
          d[0] = p, d[1] = m;
        }
      }, o = function() {
        return this._data ? this._data.length / this._dimSize : 0;
      };
      Pp = (e = {}, e[At + "_" + xn] = {
        pure: !0,
        appendData: a
      }, e[At + "_" + Mo] = {
        pure: !0,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
        }
      }, e[En] = {
        pure: !0,
        appendData: a
      }, e[jn] = {
        pure: !0,
        appendData: function(i) {
          var s = this._data;
          X(i, function(l, u) {
            for (var c = s[u] || (s[u] = []), f = 0; f < (l || []).length; f++)
              c.push(l[f]);
          });
        }
      }, e[kn] = {
        appendData: a
      }, e[or] = {
        persistent: !1,
        pure: !0,
        appendData: function(i) {
          this._data = i;
        },
        // Clean self if data is already used.
        clean: function() {
          this._offset += this.count(), this._data = null;
        }
      }, e);
      function a(i) {
        for (var s = 0; s < i.length; s++)
          this._data.push(i[s]);
      }
    }(), t;
  }()
), Bp = function(t, e, n, r) {
  return t[r];
}, sM = (xr = {}, xr[At + "_" + xn] = function(t, e, n, r) {
  return t[r + e];
}, xr[At + "_" + Mo] = function(t, e, n, r, o) {
  r += e;
  for (var a = o || [], i = t, s = 0; s < i.length; s++) {
    var l = i[s];
    a[s] = l ? l[r] : null;
  }
  return a;
}, xr[En] = Bp, xr[jn] = function(t, e, n, r, o) {
  for (var a = o || [], i = 0; i < n.length; i++) {
    var s = n[i].name, l = t[s];
    a[i] = l ? l[r] : null;
  }
  return a;
}, xr[kn] = Bp, xr);
function wm(t, e) {
  var n = sM[Tf(t, e)];
  return n;
}
var Wp = function(t, e, n) {
  return t.length;
}, lM = (Dr = {}, Dr[At + "_" + xn] = function(t, e, n) {
  return Math.max(0, t.length - e);
}, Dr[At + "_" + Mo] = function(t, e, n) {
  var r = t[0];
  return r ? Math.max(0, r.length - e) : 0;
}, Dr[En] = Wp, Dr[jn] = function(t, e, n) {
  var r = n[0].name, o = t[r];
  return o ? o.length : 0;
}, Dr[kn] = Wp, Dr);
function _m(t, e) {
  var n = lM[Tf(t, e)];
  return n;
}
var tu = function(t, e, n) {
  return t[e];
}, uM = (Cr = {}, Cr[At] = tu, Cr[En] = function(t, e, n) {
  return t[n];
}, Cr[jn] = tu, Cr[kn] = function(t, e, n) {
  var r = Ns(t);
  return r instanceof Array ? r[e] : r;
}, Cr[or] = tu, Cr);
function xm(t) {
  var e = uM[t];
  return e;
}
function Tf(t, e) {
  return t === At ? t + "_" + e : t;
}
function ps(t, e, n) {
  if (t) {
    var r = t.getRawDataItem(e);
    if (r != null) {
      var o = t.getStore(), a = o.getSource().sourceFormat;
      if (n != null) {
        var i = t.getDimensionIndex(n), s = o.getDimensionProperty(i);
        return xm(a)(r, i, s);
      } else {
        var l = r;
        return a === kn && (l = Ns(r)), l;
      }
    }
  }
}
var cM = /\{@(.+?)\}/g, fM = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getDataParams = function(e, n) {
      var r = this.getData(n), o = this.getRawValue(e, n), a = r.getRawIndex(e), i = r.getName(e), s = r.getRawDataItem(e), l = r.getItemVisual(e, "style"), u = l && l[r.getItemVisual(e, "drawType") || "fill"], c = l && l.stroke, f = this.mainType, h = f === "series", d = r.userOutput && r.userOutput.get();
      return {
        componentType: f,
        componentSubType: this.subType,
        componentIndex: this.componentIndex,
        seriesType: h ? this.subType : null,
        seriesIndex: this.seriesIndex,
        seriesId: h ? this.id : null,
        seriesName: h ? this.name : null,
        name: i,
        dataIndex: a,
        data: s,
        dataType: n,
        value: o,
        color: u,
        borderColor: c,
        dimensionNames: d ? d.fullDimensions : null,
        encode: d ? d.encode : null,
        // Param name list for mapping `a`, `b`, `c`, `d`, `e`
        $vars: ["seriesName", "name", "value"]
      };
    }, t.prototype.getFormattedLabel = function(e, n, r, o, a, i) {
      n = n || "normal";
      var s = this.getData(r), l = this.getDataParams(e, r);
      if (i && (l.value = i.interpolatedValue), o != null && Ce(l.value) && (l.value = l.value[o]), !a) {
        var u = s.getItemModel(e);
        a = u.get(n === "normal" ? ["label", "formatter"] : [n, "label", "formatter"]);
      }
      if (Be(a))
        return l.status = n, l.dimensionIndex = o, a(l);
      if (Le(a)) {
        var c = _E(a, l);
        return c.replace(cM, function(f, h) {
          var d = h.length, p = h;
          p.charAt(0) === "[" && p.charAt(d - 1) === "]" && (p = +p.slice(1, d - 1));
          var m = ps(s, e, p);
          if (i && Ce(i.interpolatedValue)) {
            var g = s.getDimensionIndex(p);
            g >= 0 && (m = i.interpolatedValue[g]);
          }
          return m != null ? m + "" : "";
        });
      }
    }, t.prototype.getRawValue = function(e, n) {
      return ps(this.getData(n), e);
    }, t.prototype.formatTooltip = function(e, n, r) {
    }, t;
  }()
);
function wa(t) {
  return new dM(t);
}
var dM = (
  /** @class */
  function() {
    function t(e) {
      e = e || {}, this._reset = e.reset, this._plan = e.plan, this._count = e.count, this._onDirty = e.onDirty, this._dirty = !0;
    }
    return t.prototype.perform = function(e) {
      var n = this._upstream, r = e && e.skip;
      if (this._dirty && n) {
        var o = this.context;
        o.data = o.outputData = n.context.outputData;
      }
      this.__pipeline && (this.__pipeline.currentTask = this);
      var a;
      this._plan && !r && (a = this._plan(this.context));
      var i = c(this._modBy), s = this._modDataCount || 0, l = c(e && e.modBy), u = e && e.modDataCount || 0;
      (i !== l || s !== u) && (a = "reset");
      function c(y) {
        return !(y >= 1) && (y = 1), y;
      }
      var f;
      (this._dirty || a === "reset") && (this._dirty = !1, f = this._doReset(r)), this._modBy = l, this._modDataCount = u;
      var h = e && e.step;
      if (n ? this._dueEnd = n._outputDueEnd : this._dueEnd = this._count ? this._count(this.context) : 1 / 0, this._progress) {
        var d = this._dueIndex, p = Math.min(h != null ? this._dueIndex + h : 1 / 0, this._dueEnd);
        if (!r && (f || d < p)) {
          var m = this._progress;
          if (Ce(m))
            for (var g = 0; g < m.length; g++)
              this._doProgress(m[g], d, p, l, u);
          else
            this._doProgress(m, d, p, l, u);
        }
        this._dueIndex = p;
        var v = this._settedOutputEnd != null ? this._settedOutputEnd : p;
        this._outputDueEnd = v;
      } else
        this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
      return this.unfinished();
    }, t.prototype.dirty = function() {
      this._dirty = !0, this._onDirty && this._onDirty(this.context);
    }, t.prototype._doProgress = function(e, n, r, o, a) {
      Np.reset(n, r, o, a), this._callingProgress = e, this._callingProgress({
        start: n,
        end: r,
        count: r - n,
        next: Np.next
      }, this.context);
    }, t.prototype._doReset = function(e) {
      this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null;
      var n, r;
      !e && this._reset && (n = this._reset(this.context), n && n.progress && (r = n.forceFirstProgress, n = n.progress), Ce(n) && !n.length && (n = null)), this._progress = n, this._modBy = this._modDataCount = null;
      var o = this._downstream;
      return o && o.dirty(), r;
    }, t.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd;
    }, t.prototype.pipe = function(e) {
      (this._downstream !== e || this._dirty) && (this._downstream = e, e._upstream = this, e.dirty());
    }, t.prototype.dispose = function() {
      this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0);
    }, t.prototype.getUpstream = function() {
      return this._upstream;
    }, t.prototype.getDownstream = function() {
      return this._downstream;
    }, t.prototype.setOutputEnd = function(e) {
      this._outputDueEnd = this._settedOutputEnd = e;
    }, t;
  }()
), Np = /* @__PURE__ */ function() {
  var t, e, n, r, o, a = {
    reset: function(l, u, c, f) {
      e = l, t = u, n = c, r = f, o = Math.ceil(r / n), a.next = n > 1 && r > 0 ? s : i;
    }
  };
  return a;
  function i() {
    return e < t ? e++ : null;
  }
  function s() {
    var l = e % o * n + Math.ceil(e / o), u = e >= t ? null : l < r ? l : e;
    return e++, u;
  }
}();
function Vi(t, e) {
  var n = e && e.type;
  return n === "ordinal" ? t : (n === "time" && !gt(t) && t != null && t !== "-" && (t = +Dy(t)), t == null || t === "" ? NaN : Number(t));
}
Ae({
  number: function(t) {
    return parseFloat(t);
  },
  time: function(t) {
    return +Dy(t);
  },
  trim: function(t) {
    return Le(t) ? Qn(t) : t;
  }
});
var hM = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.getRawData = function() {
      throw new Error("not supported");
    }, t.prototype.getRawDataItem = function(e) {
      throw new Error("not supported");
    }, t.prototype.cloneRawData = function() {
    }, t.prototype.getDimensionInfo = function(e) {
    }, t.prototype.cloneAllDimensionInfo = function() {
    }, t.prototype.count = function() {
    }, t.prototype.retrieveValue = function(e, n) {
    }, t.prototype.retrieveValueFromItem = function(e, n) {
    }, t.prototype.convertValue = function(e, n) {
      return Vi(e, n);
    }, t;
  }()
);
function pM(t, e) {
  var n = new hM(), r = t.data, o = n.sourceFormat = t.sourceFormat, a = t.startIndex, i = "";
  t.seriesLayoutBy !== xn && Ot(i);
  var s = [], l = {}, u = t.dimensionsDefine;
  if (u)
    X(u, function(m, g) {
      var v = m.name, y = {
        index: g,
        name: v,
        displayName: m.displayName
      };
      if (s.push(y), v != null) {
        var S = "";
        rs(l, v) && Ot(S), l[v] = y;
      }
    });
  else
    for (var c = 0; c < t.dimensionsDetectedCount; c++)
      s.push({
        index: c
      });
  var f = wm(o, xn);
  e.__isBuiltIn && (n.getRawDataItem = function(m) {
    return f(r, a, s, m);
  }, n.getRawData = xt(vM, null, t)), n.cloneRawData = xt(gM, null, t);
  var h = _m(o, xn);
  n.count = xt(h, null, r, a, s);
  var d = xm(o);
  n.retrieveValue = function(m, g) {
    var v = f(r, a, s, m);
    return p(v, g);
  };
  var p = n.retrieveValueFromItem = function(m, g) {
    if (m != null) {
      var v = s[g];
      if (v)
        return d(m, g, v.name);
    }
  };
  return n.getDimensionInfo = xt(yM, null, s, l), n.cloneAllDimensionInfo = xt(mM, null, s), n;
}
function vM(t) {
  var e = t.sourceFormat;
  if (!Ff(e)) {
    var n = "";
    Ot(n);
  }
  return t.data;
}
function gM(t) {
  var e = t.sourceFormat, n = t.data;
  if (!Ff(e)) {
    var r = "";
    Ot(r);
  }
  if (e === At) {
    for (var o = [], a = 0, i = n.length; a < i; a++)
      o.push(n[a].slice());
    return o;
  } else if (e === En) {
    for (var o = [], a = 0, i = n.length; a < i; a++)
      o.push(ie({}, n[a]));
    return o;
  }
}
function yM(t, e, n) {
  if (n != null) {
    if (gt(n) || !isNaN(n) && !rs(e, n))
      return t[n];
    if (rs(e, n))
      return e[n];
  }
}
function mM(t) {
  return Re(t);
}
var Dm = Ae();
function SM(t) {
  t = Re(t);
  var e = t.type, n = "";
  e || Ot(n);
  var r = e.split(":");
  r.length !== 2 && Ot(n);
  var o = !1;
  r[0] === "echarts" && (e = r[1], o = !0), t.__isBuiltIn = o, Dm.set(e, t);
}
function bM(t, e, n) {
  var r = yt(t), o = r.length, a = "";
  o || Ot(a);
  for (var i = 0, s = o; i < s; i++) {
    var l = r[i];
    e = wM(l, e), i !== s - 1 && (e.length = Math.max(e.length, 1));
  }
  return e;
}
function wM(t, e, n, r) {
  var o = "";
  e.length || Ot(o), _e(t) || Ot(o);
  var a = t.type, i = Dm.get(a);
  i || Ot(o);
  var s = je(e, function(u) {
    return pM(u, i);
  }), l = yt(i.transform({
    upstream: s[0],
    upstreamList: s,
    config: Re(t.config)
  }));
  return je(l, function(u, c) {
    var f = "";
    _e(u) || Ot(f), u.data || Ot(f);
    var h = mm(u.data);
    Ff(h) || Ot(f);
    var d, p = e[0];
    if (p && c === 0 && !u.dimensions) {
      var m = p.startIndex;
      m && (u.data = p.data.slice(0, m).concat(u.data)), d = {
        seriesLayoutBy: xn,
        sourceHeader: m,
        dimensions: p.metaRawOption.dimensions
      };
    } else
      d = {
        seriesLayoutBy: xn,
        sourceHeader: 0,
        dimensions: u.dimensions
      };
    return hc(u.data, d, null);
  });
}
function Ff(t) {
  return t === At || t === En;
}
var Ks = "undefined", _M = typeof Uint32Array === Ks ? Array : Uint32Array, xM = typeof Uint16Array === Ks ? Array : Uint16Array, Cm = typeof Int32Array === Ks ? Array : Int32Array, Hp = typeof Float64Array === Ks ? Array : Float64Array, Tm = {
  float: Hp,
  int: Cm,
  // Ordinal data type can be string or int
  ordinal: Array,
  number: Array,
  time: Hp
}, nu;
function eo(t) {
  return t > 65535 ? _M : xM;
}
function to() {
  return [1 / 0, -1 / 0];
}
function DM(t) {
  var e = t.constructor;
  return e === Array ? t.slice() : new e(t);
}
function Vp(t, e, n, r, o) {
  var a = Tm[n || "float"];
  if (o) {
    var i = t[e], s = i && i.length;
    if (s !== r) {
      for (var l = new a(r), u = 0; u < s; u++)
        l[u] = i[u];
      t[e] = l;
    }
  } else
    t[e] = new a(r);
}
var pc = (
  /** @class */
  function() {
    function t() {
      this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = Ae();
    }
    return t.prototype.initData = function(e, n, r) {
      this._provider = e, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity;
      var o = e.getSource(), a = this.defaultDimValueGetter = nu[o.sourceFormat];
      this._dimValueGetter = r || a, this._rawExtent = [], Sm(o), this._dimensions = je(n, function(i) {
        return {
          // Only pick these two props. Not leak other properties like orderMeta.
          type: i.type,
          property: i.property
        };
      }), this._initDataFromProvider(0, e.count());
    }, t.prototype.getProvider = function() {
      return this._provider;
    }, t.prototype.getSource = function() {
      return this._provider.getSource();
    }, t.prototype.ensureCalculationDimension = function(e, n) {
      var r = this._calcDimNameToIdx, o = this._dimensions, a = r.get(e);
      if (a != null) {
        if (o[a].type === n)
          return a;
      } else
        a = o.length;
      return o[a] = {
        type: n
      }, r.set(e, a), this._chunks[a] = new Tm[n || "float"](this._rawCount), this._rawExtent[a] = to(), a;
    }, t.prototype.collectOrdinalMeta = function(e, n) {
      var r = this._chunks[e], o = this._dimensions[e], a = this._rawExtent, i = o.ordinalOffset || 0, s = r.length;
      i === 0 && (a[e] = to());
      for (var l = a[e], u = i; u < s; u++) {
        var c = r[u] = n.parseAndCollect(r[u]);
        isNaN(c) || (l[0] = Math.min(c, l[0]), l[1] = Math.max(c, l[1]));
      }
      o.ordinalMeta = n, o.ordinalOffset = s, o.type = "ordinal";
    }, t.prototype.getOrdinalMeta = function(e) {
      var n = this._dimensions[e], r = n.ordinalMeta;
      return r;
    }, t.prototype.getDimensionProperty = function(e) {
      var n = this._dimensions[e];
      return n && n.property;
    }, t.prototype.appendData = function(e) {
      var n = this._provider, r = this.count();
      n.appendData(e);
      var o = n.count();
      return n.persistent || (o += r), r < o && this._initDataFromProvider(r, o, !0), [r, o];
    }, t.prototype.appendValues = function(e, n) {
      for (var r = this._chunks, o = this._dimensions, a = o.length, i = this._rawExtent, s = this.count(), l = s + Math.max(e.length, n || 0), u = 0; u < a; u++) {
        var c = o[u];
        Vp(r, u, c.type, l, !0);
      }
      for (var f = [], h = s; h < l; h++)
        for (var d = h - s, p = 0; p < a; p++) {
          var c = o[p], m = nu.arrayRows.call(this, e[d] || f, c.property, d, p);
          r[p][h] = m;
          var g = i[p];
          m < g[0] && (g[0] = m), m > g[1] && (g[1] = m);
        }
      return this._rawCount = this._count = l, {
        start: s,
        end: l
      };
    }, t.prototype._initDataFromProvider = function(e, n, r) {
      for (var o = this._provider, a = this._chunks, i = this._dimensions, s = i.length, l = this._rawExtent, u = je(i, function(y) {
        return y.property;
      }), c = 0; c < s; c++) {
        var f = i[c];
        l[c] || (l[c] = to()), Vp(a, c, f.type, n, r);
      }
      if (o.fillStorage)
        o.fillStorage(e, n, a, l);
      else
        for (var h = [], d = e; d < n; d++) {
          h = o.getItem(d, h);
          for (var p = 0; p < s; p++) {
            var m = a[p], g = this._dimValueGetter(h, u[p], d, p);
            m[d] = g;
            var v = l[p];
            g < v[0] && (v[0] = g), g > v[1] && (v[1] = g);
          }
        }
      !o.persistent && o.clean && o.clean(), this._rawCount = this._count = n, this._extent = [];
    }, t.prototype.count = function() {
      return this._count;
    }, t.prototype.get = function(e, n) {
      if (!(n >= 0 && n < this._count))
        return NaN;
      var r = this._chunks[e];
      return r ? r[this.getRawIndex(n)] : NaN;
    }, t.prototype.getValues = function(e, n) {
      var r = [], o = [];
      if (n == null) {
        n = e, e = [];
        for (var a = 0; a < this._dimensions.length; a++)
          o.push(a);
      } else
        o = e;
      for (var a = 0, i = o.length; a < i; a++)
        r.push(this.get(o[a], n));
      return r;
    }, t.prototype.getByRawIndex = function(e, n) {
      if (!(n >= 0 && n < this._rawCount))
        return NaN;
      var r = this._chunks[e];
      return r ? r[n] : NaN;
    }, t.prototype.getSum = function(e) {
      var n = this._chunks[e], r = 0;
      if (n)
        for (var o = 0, a = this.count(); o < a; o++) {
          var i = this.get(e, o);
          isNaN(i) || (r += i);
        }
      return r;
    }, t.prototype.getMedian = function(e) {
      var n = [];
      this.each([e], function(a) {
        isNaN(a) || n.push(a);
      });
      var r = n.sort(function(a, i) {
        return a - i;
      }), o = this.count();
      return o === 0 ? 0 : o % 2 === 1 ? r[(o - 1) / 2] : (r[o / 2] + r[o / 2 - 1]) / 2;
    }, t.prototype.indexOfRawIndex = function(e) {
      if (e >= this._rawCount || e < 0)
        return -1;
      if (!this._indices)
        return e;
      var n = this._indices, r = n[e];
      if (r != null && r < this._count && r === e)
        return e;
      for (var o = 0, a = this._count - 1; o <= a; ) {
        var i = (o + a) / 2 | 0;
        if (n[i] < e)
          o = i + 1;
        else if (n[i] > e)
          a = i - 1;
        else
          return i;
      }
      return -1;
    }, t.prototype.indicesOfNearest = function(e, n, r) {
      var o = this._chunks, a = o[e], i = [];
      if (!a)
        return i;
      r == null && (r = 1 / 0);
      for (var s = 1 / 0, l = -1, u = 0, c = 0, f = this.count(); c < f; c++) {
        var h = this.getRawIndex(c), d = n - a[h], p = Math.abs(d);
        p <= r && ((p < s || p === s && d >= 0 && l < 0) && (s = p, l = d, u = 0), d === l && (i[u++] = c));
      }
      return i.length = u, i;
    }, t.prototype.getIndices = function() {
      var e, n = this._indices;
      if (n) {
        var r = n.constructor, o = this._count;
        if (r === Array) {
          e = new r(o);
          for (var a = 0; a < o; a++)
            e[a] = n[a];
        } else
          e = new r(n.buffer, 0, o);
      } else {
        var r = eo(this._rawCount);
        e = new r(this.count());
        for (var a = 0; a < e.length; a++)
          e[a] = a;
      }
      return e;
    }, t.prototype.filter = function(e, n) {
      if (!this._count)
        return this;
      for (var r = this.clone(), o = r.count(), a = eo(r._rawCount), i = new a(o), s = [], l = e.length, u = 0, c = e[0], f = r._chunks, h = 0; h < o; h++) {
        var d = void 0, p = r.getRawIndex(h);
        if (l === 0)
          d = n(h);
        else if (l === 1) {
          var m = f[c][p];
          d = n(m, h);
        } else {
          for (var g = 0; g < l; g++)
            s[g] = f[e[g]][p];
          s[g] = h, d = n.apply(null, s);
        }
        d && (i[u++] = p);
      }
      return u < o && (r._indices = i), r._count = u, r._extent = [], r._updateGetRawIdx(), r;
    }, t.prototype.selectRange = function(e) {
      var n = this.clone(), r = n._count;
      if (!r)
        return this;
      var o = Ke(e), a = o.length;
      if (!a)
        return this;
      var i = n.count(), s = eo(n._rawCount), l = new s(i), u = 0, c = o[0], f = e[c][0], h = e[c][1], d = n._chunks, p = !1;
      if (!n._indices) {
        var m = 0;
        if (a === 1) {
          for (var g = d[o[0]], v = 0; v < r; v++) {
            var y = g[v];
            (y >= f && y <= h || isNaN(y)) && (l[u++] = m), m++;
          }
          p = !0;
        } else if (a === 2) {
          for (var g = d[o[0]], S = d[o[1]], b = e[o[1]][0], _ = e[o[1]][1], v = 0; v < r; v++) {
            var y = g[v], w = S[v];
            (y >= f && y <= h || isNaN(y)) && (w >= b && w <= _ || isNaN(w)) && (l[u++] = m), m++;
          }
          p = !0;
        }
      }
      if (!p)
        if (a === 1)
          for (var v = 0; v < i; v++) {
            var T = n.getRawIndex(v), y = d[o[0]][T];
            (y >= f && y <= h || isNaN(y)) && (l[u++] = T);
          }
        else
          for (var v = 0; v < i; v++) {
            for (var C = !0, T = n.getRawIndex(v), x = 0; x < a; x++) {
              var D = o[x], y = d[D][T];
              (y < e[D][0] || y > e[D][1]) && (C = !1);
            }
            C && (l[u++] = n.getRawIndex(v));
          }
      return u < i && (n._indices = l), n._count = u, n._extent = [], n._updateGetRawIdx(), n;
    }, t.prototype.map = function(e, n) {
      var r = this.clone(e);
      return this._updateDims(r, e, n), r;
    }, t.prototype.modify = function(e, n) {
      this._updateDims(this, e, n);
    }, t.prototype._updateDims = function(e, n, r) {
      for (var o = e._chunks, a = [], i = n.length, s = e.count(), l = [], u = e._rawExtent, c = 0; c < n.length; c++)
        u[n[c]] = to();
      for (var f = 0; f < s; f++) {
        for (var h = e.getRawIndex(f), d = 0; d < i; d++)
          l[d] = o[n[d]][h];
        l[i] = f;
        var p = r && r.apply(null, l);
        if (p != null) {
          typeof p != "object" && (a[0] = p, p = a);
          for (var c = 0; c < p.length; c++) {
            var m = n[c], g = p[c], v = u[m], y = o[m];
            y && (y[h] = g), g < v[0] && (v[0] = g), g > v[1] && (v[1] = g);
          }
        }
      }
    }, t.prototype.lttbDownSample = function(e, n) {
      var r = this.clone([e], !0), o = r._chunks, a = o[e], i = this.count(), s = 0, l = Math.floor(1 / n), u = this.getRawIndex(0), c, f, h, d = new (eo(this._rawCount))(Math.min((Math.ceil(i / l) + 2) * 2, i));
      d[s++] = u;
      for (var p = 1; p < i - 1; p += l) {
        for (var m = Math.min(p + l, i - 1), g = Math.min(p + l * 2, i), v = (g + m) / 2, y = 0, S = m; S < g; S++) {
          var b = this.getRawIndex(S), _ = a[b];
          isNaN(_) || (y += _);
        }
        y /= g - m;
        var w = p, T = Math.min(p + l, i), C = p - 1, x = a[u];
        c = -1, h = w;
        for (var D = -1, F = 0, S = w; S < T; S++) {
          var b = this.getRawIndex(S), _ = a[b];
          if (isNaN(_)) {
            F++, D < 0 && (D = b);
            continue;
          }
          f = Math.abs((C - v) * (_ - x) - (C - S) * (y - x)), f > c && (c = f, h = b);
        }
        F > 0 && F < T - w && (d[s++] = Math.min(D, h), h = Math.max(D, h)), d[s++] = h, u = h;
      }
      return d[s++] = this.getRawIndex(i - 1), r._count = s, r._indices = d, r.getRawIndex = this._getRawIdx, r;
    }, t.prototype.minmaxDownSample = function(e, n) {
      for (var r = this.clone([e], !0), o = r._chunks, a = Math.floor(1 / n), i = o[e], s = this.count(), l = new (eo(this._rawCount))(Math.ceil(s / a) * 2), u = 0, c = 0; c < s; c += a) {
        var f = c, h = i[this.getRawIndex(f)], d = c, p = i[this.getRawIndex(d)], m = a;
        c + a > s && (m = s - c);
        for (var g = 0; g < m; g++) {
          var v = this.getRawIndex(c + g), y = i[v];
          y < h && (h = y, f = c + g), y > p && (p = y, d = c + g);
        }
        var S = this.getRawIndex(f), b = this.getRawIndex(d);
        f < d ? (l[u++] = S, l[u++] = b) : (l[u++] = b, l[u++] = S);
      }
      return r._count = u, r._indices = l, r._updateGetRawIdx(), r;
    }, t.prototype.downSample = function(e, n, r, o) {
      for (var a = this.clone([e], !0), i = a._chunks, s = [], l = Math.floor(1 / n), u = i[e], c = this.count(), f = a._rawExtent[e] = to(), h = new (eo(this._rawCount))(Math.ceil(c / l)), d = 0, p = 0; p < c; p += l) {
        l > c - p && (l = c - p, s.length = l);
        for (var m = 0; m < l; m++) {
          var g = this.getRawIndex(p + m);
          s[m] = u[g];
        }
        var v = r(s), y = this.getRawIndex(Math.min(p + o(s, v) || 0, c - 1));
        u[y] = v, v < f[0] && (f[0] = v), v > f[1] && (f[1] = v), h[d++] = y;
      }
      return a._count = d, a._indices = h, a._updateGetRawIdx(), a;
    }, t.prototype.each = function(e, n) {
      if (this._count)
        for (var r = e.length, o = this._chunks, a = 0, i = this.count(); a < i; a++) {
          var s = this.getRawIndex(a);
          switch (r) {
            case 0:
              n(a);
              break;
            case 1:
              n(o[e[0]][s], a);
              break;
            case 2:
              n(o[e[0]][s], o[e[1]][s], a);
              break;
            default:
              for (var l = 0, u = []; l < r; l++)
                u[l] = o[e[l]][s];
              u[l] = a, n.apply(null, u);
          }
        }
    }, t.prototype.getDataExtent = function(e) {
      var n = this._chunks[e], r = to();
      if (!n)
        return r;
      var o = this.count(), a = !this._indices, i;
      if (a)
        return this._rawExtent[e].slice();
      if (i = this._extent[e], i)
        return i.slice();
      i = r;
      for (var s = i[0], l = i[1], u = 0; u < o; u++) {
        var c = this.getRawIndex(u), f = n[c];
        f < s && (s = f), f > l && (l = f);
      }
      return i = [s, l], this._extent[e] = i, i;
    }, t.prototype.getRawDataItem = function(e) {
      var n = this.getRawIndex(e);
      if (this._provider.persistent)
        return this._provider.getItem(n);
      for (var r = [], o = this._chunks, a = 0; a < o.length; a++)
        r.push(o[a][n]);
      return r;
    }, t.prototype.clone = function(e, n) {
      var r = new t(), o = this._chunks, a = e && ko(e, function(s, l) {
        return s[l] = !0, s;
      }, {});
      if (a)
        for (var i = 0; i < o.length; i++)
          r._chunks[i] = a[i] ? DM(o[i]) : o[i];
      else
        r._chunks = o;
      return this._copyCommonProps(r), n || (r._indices = this._cloneIndices()), r._updateGetRawIdx(), r;
    }, t.prototype._copyCommonProps = function(e) {
      e._count = this._count, e._rawCount = this._rawCount, e._provider = this._provider, e._dimensions = this._dimensions, e._extent = Re(this._extent), e._rawExtent = Re(this._rawExtent);
    }, t.prototype._cloneIndices = function() {
      if (this._indices) {
        var e = this._indices.constructor, n = void 0;
        if (e === Array) {
          var r = this._indices.length;
          n = new e(r);
          for (var o = 0; o < r; o++)
            n[o] = this._indices[o];
        } else
          n = new e(this._indices);
        return n;
      }
      return null;
    }, t.prototype._getRawIdxIdentity = function(e) {
      return e;
    }, t.prototype._getRawIdx = function(e) {
      return e < this._count && e >= 0 ? this._indices[e] : -1;
    }, t.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
    }, t.internalField = function() {
      function e(n, r, o, a) {
        return Vi(n[a], this._dimensions[a]);
      }
      nu = {
        arrayRows: e,
        objectRows: function(n, r, o, a) {
          return Vi(n[r], this._dimensions[a]);
        },
        keyedColumns: e,
        original: function(n, r, o, a) {
          var i = n && (n.value == null ? n : n.value);
          return Vi(i instanceof Array ? i[a] : i, this._dimensions[a]);
        },
        typedArray: function(n, r, o, a) {
          return n[a];
        }
      };
    }(), t;
  }()
), Fm = (
  /** @class */
  function() {
    function t(e) {
      this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = !0, this._sourceHost = e;
    }
    return t.prototype.dirty = function() {
      this._setLocalSource([], []), this._storeList = [], this._dirty = !0;
    }, t.prototype._setLocalSource = function(e, n) {
      this._sourceList = e, this._upstreamSignList = n, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0);
    }, t.prototype._getVersionSign = function() {
      return this._sourceHost.uid + "_" + this._versionSignBase;
    }, t.prototype.prepareSource = function() {
      this._isDirty() && (this._createSource(), this._dirty = !1);
    }, t.prototype._createSource = function() {
      this._setLocalSource([], []);
      var e = this._sourceHost, n = this._getUpstreamSourceManagers(), r = !!n.length, o, a;
      if (hi(e)) {
        var i = e, s = void 0, l = void 0, u = void 0;
        if (r) {
          var c = n[0];
          c.prepareSource(), u = c.getSource(), s = u.data, l = u.sourceFormat, a = [c._getVersionSign()];
        } else
          s = i.get("data", !0), l = Ft(s) ? or : kn, a = [];
        var f = this._getSourceMetaRawOption() || {}, h = u && u.metaRawOption || {}, d = Ee(f.seriesLayoutBy, h.seriesLayoutBy) || null, p = Ee(f.sourceHeader, h.sourceHeader), m = Ee(f.dimensions, h.dimensions), g = d !== h.seriesLayoutBy || !!p != !!h.sourceHeader || m;
        o = g ? [hc(s, {
          seriesLayoutBy: d,
          sourceHeader: p,
          dimensions: m
        }, l)] : [];
      } else {
        var v = e;
        if (r) {
          var y = this._applyTransform(n);
          o = y.sourceList, a = y.upstreamSignList;
        } else {
          var S = v.get("source", !0);
          o = [hc(S, this._getSourceMetaRawOption(), null)], a = [];
        }
      }
      this._setLocalSource(o, a);
    }, t.prototype._applyTransform = function(e) {
      var n = this._sourceHost, r = n.get("transform", !0), o = n.get("fromTransformResult", !0);
      if (o != null) {
        var a = "";
        e.length !== 1 && jp(a);
      }
      var i, s = [], l = [];
      return X(e, function(u) {
        u.prepareSource();
        var c = u.getSource(o || 0), f = "";
        o != null && !c && jp(f), s.push(c), l.push(u._getVersionSign());
      }), r ? i = bM(r, s, {
        datasetIndex: n.componentIndex
      }) : o != null && (i = [oM(s[0])]), {
        sourceList: i,
        upstreamSignList: l
      };
    }, t.prototype._isDirty = function() {
      if (this._dirty)
        return !0;
      for (var e = this._getUpstreamSourceManagers(), n = 0; n < e.length; n++) {
        var r = e[n];
        if (
          // Consider the case that there is ancestor diry, call it recursively.
          // The performance is probably not an issue because usually the chain is not long.
          r._isDirty() || this._upstreamSignList[n] !== r._getVersionSign()
        )
          return !0;
      }
    }, t.prototype.getSource = function(e) {
      e = e || 0;
      var n = this._sourceList[e];
      if (!n) {
        var r = this._getUpstreamSourceManagers();
        return r[0] && r[0].getSource(e);
      }
      return n;
    }, t.prototype.getSharedDataStore = function(e) {
      var n = e.makeStoreSchema();
      return this._innerGetDataStore(n.dimensions, e.source, n.hash);
    }, t.prototype._innerGetDataStore = function(e, n, r) {
      var o = 0, a = this._storeList, i = a[o];
      i || (i = a[o] = {});
      var s = i[r];
      if (!s) {
        var l = this._getUpstreamSourceManagers()[0];
        hi(this._sourceHost) && l ? s = l._innerGetDataStore(e, n, r) : (s = new pc(), s.initData(new bm(n, e.length), e)), i[r] = s;
      }
      return s;
    }, t.prototype._getUpstreamSourceManagers = function() {
      var e = this._sourceHost;
      if (hi(e)) {
        var n = ME(e);
        return n ? [n.getSourceManager()] : [];
      } else
        return je(OE(e), function(r) {
          return r.getSourceManager();
        });
    }, t.prototype._getSourceMetaRawOption = function() {
      var e = this._sourceHost, n, r, o;
      if (hi(e))
        n = e.get("seriesLayoutBy", !0), r = e.get("sourceHeader", !0), o = e.get("dimensions", !0);
      else if (!this._getUpstreamSourceManagers().length) {
        var a = e;
        n = a.get("seriesLayoutBy", !0), r = a.get("sourceHeader", !0), o = a.get("dimensions", !0);
      }
      return {
        seriesLayoutBy: n,
        sourceHeader: r,
        dimensions: o
      };
    }, t;
  }()
);
function qp(t) {
  var e = t.option.transform;
  e && ns(t.option.transform);
}
function hi(t) {
  return t.mainType === "series";
}
function jp(t) {
  throw new Error(t);
}
function vc(t, e) {
  return e.type = t, e;
}
function CM(t, e) {
  var n = t.getData().getItemVisual(e, "style"), r = n[t.visualDrawType];
  return xE(r);
}
function TM(t) {
  var e = t.series, n = t.dataIndex, r = t.multipleSeries, o = e.getData(), a = o.mapDimensionsAll("defaultedTooltip"), i = a.length, s = e.getRawValue(n), l = Ce(s), u = CM(e, n), c, f, h, d;
  if (i > 1 || l && !i) {
    var p = FM(s, e, n, a, u);
    c = p.inlineValues, f = p.inlineValueTypes, h = p.blocks, d = p.inlineValues[0];
  } else if (i) {
    var m = o.getDimensionInfo(a[0]);
    d = c = ps(o, n, a[0]), f = m.type;
  } else
    d = c = l ? s[0] : s;
  var g = Ay(e), v = g && e.name || "", y = o.getName(n), S = r ? v : y;
  return vc("section", {
    header: v,
    // When series name is not specified, do not show a header line with only '-'.
    // This case always happens in tooltip.trigger: 'item'.
    noHeader: r || !g,
    sortParam: d,
    blocks: [vc("nameValue", {
      markerType: "item",
      markerColor: u,
      // Do not mix display seriesName and itemName in one tooltip,
      // which might confuses users.
      name: S,
      // name dimension might be auto assigned, where the name might
      // be not readable. So we check trim here.
      noName: !Qn(S),
      value: c,
      valueType: f,
      dataIndex: n
    })].concat(h || [])
  });
}
function FM(t, e, n, r, o) {
  var a = e.getData(), i = ko(t, function(f, h, d) {
    var p = a.getDimensionInfo(d);
    return f = f || p && p.tooltip !== !1 && p.displayName != null;
  }, !1), s = [], l = [], u = [];
  r.length ? X(r, function(f) {
    c(ps(a, n, f), f);
  }) : X(t, c);
  function c(f, h) {
    var d = a.getDimensionInfo(h);
    !d || d.otherDims.tooltip === !1 || (i ? u.push(vc("nameValue", {
      markerType: "subItem",
      markerColor: o,
      name: d.displayName,
      value: f,
      valueType: d.type
    })) : (s.push(f), l.push(d.type)));
  }
  return {
    inlineValues: s,
    inlineValueTypes: l,
    blocks: u
  };
}
var Gn = it();
function pi(t, e) {
  return t.getName(e) || t.getId(e);
}
var AM = "__universalTransitionEnabled", Wn = (
  /** @class */
  function(t) {
    Te(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n._selectedDataIndicesMap = {}, n;
    }
    return e.prototype.init = function(n, r, o) {
      this.seriesIndex = this.componentIndex, this.dataTask = wa({
        count: EM,
        reset: MM
      }), this.dataTask.context = {
        model: this
      }, this.mergeDefaultAndTheme(n, o);
      var a = Gn(this).sourceManager = new Fm(this);
      a.prepareSource();
      var i = this.getInitialData(n, o);
      Yp(i, this), this.dataTask.context.data = i, Gn(this).dataBeforeProcessed = i, Up(this), this._initSelectedMapFromData(i);
    }, e.prototype.mergeDefaultAndTheme = function(n, r) {
      var o = ds(this), a = o ? lm(n) : {}, i = this.subType;
      We.hasClass(i) && (i += "Series"), Je(n, r.getTheme().get(this.subType)), Je(n, this.getDefaultOption()), Wh(n, "label", ["show"]), this.fillDataTextStyle(n.data), o && hs(n, a, o);
    }, e.prototype.mergeOption = function(n, r) {
      n = Je(this.option, n, !0), this.fillDataTextStyle(n.data);
      var o = ds(this);
      o && hs(this.option, n, o);
      var a = Gn(this).sourceManager;
      a.dirty(), a.prepareSource();
      var i = this.getInitialData(n, r);
      Yp(i, this), this.dataTask.dirty(), this.dataTask.context.data = i, Gn(this).dataBeforeProcessed = i, Up(this), this._initSelectedMapFromData(i);
    }, e.prototype.fillDataTextStyle = function(n) {
      if (n && !Ft(n))
        for (var r = ["show"], o = 0; o < n.length; o++)
          n[o] && n[o].label && Wh(n[o], "label", r);
    }, e.prototype.getInitialData = function(n, r) {
    }, e.prototype.appendData = function(n) {
      var r = this.getRawData();
      r.appendData(n.data);
    }, e.prototype.getData = function(n) {
      var r = gc(this);
      if (r) {
        var o = r.context.data;
        return n == null || !o.getLinkedData ? o : o.getLinkedData(n);
      } else
        return Gn(this).data;
    }, e.prototype.getAllData = function() {
      var n = this.getData();
      return n && n.getLinkedDataAll ? n.getLinkedDataAll() : [{
        data: n
      }];
    }, e.prototype.setData = function(n) {
      var r = gc(this);
      if (r) {
        var o = r.context;
        o.outputData = n, r !== this.dataTask && (o.data = n);
      }
      Gn(this).data = n;
    }, e.prototype.getEncode = function() {
      var n = this.get("encode", !0);
      if (n)
        return Ae(n);
    }, e.prototype.getSourceManager = function() {
      return Gn(this).sourceManager;
    }, e.prototype.getSource = function() {
      return this.getSourceManager().getSource();
    }, e.prototype.getRawData = function() {
      return Gn(this).dataBeforeProcessed;
    }, e.prototype.getColorBy = function() {
      var n = this.get("colorBy");
      return n || "series";
    }, e.prototype.isColorBySeries = function() {
      return this.getColorBy() === "series";
    }, e.prototype.getBaseAxis = function() {
      var n = this.coordinateSystem;
      return n && n.getBaseAxis && n.getBaseAxis();
    }, e.prototype.formatTooltip = function(n, r, o) {
      return TM({
        series: this,
        dataIndex: n,
        multipleSeries: r
      });
    }, e.prototype.isAnimationEnabled = function() {
      var n = this.ecModel;
      if (ke.node && !(n && n.ssr))
        return !1;
      var r = this.getShallow("animation");
      return r && this.getData().count() > this.getShallow("animationThreshold") && (r = !1), !!r;
    }, e.prototype.restoreData = function() {
      this.dataTask.dirty();
    }, e.prototype.getColorFromPalette = function(n, r, o) {
      var a = this.ecModel, i = xf.prototype.getColorFromPalette.call(this, n, r, o);
      return i || (i = a.getColorFromPalette(n, r, o)), i;
    }, e.prototype.coordDimToDataDim = function(n) {
      return this.getRawData().mapDimensionsAll(n);
    }, e.prototype.getProgressive = function() {
      return this.get("progressive");
    }, e.prototype.getProgressiveThreshold = function() {
      return this.get("progressiveThreshold");
    }, e.prototype.select = function(n, r) {
      this._innerSelect(this.getData(r), n);
    }, e.prototype.unselect = function(n, r) {
      var o = this.option.selectedMap;
      if (o) {
        var a = this.option.selectedMode, i = this.getData(r);
        if (a === "series" || o === "all") {
          this.option.selectedMap = {}, this._selectedDataIndicesMap = {};
          return;
        }
        for (var s = 0; s < n.length; s++) {
          var l = n[s], u = pi(i, l);
          o[u] = !1, this._selectedDataIndicesMap[u] = -1;
        }
      }
    }, e.prototype.toggleSelect = function(n, r) {
      for (var o = [], a = 0; a < n.length; a++)
        o[0] = n[a], this.isSelected(n[a], r) ? this.unselect(o, r) : this.select(o, r);
    }, e.prototype.getSelectedDataIndices = function() {
      if (this.option.selectedMap === "all")
        return [].slice.call(this.getData().getIndices());
      for (var n = this._selectedDataIndicesMap, r = Ke(n), o = [], a = 0; a < r.length; a++) {
        var i = n[r[a]];
        i >= 0 && o.push(i);
      }
      return o;
    }, e.prototype.isSelected = function(n, r) {
      var o = this.option.selectedMap;
      if (!o)
        return !1;
      var a = this.getData(r);
      return (o === "all" || o[pi(a, n)]) && !a.getItemModel(n).get(["select", "disabled"]);
    }, e.prototype.isUniversalTransitionEnabled = function() {
      if (this[AM])
        return !0;
      var n = this.option.universalTransition;
      return n ? n === !0 ? !0 : n && n.enabled : !1;
    }, e.prototype._innerSelect = function(n, r) {
      var o, a, i = this.option, s = i.selectedMode, l = r.length;
      if (!(!s || !l)) {
        if (s === "series")
          i.selectedMap = "all";
        else if (s === "multiple") {
          _e(i.selectedMap) || (i.selectedMap = {});
          for (var u = i.selectedMap, c = 0; c < l; c++) {
            var f = r[c], h = pi(n, f);
            u[h] = !0, this._selectedDataIndicesMap[h] = n.getRawIndex(f);
          }
        } else if (s === "single" || s === !0) {
          var d = r[l - 1], h = pi(n, d);
          i.selectedMap = (o = {}, o[h] = !0, o), this._selectedDataIndicesMap = (a = {}, a[h] = n.getRawIndex(d), a);
        }
      }
    }, e.prototype._initSelectedMapFromData = function(n) {
      if (!this.option.selectedMap) {
        var r = [];
        n.hasItemOption && n.each(function(o) {
          var a = n.getRawDataItem(o);
          a && a.selected && r.push(o);
        }), r.length > 0 && this._innerSelect(n, r);
      }
    }, e.registerClass = function(n) {
      return We.registerClass(n);
    }, e.protoInitialize = function() {
      var n = e.prototype;
      n.type = "series.__base__", n.seriesIndex = 0, n.ignoreStyleOnData = !1, n.hasSymbolVisual = !1, n.defaultSymbol = "circle", n.visualStyleAccessPath = "itemStyle", n.visualDrawType = "fill";
    }(), e;
  }(We)
);
Vn(Wn, fM);
Vn(Wn, xf);
My(Wn, We);
function Up(t) {
  var e = t.name;
  Ay(t) || (t.name = kM(t) || e);
}
function kM(t) {
  var e = t.getRawData(), n = e.mapDimensionsAll("seriesName"), r = [];
  return X(n, function(o) {
    var a = e.getDimensionInfo(o);
    a.displayName && r.push(a.displayName);
  }), r.join(" ");
}
function EM(t) {
  return t.model.getRawData().count();
}
function MM(t) {
  var e = t.model;
  return e.setData(e.getRawData().cloneShallow()), OM;
}
function OM(t, e) {
  e.outputData && t.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData);
}
function Yp(t, e) {
  X(_F(t.CHANGABLE_METHODS, t.DOWNSAMPLE_METHODS), function(n) {
    t.wrapMethod(n, rf(RM, e));
  });
}
function RM(t, e) {
  var n = gc(t);
  return n && n.setOutputEnd((e || this).count()), e;
}
function gc(t) {
  var e = (t.ecModel || {}).scheduler, n = e && e.getPipeline(t.uid);
  if (n) {
    var r = n.currentTask;
    if (r) {
      var o = r.agentStubMap;
      o && (r = o.get(t.uid));
    }
    return r;
  }
}
var Do = (
  /** @class */
  function() {
    function t() {
      this.group = new Br(), this.uid = Xs("viewComponent");
    }
    return t.prototype.init = function(e, n) {
    }, t.prototype.render = function(e, n, r, o) {
    }, t.prototype.dispose = function(e, n) {
    }, t.prototype.updateView = function(e, n, r, o) {
    }, t.prototype.updateLayout = function(e, n, r, o) {
    }, t.prototype.updateVisual = function(e, n, r, o) {
    }, t.prototype.toggleBlurSeries = function(e, n, r) {
    }, t.prototype.eachRendered = function(e) {
      var n = this.group;
      n && n.traverse(e);
    }, t;
  }()
);
ff(Do);
df(Do);
function LM() {
  var t = it();
  return function(e) {
    var n = t(e), r = e.pipelineContext, o = !!n.large, a = !!n.progressiveRender, i = n.large = !!(r && r.large), s = n.progressiveRender = !!(r && r.progressiveRender);
    return (o !== i || a !== s) && "reset";
  };
}
var Am = it(), $M = LM(), Bn = (
  /** @class */
  function() {
    function t() {
      this.group = new Br(), this.uid = Xs("viewChart"), this.renderTask = wa({
        plan: IM,
        reset: PM
      }), this.renderTask.context = {
        view: this
      };
    }
    return t.prototype.init = function(e, n) {
    }, t.prototype.render = function(e, n, r, o) {
    }, t.prototype.highlight = function(e, n, r, o) {
      var a = e.getData(o && o.dataType);
      a && Xp(a, o, "emphasis");
    }, t.prototype.downplay = function(e, n, r, o) {
      var a = e.getData(o && o.dataType);
      a && Xp(a, o, "normal");
    }, t.prototype.remove = function(e, n) {
      this.group.removeAll();
    }, t.prototype.dispose = function(e, n) {
    }, t.prototype.updateView = function(e, n, r, o) {
      this.render(e, n, r, o);
    }, t.prototype.updateLayout = function(e, n, r, o) {
      this.render(e, n, r, o);
    }, t.prototype.updateVisual = function(e, n, r, o) {
      this.render(e, n, r, o);
    }, t.prototype.eachRendered = function(e) {
      tE(this.group, e);
    }, t.markUpdateMethod = function(e, n) {
      Am(e).updateMethod = n;
    }, t.protoInitialize = function() {
      var e = t.prototype;
      e.type = "chart";
    }(), t;
  }()
);
function Gp(t, e, n) {
  t && lc(t) && (e === "emphasis" ? oc : ac)(t, n);
}
function Xp(t, e, n) {
  var r = Hs(t, e), o = e && e.highlightKey != null ? _k(e.highlightKey) : null;
  r != null ? X(yt(r), function(a) {
    Gp(t.getItemGraphicEl(a), n, o);
  }) : t.eachItemGraphicEl(function(a) {
    Gp(a, n, o);
  });
}
ff(Bn);
df(Bn);
function IM(t) {
  return $M(t.model);
}
function PM(t) {
  var e = t.model, n = t.ecModel, r = t.api, o = t.payload, a = e.pipelineContext.progressiveRender, i = t.view, s = o && Am(o).updateMethod, l = a ? "incrementalPrepareRender" : s && i[s] ? s : "render";
  return l !== "render" && i[l](e, n, r, o), zM[l];
}
var zM = {
  incrementalPrepareRender: {
    progress: function(t, e) {
      e.view.incrementalRender(t, e.model, e.ecModel, e.api, e.payload);
    }
  },
  render: {
    // Put view.render in `progress` to support appendData. But in this case
    // view.render should not be called in reset, otherwise it will be called
    // twise. Use `forceFirstProgress` to make sure that view.render is called
    // in any cases.
    forceFirstProgress: !0,
    progress: function(t, e) {
      e.view.render(e.model, e.ecModel, e.api, e.payload);
    }
  }
};
function BM(t, e, n) {
  var r, o = 0, a = 0, i = null, s, l, u, c;
  e = e || 0;
  function f() {
    a = (/* @__PURE__ */ new Date()).getTime(), i = null, t.apply(l, u || []);
  }
  var h = function() {
    for (var d = [], p = 0; p < arguments.length; p++)
      d[p] = arguments[p];
    r = (/* @__PURE__ */ new Date()).getTime(), l = this, u = d;
    var m = c || e, g = c || n;
    c = null, s = r - (g ? o : a) - m, clearTimeout(i), g ? i = setTimeout(f, m) : s >= 0 ? f() : i = setTimeout(f, -s), o = r;
  };
  return h.clear = function() {
    i && (clearTimeout(i), i = null);
  }, h.debounceNextCall = function(d) {
    c = d;
  }, h;
}
var Zp = it(), Kp = {
  itemStyle: Ea(am, !0),
  lineStyle: Ea(om, !0)
}, WM = {
  lineStyle: "stroke",
  itemStyle: "fill"
};
function km(t, e) {
  var n = t.visualStyleMapper || Kp[e];
  return n || (console.warn("Unknown style type '" + e + "'."), Kp.itemStyle);
}
function Em(t, e) {
  var n = t.visualDrawType || WM[e];
  return n || (console.warn("Unknown style type '" + e + "'."), "fill");
}
var NM = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(t, e) {
    var n = t.getData(), r = t.visualStyleAccessPath || "itemStyle", o = t.getModel(r), a = km(t, r), i = a(o), s = o.getShallow("decal");
    s && (n.setVisual("decal", s), s.dirty = !0);
    var l = Em(t, r), u = i[l], c = Be(u) ? u : null, f = i.fill === "auto" || i.stroke === "auto";
    if (!i[l] || c || f) {
      var h = t.getColorFromPalette(
        // TODO series count changed.
        t.name,
        null,
        e.getSeriesCount()
      );
      i[l] || (i[l] = h, n.setVisual("colorFromPalette", !0)), i.fill = i.fill === "auto" || Be(i.fill) ? h : i.fill, i.stroke = i.stroke === "auto" || Be(i.stroke) ? h : i.stroke;
    }
    if (n.setVisual("style", i), n.setVisual("drawType", l), !e.isSeriesFiltered(t) && c)
      return n.setVisual("colorFromPalette", !1), {
        dataEach: function(d, p) {
          var m = t.getDataParams(p), g = ie({}, i);
          g[l] = c(m), d.setItemVisual(p, "style", g);
        }
      };
  }
}, jo = new zt(), HM = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(t, e) {
    if (!(t.ignoreStyleOnData || e.isSeriesFiltered(t))) {
      var n = t.getData(), r = t.visualStyleAccessPath || "itemStyle", o = km(t, r), a = n.getVisual("drawType");
      return {
        dataEach: n.hasItemOption ? function(i, s) {
          var l = i.getRawDataItem(s);
          if (l && l[r]) {
            jo.option = l[r];
            var u = o(jo), c = i.ensureUniqueItemVisual(s, "style");
            ie(c, u), jo.option.decal && (i.setItemVisual(s, "decal", jo.option.decal), jo.option.decal.dirty = !0), a in u && i.setItemVisual(s, "colorFromPalette", !1);
          }
        } : null
      };
    }
  }
}, VM = {
  performRawSeries: !0,
  overallReset: function(t) {
    var e = Ae();
    t.eachSeries(function(n) {
      var r = n.getColorBy();
      if (!n.isColorBySeries()) {
        var o = n.type + "-" + r, a = e.get(o);
        a || (a = {}, e.set(o, a)), Zp(n).scope = a;
      }
    }), t.eachSeries(function(n) {
      if (!(n.isColorBySeries() || t.isSeriesFiltered(n))) {
        var r = n.getRawData(), o = {}, a = n.getData(), i = Zp(n).scope, s = n.visualStyleAccessPath || "itemStyle", l = Em(n, s);
        a.each(function(u) {
          var c = a.getRawIndex(u);
          o[c] = u;
        }), r.each(function(u) {
          var c = o[u], f = a.getItemVisual(c, "colorFromPalette");
          if (f) {
            var h = a.ensureUniqueItemVisual(c, "style"), d = r.getName(u) || u + "", p = r.count();
            h[l] = n.getColorFromPalette(d, i, p);
          }
        });
      }
    });
  }
}, vi = Math.PI;
function qM(t, e) {
  e = e || {}, mt(e, {
    text: "loading",
    textColor: "#000",
    fontSize: 12,
    fontWeight: "normal",
    fontStyle: "normal",
    fontFamily: "sans-serif",
    maskColor: "rgba(255, 255, 255, 0.8)",
    showSpinner: !0,
    color: "#5470c6",
    spinnerRadius: 10,
    lineWidth: 5,
    zlevel: 0
  });
  var n = new Br(), r = new an({
    style: {
      fill: e.maskColor
    },
    zlevel: e.zlevel,
    z: 1e4
  });
  n.add(r);
  var o = new Ma({
    style: {
      text: e.text,
      fill: e.textColor,
      fontSize: e.fontSize,
      fontWeight: e.fontWeight,
      fontStyle: e.fontStyle,
      fontFamily: e.fontFamily
    },
    zlevel: e.zlevel,
    z: 10001
  }), a = new an({
    style: {
      fill: "none"
    },
    textContent: o,
    textConfig: {
      position: "right",
      distance: 10
    },
    zlevel: e.zlevel,
    z: 10001
  });
  n.add(a);
  var i;
  return e.showSpinner && (i = new bf({
    shape: {
      startAngle: -vi / 2,
      endAngle: -vi / 2 + 0.1,
      r: e.spinnerRadius
    },
    style: {
      stroke: e.color,
      lineCap: "round",
      lineWidth: e.lineWidth
    },
    zlevel: e.zlevel,
    z: 10001
  }), i.animateShape(!0).when(1e3, {
    endAngle: vi * 3 / 2
  }).start("circularInOut"), i.animateShape(!0).when(1e3, {
    startAngle: vi * 3 / 2
  }).delay(300).start("circularInOut"), n.add(i)), n.resize = function() {
    var s = o.getBoundingRect().width, l = e.showSpinner ? e.spinnerRadius : 0, u = (t.getWidth() - l * 2 - (e.showSpinner && s ? 10 : 0) - s) / 2 - (e.showSpinner && s ? 0 : 5 + s / 2) + (e.showSpinner ? 0 : s / 2) + (s ? 0 : l), c = t.getHeight() / 2;
    e.showSpinner && i.setShape({
      cx: u,
      cy: c
    }), a.setShape({
      x: u - l,
      y: c - l,
      width: l * 2,
      height: l * 2
    }), r.setShape({
      x: 0,
      y: 0,
      width: t.getWidth(),
      height: t.getHeight()
    });
  }, n.resize(), n;
}
var Mm = (
  /** @class */
  function() {
    function t(e, n, r, o) {
      this._stageTaskMap = Ae(), this.ecInstance = e, this.api = n, r = this._dataProcessorHandlers = r.slice(), o = this._visualHandlers = o.slice(), this._allHandlers = r.concat(o);
    }
    return t.prototype.restoreData = function(e, n) {
      e.restoreData(n), this._stageTaskMap.each(function(r) {
        var o = r.overallTask;
        o && o.dirty();
      });
    }, t.prototype.getPerformArgs = function(e, n) {
      if (e.__pipeline) {
        var r = this._pipelineMap.get(e.__pipeline.id), o = r.context, a = !n && r.progressiveEnabled && (!o || o.progressiveRender) && e.__idxInPipeline > r.blockIndex, i = a ? r.step : null, s = o && o.modDataCount, l = s != null ? Math.ceil(s / i) : null;
        return {
          step: i,
          modBy: l,
          modDataCount: s
        };
      }
    }, t.prototype.getPipeline = function(e) {
      return this._pipelineMap.get(e);
    }, t.prototype.updateStreamModes = function(e, n) {
      var r = this._pipelineMap.get(e.uid), o = e.getData(), a = o.count(), i = r.progressiveEnabled && n.incrementalPrepareRender && a >= r.threshold, s = e.get("large") && a >= e.get("largeThreshold"), l = e.get("progressiveChunkMode") === "mod" ? a : null;
      e.pipelineContext = r.context = {
        progressiveRender: i,
        modDataCount: l,
        large: s
      };
    }, t.prototype.restorePipelines = function(e) {
      var n = this, r = n._pipelineMap = Ae();
      e.eachSeries(function(o) {
        var a = o.getProgressive(), i = o.uid;
        r.set(i, {
          id: i,
          head: null,
          tail: null,
          threshold: o.getProgressiveThreshold(),
          progressiveEnabled: a && !(o.preventIncremental && o.preventIncremental()),
          blockIndex: -1,
          step: Math.round(a || 700),
          count: 0
        }), n._pipe(o, o.dataTask);
      });
    }, t.prototype.prepareStageTasks = function() {
      var e = this._stageTaskMap, n = this.api.getModel(), r = this.api;
      X(this._allHandlers, function(o) {
        var a = e.get(o.uid) || e.set(o.uid, {}), i = "";
        ar(!(o.reset && o.overallReset), i), o.reset && this._createSeriesStageTask(o, a, n, r), o.overallReset && this._createOverallStageTask(o, a, n, r);
      }, this);
    }, t.prototype.prepareView = function(e, n, r, o) {
      var a = e.renderTask, i = a.context;
      i.model = n, i.ecModel = r, i.api = o, a.__block = !e.incrementalPrepareRender, this._pipe(n, a);
    }, t.prototype.performDataProcessorTasks = function(e, n) {
      this._performStageTasks(this._dataProcessorHandlers, e, n, {
        block: !0
      });
    }, t.prototype.performVisualTasks = function(e, n, r) {
      this._performStageTasks(this._visualHandlers, e, n, r);
    }, t.prototype._performStageTasks = function(e, n, r, o) {
      o = o || {};
      var a = !1, i = this;
      X(e, function(l, u) {
        if (!(o.visualType && o.visualType !== l.visualType)) {
          var c = i._stageTaskMap.get(l.uid), f = c.seriesTaskMap, h = c.overallTask;
          if (h) {
            var d, p = h.agentStubMap;
            p.each(function(g) {
              s(o, g) && (g.dirty(), d = !0);
            }), d && h.dirty(), i.updatePayload(h, r);
            var m = i.getPerformArgs(h, o.block);
            p.each(function(g) {
              g.perform(m);
            }), h.perform(m) && (a = !0);
          } else f && f.each(function(g, v) {
            s(o, g) && g.dirty();
            var y = i.getPerformArgs(g, o.block);
            y.skip = !l.performRawSeries && n.isSeriesFiltered(g.context.model), i.updatePayload(g, r), g.perform(y) && (a = !0);
          });
        }
      });
      function s(l, u) {
        return l.setDirty && (!l.dirtyMap || l.dirtyMap.get(u.__pipeline.id));
      }
      this.unfinished = a || this.unfinished;
    }, t.prototype.performSeriesTasks = function(e) {
      var n;
      e.eachSeries(function(r) {
        n = r.dataTask.perform() || n;
      }), this.unfinished = n || this.unfinished;
    }, t.prototype.plan = function() {
      this._pipelineMap.each(function(e) {
        var n = e.tail;
        do {
          if (n.__block) {
            e.blockIndex = n.__idxInPipeline;
            break;
          }
          n = n.getUpstream();
        } while (n);
      });
    }, t.prototype.updatePayload = function(e, n) {
      n !== "remain" && (e.context.payload = n);
    }, t.prototype._createSeriesStageTask = function(e, n, r, o) {
      var a = this, i = n.seriesTaskMap, s = n.seriesTaskMap = Ae(), l = e.seriesType, u = e.getTargetSeries;
      e.createOnAllSeries ? r.eachRawSeries(c) : l ? r.eachRawSeriesByType(l, c) : u && u(r, o).each(c);
      function c(f) {
        var h = f.uid, d = s.set(h, i && i.get(h) || wa({
          plan: XM,
          reset: ZM,
          count: JM
        }));
        d.context = {
          model: f,
          ecModel: r,
          api: o,
          // PENDING: `useClearVisual` not used?
          useClearVisual: e.isVisual && !e.isLayout,
          plan: e.plan,
          reset: e.reset,
          scheduler: a
        }, a._pipe(f, d);
      }
    }, t.prototype._createOverallStageTask = function(e, n, r, o) {
      var a = this, i = n.overallTask = n.overallTask || wa({
        reset: jM
      });
      i.context = {
        ecModel: r,
        api: o,
        overallReset: e.overallReset,
        scheduler: a
      };
      var s = i.agentStubMap, l = i.agentStubMap = Ae(), u = e.seriesType, c = e.getTargetSeries, f = !0, h = !1, d = "";
      ar(!e.createOnAllSeries, d), u ? r.eachRawSeriesByType(u, p) : c ? c(r, o).each(p) : (f = !1, X(r.getSeries(), p));
      function p(m) {
        var g = m.uid, v = l.set(g, s && s.get(g) || // When the result of `getTargetSeries` changed, the overallTask
        // should be set as dirty and re-performed.
        (h = !0, wa({
          reset: UM,
          onDirty: GM
        })));
        v.context = {
          model: m,
          overallProgress: f
          // FIXME:TS never used, so comment it
          // modifyOutputEnd: modifyOutputEnd
        }, v.agent = i, v.__block = f, a._pipe(m, v);
      }
      h && i.dirty();
    }, t.prototype._pipe = function(e, n) {
      var r = e.uid, o = this._pipelineMap.get(r);
      !o.head && (o.head = n), o.tail && o.tail.pipe(n), o.tail = n, n.__idxInPipeline = o.count++, n.__pipeline = o;
    }, t.wrapStageHandler = function(e, n) {
      return Be(e) && (e = {
        overallReset: e,
        seriesType: QM(e)
      }), e.uid = Xs("stageHandler"), n && (e.visualType = n), e;
    }, t;
  }()
);
function jM(t) {
  t.overallReset(t.ecModel, t.api, t.payload);
}
function UM(t) {
  return t.overallProgress && YM;
}
function YM() {
  this.agent.dirty(), this.getDownstream().dirty();
}
function GM() {
  this.agent && this.agent.dirty();
}
function XM(t) {
  return t.plan ? t.plan(t.model, t.ecModel, t.api, t.payload) : null;
}
function ZM(t) {
  t.useClearVisual && t.data.clearAllVisual();
  var e = t.resetDefines = yt(t.reset(t.model, t.ecModel, t.api, t.payload));
  return e.length > 1 ? je(e, function(n, r) {
    return Om(r);
  }) : KM;
}
var KM = Om(0);
function Om(t) {
  return function(e, n) {
    var r = n.data, o = n.resetDefines[t];
    if (o && o.dataEach)
      for (var a = e.start; a < e.end; a++)
        o.dataEach(r, a);
    else o && o.progress && o.progress(e, r);
  };
}
function JM(t) {
  return t.data.count();
}
function QM(t) {
  vs = null;
  try {
    t(Ra, Rm);
  } catch {
  }
  return vs;
}
var Ra = {}, Rm = {}, vs;
Lm(Ra, Df);
Lm(Rm, hm);
Ra.eachSeriesByType = Ra.eachRawSeriesByType = function(t) {
  vs = t;
};
Ra.eachComponent = function(t) {
  t.mainType === "series" && t.subType && (vs = t.subType);
};
function Lm(t, e) {
  for (var n in e.prototype)
    t[n] = Gt;
}
var Jp = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"];
const eO = {
  color: Jp,
  colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], Jp]
};
var ut = "#B9B8CE", Qp = "#100C2A", gi = function() {
  return {
    axisLine: {
      lineStyle: {
        color: ut
      }
    },
    splitLine: {
      lineStyle: {
        color: "#484753"
      }
    },
    splitArea: {
      areaStyle: {
        color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"]
      }
    },
    minorSplitLine: {
      lineStyle: {
        color: "#20203B"
      }
    }
  };
}, ev = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"], $m = {
  darkMode: !0,
  color: ev,
  backgroundColor: Qp,
  axisPointer: {
    lineStyle: {
      color: "#817f91"
    },
    crossStyle: {
      color: "#817f91"
    },
    label: {
      // TODO Contrast of label backgorundColor
      color: "#fff"
    }
  },
  legend: {
    textStyle: {
      color: ut
    },
    pageTextStyle: {
      color: ut
    }
  },
  textStyle: {
    color: ut
  },
  title: {
    textStyle: {
      color: "#EEF1FA"
    },
    subtextStyle: {
      color: "#B9B8CE"
    }
  },
  toolbox: {
    iconStyle: {
      borderColor: ut
    }
  },
  dataZoom: {
    borderColor: "#71708A",
    textStyle: {
      color: ut
    },
    brushStyle: {
      color: "rgba(135,163,206,0.3)"
    },
    handleStyle: {
      color: "#353450",
      borderColor: "#C5CBE3"
    },
    moveHandleStyle: {
      color: "#B0B6C3",
      opacity: 0.3
    },
    fillerColor: "rgba(135,163,206,0.2)",
    emphasis: {
      handleStyle: {
        borderColor: "#91B7F2",
        color: "#4D587D"
      },
      moveHandleStyle: {
        color: "#636D9A",
        opacity: 0.7
      }
    },
    dataBackground: {
      lineStyle: {
        color: "#71708A",
        width: 1
      },
      areaStyle: {
        color: "#71708A"
      }
    },
    selectedDataBackground: {
      lineStyle: {
        color: "#87A3CE"
      },
      areaStyle: {
        color: "#87A3CE"
      }
    }
  },
  visualMap: {
    textStyle: {
      color: ut
    }
  },
  timeline: {
    lineStyle: {
      color: ut
    },
    label: {
      color: ut
    },
    controlStyle: {
      color: ut,
      borderColor: ut
    }
  },
  calendar: {
    itemStyle: {
      color: Qp
    },
    dayLabel: {
      color: ut
    },
    monthLabel: {
      color: ut
    },
    yearLabel: {
      color: ut
    }
  },
  timeAxis: gi(),
  logAxis: gi(),
  valueAxis: gi(),
  categoryAxis: gi(),
  line: {
    symbol: "circle"
  },
  graph: {
    color: ev
  },
  gauge: {
    title: {
      color: ut
    },
    axisLine: {
      lineStyle: {
        color: [[1, "rgba(207,212,219,0.2)"]]
      }
    },
    axisLabel: {
      color: ut
    },
    detail: {
      color: "#EEF1FA"
    }
  },
  candlestick: {
    itemStyle: {
      color: "#f64e56",
      color0: "#54ea92",
      borderColor: "#f64e56",
      borderColor0: "#54ea92"
      // borderColor: '#ca2824',
      // borderColor0: '#09a443'
    }
  }
};
$m.categoryAxis.splitLine.show = !1;
var tO = (
  /** @class */
  function() {
    function t() {
    }
    return t.prototype.normalizeQuery = function(e) {
      var n = {}, r = {}, o = {};
      if (Le(e)) {
        var a = bn(e);
        n.mainType = a.main || null, n.subType = a.sub || null;
      } else {
        var i = ["Index", "Name", "Id"], s = {
          name: 1,
          dataIndex: 1,
          dataType: 1
        };
        X(e, function(l, u) {
          for (var c = !1, f = 0; f < i.length; f++) {
            var h = i[f], d = u.lastIndexOf(h);
            if (d > 0 && d === u.length - h.length) {
              var p = u.slice(0, d);
              p !== "data" && (n.mainType = p, n[h.toLowerCase()] = l, c = !0);
            }
          }
          s.hasOwnProperty(u) && (r[u] = l, c = !0), c || (o[u] = l);
        });
      }
      return {
        cptQuery: n,
        dataQuery: r,
        otherQuery: o
      };
    }, t.prototype.filter = function(e, n) {
      var r = this.eventInfo;
      if (!r)
        return !0;
      var o = r.targetEl, a = r.packedEvent, i = r.model, s = r.view;
      if (!i || !s)
        return !0;
      var l = n.cptQuery, u = n.dataQuery;
      return c(l, i, "mainType") && c(l, i, "subType") && c(l, i, "index", "componentIndex") && c(l, i, "name") && c(l, i, "id") && c(u, a, "name") && c(u, a, "dataIndex") && c(u, a, "dataType") && (!s.filterForExposedEvent || s.filterForExposedEvent(e, n.otherQuery, o, a));
      function c(f, h, d, p) {
        return f[d] == null || h[p || d] === f[d];
      }
    }, t.prototype.afterTrigger = function() {
      this.eventInfo = null;
    }, t;
  }()
), yc = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], tv = yc.concat(["symbolKeepAspect"]), nO = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(t, e) {
    var n = t.getData();
    if (t.legendIcon && n.setVisual("legendIcon", t.legendIcon), !t.hasSymbolVisual)
      return;
    for (var r = {}, o = {}, a = !1, i = 0; i < yc.length; i++) {
      var s = yc[i], l = t.get(s);
      Be(l) ? (a = !0, o[s] = l) : r[s] = l;
    }
    if (r.symbol = r.symbol || t.defaultSymbol, n.setVisual(ie({
      legendIcon: t.legendIcon || r.symbol,
      symbolKeepAspect: t.get("symbolKeepAspect")
    }, r)), e.isSeriesFiltered(t))
      return;
    var u = Ke(o);
    function c(f, h) {
      for (var d = t.getRawValue(h), p = t.getDataParams(h), m = 0; m < u.length; m++) {
        var g = u[m];
        f.setItemVisual(h, g, o[g](d, p));
      }
    }
    return {
      dataEach: a ? c : null
    };
  }
}, rO = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(t, e) {
    if (!t.hasSymbolVisual || e.isSeriesFiltered(t))
      return;
    var n = t.getData();
    function r(o, a) {
      for (var i = o.getItemModel(a), s = 0; s < tv.length; s++) {
        var l = tv[s], u = i.getShallow(l, !0);
        u != null && o.setItemVisual(a, l, u);
      }
    }
    return {
      dataEach: n.hasItemOption ? r : null
    };
  }
};
function oO(t, e, n) {
  switch (n) {
    case "color":
      var r = t.getItemVisual(e, "style");
      return r[t.getVisual("drawType")];
    case "opacity":
      return t.getItemVisual(e, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return t.getItemVisual(e, n);
  }
}
function aO(t, e) {
  switch (e) {
    case "color":
      var n = t.getVisual("style");
      return n[t.getVisual("drawType")];
    case "opacity":
      return t.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return t.getVisual(e);
  }
}
function no(t, e, n, r, o) {
  var a = t + e;
  n.isSilent(a) || r.eachComponent({
    mainType: "series",
    subType: "pie"
  }, function(i) {
    for (var s = i.seriesIndex, l = i.option.selectedMap, u = o.selected, c = 0; c < u.length; c++)
      if (u[c].seriesIndex === s) {
        var f = i.getData(), h = Hs(f, o.fromActionPayload);
        n.trigger(a, {
          type: a,
          seriesId: i.id,
          name: Ce(h) ? f.getName(h[0]) : f.getName(h),
          selected: Le(l) ? l : ie({}, l)
        });
      }
  });
}
function iO(t, e, n) {
  t.on("selectchanged", function(r) {
    var o = n.getModel();
    r.isFromClick ? (no("map", "selectchanged", e, o, r), no("pie", "selectchanged", e, o, r)) : r.fromAction === "select" ? (no("map", "selected", e, o, r), no("pie", "selected", e, o, r)) : r.fromAction === "unselect" && (no("map", "unselected", e, o, r), no("pie", "unselected", e, o, r));
  });
}
function yi(t, e, n) {
  for (var r; t && !(e(t) && (r = t, n)); )
    t = t.__hostTarget || t.parent;
  return r;
}
var sO = Math.round(Math.random() * 9), lO = typeof Object.defineProperty == "function", uO = function() {
  function t() {
    this._id = "__ec_inner_" + sO++;
  }
  return t.prototype.get = function(e) {
    return this._guard(e)[this._id];
  }, t.prototype.set = function(e, n) {
    var r = this._guard(e);
    return lO ? Object.defineProperty(r, this._id, {
      value: n,
      enumerable: !1,
      configurable: !0
    }) : r[this._id] = n, this;
  }, t.prototype.delete = function(e) {
    return this.has(e) ? (delete this._guard(e)[this._id], !0) : !1;
  }, t.prototype.has = function(e) {
    return !!this._guard(e)[this._id];
  }, t.prototype._guard = function(e) {
    if (e !== Object(e))
      throw TypeError("Value of WeakMap is not a non-null object.");
    return e;
  }, t;
}(), cO = Ve.extend({
  type: "triangle",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.cx, r = e.cy, o = e.width / 2, a = e.height / 2;
    t.moveTo(n, r - a), t.lineTo(n + o, r + a), t.lineTo(n - o, r + a), t.closePath();
  }
}), fO = Ve.extend({
  type: "diamond",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.cx, r = e.cy, o = e.width / 2, a = e.height / 2;
    t.moveTo(n, r - a), t.lineTo(n + o, r), t.lineTo(n, r + a), t.lineTo(n - o, r), t.closePath();
  }
}), dO = Ve.extend({
  type: "pin",
  shape: {
    // x, y on the cusp
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.x, r = e.y, o = e.width / 5 * 3, a = Math.max(o, e.height), i = o / 2, s = i * i / (a - i), l = r - a + i + s, u = Math.asin(s / i), c = Math.cos(u) * i, f = Math.sin(u), h = Math.cos(u), d = i * 0.6, p = i * 0.7;
    t.moveTo(n - c, l + s), t.arc(n, l, i, Math.PI - u, Math.PI * 2 + u), t.bezierCurveTo(n + c - f * d, l + s + h * d, n, r - p, n, r), t.bezierCurveTo(n, r - p, n - c + f * d, l + s + h * d, n - c, l + s), t.closePath();
  }
}), hO = Ve.extend({
  type: "arrow",
  shape: {
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(t, e) {
    var n = e.height, r = e.width, o = e.x, a = e.y, i = r / 3 * 2;
    t.moveTo(o, a), t.lineTo(o + i, a + n), t.lineTo(o, a + n / 4 * 3), t.lineTo(o - i, a + n), t.lineTo(o, a), t.closePath();
  }
}), pO = {
  line: Sf,
  rect: an,
  roundRect: an,
  square: an,
  circle: Gs,
  diamond: fO,
  pin: dO,
  arrow: hO,
  triangle: cO
}, vO = {
  line: function(t, e, n, r, o) {
    o.x1 = t, o.y1 = e + r / 2, o.x2 = t + n, o.y2 = e + r / 2;
  },
  rect: function(t, e, n, r, o) {
    o.x = t, o.y = e, o.width = n, o.height = r;
  },
  roundRect: function(t, e, n, r, o) {
    o.x = t, o.y = e, o.width = n, o.height = r, o.r = Math.min(n, r) / 4;
  },
  square: function(t, e, n, r, o) {
    var a = Math.min(n, r);
    o.x = t, o.y = e, o.width = a, o.height = a;
  },
  circle: function(t, e, n, r, o) {
    o.cx = t + n / 2, o.cy = e + r / 2, o.r = Math.min(n, r) / 2;
  },
  diamond: function(t, e, n, r, o) {
    o.cx = t + n / 2, o.cy = e + r / 2, o.width = n, o.height = r;
  },
  pin: function(t, e, n, r, o) {
    o.x = t + n / 2, o.y = e + r / 2, o.width = n, o.height = r;
  },
  arrow: function(t, e, n, r, o) {
    o.x = t + n / 2, o.y = e + r / 2, o.width = n, o.height = r;
  },
  triangle: function(t, e, n, r, o) {
    o.cx = t + n / 2, o.cy = e + r / 2, o.width = n, o.height = r;
  }
}, mc = {};
X(pO, function(t, e) {
  mc[e] = new t();
});
var gO = Ve.extend({
  type: "symbol",
  shape: {
    symbolType: "",
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  calculateTextPosition: function(t, e, n) {
    var r = by(t, e, n), o = this.shape;
    return o && o.symbolType === "pin" && e.position === "inside" && (r.y = n.y + n.height * 0.4), r;
  },
  buildPath: function(t, e, n) {
    var r = e.symbolType;
    if (r !== "none") {
      var o = mc[r];
      o || (r = "rect", o = mc[r]), vO[r](e.x, e.y, e.width, e.height, o.shape), o.buildPath(t, o.shape, n);
    }
  }
});
function yO(t, e) {
  if (this.type !== "image") {
    var n = this.style;
    this.__isEmptyBrush ? (n.stroke = t, n.fill = e || "#fff", n.lineWidth = 2) : this.shape.symbolType === "line" ? n.stroke = t : n.fill = t, this.markRedraw();
  }
}
function Sc(t, e, n, r, o, a, i) {
  var s = t.indexOf("empty") === 0;
  s && (t = t.substr(5, 1).toLowerCase() + t.substr(6));
  var l;
  return t.indexOf("image://") === 0 ? l = Qk(t.slice(8), new Ie(e, n, r, o), i ? "center" : "cover") : t.indexOf("path://") === 0 ? l = dc(t.slice(7), {}, new Ie(e, n, r, o), i ? "center" : "cover") : l = new gO({
    shape: {
      symbolType: t,
      x: e,
      y: n,
      width: r,
      height: o
    }
  }), l.__isEmptyBrush = s, l.setColor = yO, a && l.setColor(a), l;
}
function Er(t) {
  return isFinite(t);
}
function mO(t, e, n) {
  var r = e.x == null ? 0 : e.x, o = e.x2 == null ? 1 : e.x2, a = e.y == null ? 0 : e.y, i = e.y2 == null ? 0 : e.y2;
  e.global || (r = r * n.width + n.x, o = o * n.width + n.x, a = a * n.height + n.y, i = i * n.height + n.y), r = Er(r) ? r : 0, o = Er(o) ? o : 1, a = Er(a) ? a : 0, i = Er(i) ? i : 0;
  var s = t.createLinearGradient(r, a, o, i);
  return s;
}
function SO(t, e, n) {
  var r = n.width, o = n.height, a = Math.min(r, o), i = e.x == null ? 0.5 : e.x, s = e.y == null ? 0.5 : e.y, l = e.r == null ? 0.5 : e.r;
  e.global || (i = i * r + n.x, s = s * o + n.y, l = l * a), i = Er(i) ? i : 0.5, s = Er(s) ? s : 0.5, l = l >= 0 && Er(l) ? l : 0.5;
  var u = t.createRadialGradient(i, s, 0, i, s, l);
  return u;
}
function bc(t, e, n) {
  for (var r = e.type === "radial" ? SO(t, e, n) : mO(t, e, n), o = e.colorStops, a = 0; a < o.length; a++)
    r.addColorStop(o[a].offset, o[a].color);
  return r;
}
function bO(t, e) {
  if (t === e || !t && !e)
    return !1;
  if (!t || !e || t.length !== e.length)
    return !0;
  for (var n = 0; n < t.length; n++)
    if (t[n] !== e[n])
      return !0;
  return !1;
}
function mi(t) {
  return parseInt(t, 10);
}
function Si(t, e, n) {
  var r = ["width", "height"][e], o = ["clientWidth", "clientHeight"][e], a = ["paddingLeft", "paddingTop"][e], i = ["paddingRight", "paddingBottom"][e];
  if (n[r] != null && n[r] !== "auto")
    return parseFloat(n[r]);
  var s = document.defaultView.getComputedStyle(t);
  return (t[o] || mi(s[r]) || mi(t.style[r])) - (mi(s[a]) || 0) - (mi(s[i]) || 0) | 0;
}
function wO(t, e) {
  return !t || t === "solid" || !(e > 0) ? null : t === "dashed" ? [4 * e, 2 * e] : t === "dotted" ? [e] : gt(t) ? [t] : Ce(t) ? t : null;
}
function Im(t) {
  var e = t.style, n = e.lineDash && e.lineWidth > 0 && wO(e.lineDash, e.lineWidth), r = e.lineDashOffset;
  if (n) {
    var o = e.strokeNoScale && t.getLineScale ? t.getLineScale() : 1;
    o && o !== 1 && (n = je(n, function(a) {
      return a / o;
    }), r /= o);
  }
  return [n, r];
}
var _O = new Wr(!0);
function gs(t) {
  var e = t.stroke;
  return !(e == null || e === "none" || !(t.lineWidth > 0));
}
function nv(t) {
  return typeof t == "string" && t !== "none";
}
function ys(t) {
  var e = t.fill;
  return e != null && e !== "none";
}
function rv(t, e) {
  if (e.fillOpacity != null && e.fillOpacity !== 1) {
    var n = t.globalAlpha;
    t.globalAlpha = e.fillOpacity * e.opacity, t.fill(), t.globalAlpha = n;
  } else
    t.fill();
}
function ov(t, e) {
  if (e.strokeOpacity != null && e.strokeOpacity !== 1) {
    var n = t.globalAlpha;
    t.globalAlpha = e.strokeOpacity * e.opacity, t.stroke(), t.globalAlpha = n;
  } else
    t.stroke();
}
function wc(t, e, n) {
  var r = Oy(e.image, e.__image, n);
  if (qs(r)) {
    var o = t.createPattern(r, e.repeat || "repeat");
    if (typeof DOMMatrix == "function" && o && o.setTransform) {
      var a = new DOMMatrix();
      a.translateSelf(e.x || 0, e.y || 0), a.rotateSelf(0, 0, (e.rotation || 0) * xF), a.scaleSelf(e.scaleX || 1, e.scaleY || 1), o.setTransform(a);
    }
    return o;
  }
}
function xO(t, e, n, r) {
  var o, a = gs(n), i = ys(n), s = n.strokePercent, l = s < 1, u = !e.path;
  (!e.silent || l) && u && e.createPathProxy();
  var c = e.path || _O, f = e.__dirty;
  if (!r) {
    var h = n.fill, d = n.stroke, p = i && !!h.colorStops, m = a && !!d.colorStops, g = i && !!h.image, v = a && !!d.image, y = void 0, S = void 0, b = void 0, _ = void 0, w = void 0;
    (p || m) && (w = e.getBoundingRect()), p && (y = f ? bc(t, h, w) : e.__canvasFillGradient, e.__canvasFillGradient = y), m && (S = f ? bc(t, d, w) : e.__canvasStrokeGradient, e.__canvasStrokeGradient = S), g && (b = f || !e.__canvasFillPattern ? wc(t, h, e) : e.__canvasFillPattern, e.__canvasFillPattern = b), v && (_ = f || !e.__canvasStrokePattern ? wc(t, d, e) : e.__canvasStrokePattern, e.__canvasStrokePattern = b), p ? t.fillStyle = y : g && (b ? t.fillStyle = b : i = !1), m ? t.strokeStyle = S : v && (_ ? t.strokeStyle = _ : a = !1);
  }
  var T = e.getGlobalScale();
  c.setScale(T[0], T[1], e.segmentIgnoreThreshold);
  var C, x;
  t.setLineDash && n.lineDash && (o = Im(e), C = o[0], x = o[1]);
  var D = !0;
  (u || f & ta) && (c.setDPR(t.dpr), l ? c.setContext(null) : (c.setContext(t), D = !1), c.reset(), e.buildPath(c, e.shape, r), c.toStatic(), e.pathUpdated()), D && c.rebuildPath(t, l ? s : 1), C && (t.setLineDash(C), t.lineDashOffset = x), r || (n.strokeFirst ? (a && ov(t, n), i && rv(t, n)) : (i && rv(t, n), a && ov(t, n))), C && t.setLineDash([]);
}
function DO(t, e, n) {
  var r = e.__image = Oy(n.image, e.__image, e, e.onload);
  if (!(!r || !qs(r))) {
    var o = n.x || 0, a = n.y || 0, i = e.getWidth(), s = e.getHeight(), l = r.width / r.height;
    if (i == null && s != null ? i = s * l : s == null && i != null ? s = i / l : i == null && s == null && (i = r.width, s = r.height), n.sWidth && n.sHeight) {
      var u = n.sx || 0, c = n.sy || 0;
      t.drawImage(r, u, c, n.sWidth, n.sHeight, o, a, i, s);
    } else if (n.sx && n.sy) {
      var u = n.sx, c = n.sy, f = i - u, h = s - c;
      t.drawImage(r, u, c, f, h, o, a, i, s);
    } else
      t.drawImage(r, o, a, i, s);
  }
}
function CO(t, e, n) {
  var r, o = n.text;
  if (o != null && (o += ""), o) {
    t.font = n.font || zr, t.textAlign = n.textAlign, t.textBaseline = n.textBaseline;
    var a = void 0, i = void 0;
    t.setLineDash && n.lineDash && (r = Im(e), a = r[0], i = r[1]), a && (t.setLineDash(a), t.lineDashOffset = i), n.strokeFirst ? (gs(n) && t.strokeText(o, n.x, n.y), ys(n) && t.fillText(o, n.x, n.y)) : (ys(n) && t.fillText(o, n.x, n.y), gs(n) && t.strokeText(o, n.x, n.y)), a && t.setLineDash([]);
  }
}
var av = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], iv = [
  ["lineCap", "butt"],
  ["lineJoin", "miter"],
  ["miterLimit", 10]
];
function Pm(t, e, n, r, o) {
  var a = !1;
  if (!r && (n = n || {}, e === n))
    return !1;
  if (r || e.opacity !== n.opacity) {
    Dt(t, o), a = !0;
    var i = Math.max(Math.min(e.opacity, 1), 0);
    t.globalAlpha = isNaN(i) ? Lr.opacity : i;
  }
  (r || e.blend !== n.blend) && (a || (Dt(t, o), a = !0), t.globalCompositeOperation = e.blend || Lr.blend);
  for (var s = 0; s < av.length; s++) {
    var l = av[s];
    (r || e[l] !== n[l]) && (a || (Dt(t, o), a = !0), t[l] = t.dpr * (e[l] || 0));
  }
  return (r || e.shadowColor !== n.shadowColor) && (a || (Dt(t, o), a = !0), t.shadowColor = e.shadowColor || Lr.shadowColor), a;
}
function sv(t, e, n, r, o) {
  var a = La(e, o.inHover), i = r ? null : n && La(n, o.inHover) || {};
  if (a === i)
    return !1;
  var s = Pm(t, a, i, r, o);
  if ((r || a.fill !== i.fill) && (s || (Dt(t, o), s = !0), nv(a.fill) && (t.fillStyle = a.fill)), (r || a.stroke !== i.stroke) && (s || (Dt(t, o), s = !0), nv(a.stroke) && (t.strokeStyle = a.stroke)), (r || a.opacity !== i.opacity) && (s || (Dt(t, o), s = !0), t.globalAlpha = a.opacity == null ? 1 : a.opacity), e.hasStroke()) {
    var l = a.lineWidth, u = l / (a.strokeNoScale && e.getLineScale ? e.getLineScale() : 1);
    t.lineWidth !== u && (s || (Dt(t, o), s = !0), t.lineWidth = u);
  }
  for (var c = 0; c < iv.length; c++) {
    var f = iv[c], h = f[0];
    (r || a[h] !== i[h]) && (s || (Dt(t, o), s = !0), t[h] = a[h] || f[1]);
  }
  return s;
}
function TO(t, e, n, r, o) {
  return Pm(t, La(e, o.inHover), n && La(n, o.inHover), r, o);
}
function zm(t, e) {
  var n = e.transform, r = t.dpr || 1;
  n ? t.setTransform(r * n[0], r * n[1], r * n[2], r * n[3], r * n[4], r * n[5]) : t.setTransform(r, 0, 0, r, 0, 0);
}
function FO(t, e, n) {
  for (var r = !1, o = 0; o < t.length; o++) {
    var a = t[o];
    r = r || a.isZeroArea(), zm(e, a), e.beginPath(), a.buildPath(e, a.shape), e.clip();
  }
  n.allClipped = r;
}
function AO(t, e) {
  return t && e ? t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || t[4] !== e[4] || t[5] !== e[5] : !(!t && !e);
}
var lv = 1, uv = 2, cv = 3, fv = 4;
function kO(t) {
  var e = ys(t), n = gs(t);
  return !(t.lineDash || !(+e ^ +n) || e && typeof t.fill != "string" || n && typeof t.stroke != "string" || t.strokePercent < 1 || t.strokeOpacity < 1 || t.fillOpacity < 1);
}
function Dt(t, e) {
  e.batchFill && t.fill(), e.batchStroke && t.stroke(), e.batchFill = "", e.batchStroke = "";
}
function La(t, e) {
  return e && t.__hoverStyle || t.style;
}
function Bm(t, e) {
  Mr(t, e, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0);
}
function Mr(t, e, n, r) {
  var o = e.transform;
  if (!e.shouldBePainted(n.viewWidth, n.viewHeight, !1, !1)) {
    e.__dirty &= -2, e.__isRendered = !1;
    return;
  }
  var a = e.__clipPaths, i = n.prevElClipPaths, s = !1, l = !1;
  if ((!i || bO(a, i)) && (i && i.length && (Dt(t, n), t.restore(), l = s = !0, n.prevElClipPaths = null, n.allClipped = !1, n.prevEl = null), a && a.length && (Dt(t, n), t.save(), FO(a, t, n), s = !0), n.prevElClipPaths = a), n.allClipped) {
    e.__isRendered = !1;
    return;
  }
  e.beforeBrush && e.beforeBrush(), e.innerBeforeBrush();
  var u = n.prevEl;
  u || (l = s = !0);
  var c = e instanceof Ve && e.autoBatch && kO(e.style);
  s || AO(o, u.transform) ? (Dt(t, n), zm(t, e)) : c || Dt(t, n);
  var f = La(e, n.inHover);
  e instanceof Ve ? (n.lastDrawType !== lv && (l = !0, n.lastDrawType = lv), sv(t, e, u, l, n), (!c || !n.batchFill && !n.batchStroke) && t.beginPath(), xO(t, e, f, c), c && (n.batchFill = f.fill || "", n.batchStroke = f.stroke || "")) : e instanceof us ? (n.lastDrawType !== cv && (l = !0, n.lastDrawType = cv), sv(t, e, u, l, n), CO(t, e, f)) : e instanceof qa ? (n.lastDrawType !== uv && (l = !0, n.lastDrawType = uv), TO(t, e, u, l, n), DO(t, e, f)) : e.getTemporalDisplayables && (n.lastDrawType !== fv && (l = !0, n.lastDrawType = fv), EO(t, e, n)), c && r && Dt(t, n), e.innerAfterBrush(), e.afterBrush && e.afterBrush(), n.prevEl = e, e.__dirty = 0, e.__isRendered = !0;
}
function EO(t, e, n) {
  var r = e.getDisplayables(), o = e.getTemporalDisplayables();
  t.save();
  var a = {
    prevElClipPaths: null,
    prevEl: null,
    allClipped: !1,
    viewWidth: n.viewWidth,
    viewHeight: n.viewHeight,
    inHover: n.inHover
  }, i, s;
  for (i = e.getCursor(), s = r.length; i < s; i++) {
    var l = r[i];
    l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), Mr(t, l, a, i === s - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), a.prevEl = l;
  }
  for (var u = 0, c = o.length; u < c; u++) {
    var l = o[u];
    l.beforeBrush && l.beforeBrush(), l.innerBeforeBrush(), Mr(t, l, a, u === c - 1), l.innerAfterBrush(), l.afterBrush && l.afterBrush(), a.prevEl = l;
  }
  e.clearTemporalDisplayables(), e.notClear = !0, t.restore();
}
var ru = new uO(), dv = new Va(100), hv = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function pv(t, e) {
  if (t === "none")
    return null;
  var n = e.getDevicePixelRatio(), r = e.getZr(), o = r.painter.type === "svg";
  t.dirty && ru.delete(t);
  var a = ru.get(t);
  if (a)
    return a;
  var i = mt(t, {
    symbol: "rect",
    symbolSize: 1,
    symbolKeepAspect: !0,
    color: "rgba(0, 0, 0, 0.2)",
    backgroundColor: null,
    dashArrayX: 5,
    dashArrayY: 5,
    rotation: 0,
    maxTileWidth: 512,
    maxTileHeight: 512
  });
  i.backgroundColor === "none" && (i.backgroundColor = null);
  var s = {
    repeat: "repeat"
  };
  return l(s), s.rotation = i.rotation, s.scaleX = s.scaleY = o ? 1 : 1 / n, ru.set(t, s), t.dirty = !1, s;
  function l(u) {
    for (var c = [n], f = !0, h = 0; h < hv.length; ++h) {
      var d = i[hv[h]];
      if (d != null && !Ce(d) && !Le(d) && !gt(d) && typeof d != "boolean") {
        f = !1;
        break;
      }
      c.push(d);
    }
    var p;
    if (f) {
      p = c.join(",") + (o ? "-svg" : "");
      var m = dv.get(p);
      m && (o ? u.svgElement = m : u.image = m);
    }
    var g = Nm(i.dashArrayX), v = MO(i.dashArrayY), y = Wm(i.symbol), S = OO(g), b = Hm(v), _ = !o && Ao.createCanvas(), w = o && {
      tag: "g",
      attrs: {},
      key: "dcl",
      children: []
    }, T = x(), C;
    _ && (_.width = T.width * n, _.height = T.height * n, C = _.getContext("2d")), D(), f && dv.put(p, _ || w), u.image = _, u.svgElement = w, u.svgWidth = T.width, u.svgHeight = T.height;
    function x() {
      for (var F = 1, I = 0, P = S.length; I < P; ++I)
        F = zh(F, S[I]);
      for (var O = 1, I = 0, P = y.length; I < P; ++I)
        O = zh(O, y[I].length);
      F *= O;
      var k = b * S.length * y.length;
      return {
        width: Math.max(1, Math.min(F, i.maxTileWidth)),
        height: Math.max(1, Math.min(k, i.maxTileHeight))
      };
    }
    function D() {
      C && (C.clearRect(0, 0, _.width, _.height), i.backgroundColor && (C.fillStyle = i.backgroundColor, C.fillRect(0, 0, _.width, _.height)));
      for (var F = 0, I = 0; I < v.length; ++I)
        F += v[I];
      if (F <= 0)
        return;
      for (var P = -b, O = 0, k = 0, $ = 0; P < T.height; ) {
        if (O % 2 === 0) {
          for (var M = k / 2 % y.length, A = 0, L = 0, R = 0; A < T.width * 2; ) {
            for (var E = 0, I = 0; I < g[$].length; ++I)
              E += g[$][I];
            if (E <= 0)
              break;
            if (L % 2 === 0) {
              var B = (1 - i.symbolSize) * 0.5, W = A + g[$][L] * B, z = P + v[O] * B, V = g[$][L] * i.symbolSize, q = v[O] * i.symbolSize, U = R / 2 % y[M].length;
              K(W, z, V, q, y[M][U]);
            }
            A += g[$][L], ++R, ++L, L === g[$].length && (L = 0);
          }
          ++$, $ === g.length && ($ = 0);
        }
        P += v[O], ++k, ++O, O === v.length && (O = 0);
      }
      function K(Z, ee, te, re, xe) {
        var ge = o ? 1 : n, Xe = Sc(xe, Z * ge, ee * ge, te * ge, re * ge, i.color, i.symbolKeepAspect);
        if (o) {
          var Mn = r.painter.renderOneToVNode(Xe);
          Mn && w.children.push(Mn);
        } else
          Bm(C, Xe);
      }
    }
  }
}
function Wm(t) {
  if (!t || t.length === 0)
    return [["rect"]];
  if (Le(t))
    return [[t]];
  for (var e = !0, n = 0; n < t.length; ++n)
    if (!Le(t[n])) {
      e = !1;
      break;
    }
  if (e)
    return Wm([t]);
  for (var r = [], n = 0; n < t.length; ++n)
    Le(t[n]) ? r.push([t[n]]) : r.push(t[n]);
  return r;
}
function Nm(t) {
  if (!t || t.length === 0)
    return [[0, 0]];
  if (gt(t)) {
    var e = Math.ceil(t);
    return [[e, e]];
  }
  for (var n = !0, r = 0; r < t.length; ++r)
    if (!gt(t[r])) {
      n = !1;
      break;
    }
  if (n)
    return Nm([t]);
  for (var o = [], r = 0; r < t.length; ++r)
    if (gt(t[r])) {
      var e = Math.ceil(t[r]);
      o.push([e, e]);
    } else {
      var e = je(t[r], function(s) {
        return Math.ceil(s);
      });
      e.length % 2 === 1 ? o.push(e.concat(e)) : o.push(e);
    }
  return o;
}
function MO(t) {
  if (!t || typeof t == "object" && t.length === 0)
    return [0, 0];
  if (gt(t)) {
    var e = Math.ceil(t);
    return [e, e];
  }
  var n = je(t, function(r) {
    return Math.ceil(r);
  });
  return t.length % 2 ? n.concat(n) : n;
}
function OO(t) {
  return je(t, function(e) {
    return Hm(e);
  });
}
function Hm(t) {
  for (var e = 0, n = 0; n < t.length; ++n)
    e += t[n];
  return t.length % 2 === 1 ? e * 2 : e;
}
function RO(t, e) {
  t.eachRawSeries(function(n) {
    if (!t.isSeriesFiltered(n)) {
      var r = n.getData();
      r.hasItemVisual() && r.each(function(i) {
        var s = r.getItemVisual(i, "decal");
        if (s) {
          var l = r.ensureUniqueItemVisual(i, "style");
          l.decal = pv(s, e);
        }
      });
      var o = r.getVisual("decal");
      if (o) {
        var a = r.getVisual("style");
        a.decal = pv(o, e);
      }
    }
  });
}
var vn = new Fn(), Vm = {};
function LO(t, e) {
  Vm[t] = e;
}
function $O(t) {
  return Vm[t];
}
var IO = 1, PO = 800, zO = 900, BO = 1e3, WO = 2e3, NO = 5e3, qm = 1e3, HO = 1100, Af = 2e3, jm = 3e3, VO = 4e3, Js = 4500, qO = 4600, jO = 5e3, UO = 6e3, Um = 7e3, YO = {
  PROCESSOR: {
    FILTER: BO,
    SERIES_FILTER: PO,
    STATISTIC: NO
  },
  VISUAL: {
    LAYOUT: qm,
    PROGRESSIVE_LAYOUT: HO,
    GLOBAL: Af,
    CHART: jm,
    POST_CHART_LAYOUT: qO,
    COMPONENT: VO,
    BRUSH: jO,
    CHART_ITEM: Js,
    ARIA: UO,
    DECAL: Um
  }
}, lt = "__flagInMainProcess", wt = "__pendingUpdate", ou = "__needsUpdateStatus", vv = /^[a-zA-Z0-9_]+$/;
function Ym(t) {
  return function() {
    for (var e = [], n = 0; n < arguments.length; n++)
      e[n] = arguments[n];
    if (this.isDisposed()) {
      this.id;
      return;
    }
    return Xm(this, t, e);
  };
}
function Gm(t) {
  return function() {
    for (var e = [], n = 0; n < arguments.length; n++)
      e[n] = arguments[n];
    return Xm(this, t, e);
  };
}
function Xm(t, e, n) {
  return n[0] = n[0] && n[0].toLowerCase(), Fn.prototype[e].apply(t, n);
}
var Zm = (
  /** @class */
  function(t) {
    Te(e, t);
    function e() {
      return t !== null && t.apply(this, arguments) || this;
    }
    return e;
  }(Fn)
), Km = Zm.prototype;
Km.on = Gm("on");
Km.off = Gm("off");
var ro, au, bi, Xn, iu, su, lu, Uo, Yo, gv, yv, uu, mv, wi, Sv, Nt, bv, GO = (
  /** @class */
  function(t) {
    Te(e, t);
    function e(n, r, o) {
      var a = t.call(this, new tO()) || this;
      a._chartsViews = [], a._chartsMap = {}, a._componentsViews = [], a._componentsMap = {}, a._pendingActions = [], o = o || {}, Le(r) && (r = Jm[r]), a._dom = n;
      var i = "canvas", s = "auto", l = !1;
      o.ssr;
      var u = a._zr = Ph(n, {
        renderer: o.renderer || i,
        devicePixelRatio: o.devicePixelRatio,
        width: o.width,
        height: o.height,
        ssr: o.ssr,
        useDirtyRect: Ee(o.useDirtyRect, l),
        useCoarsePointer: Ee(o.useCoarsePointer, s),
        pointerSize: o.pointerSize
      });
      a._ssr = o.ssr, a._throttledZrFlush = BM(xt(u.flush, u), 17), r = Re(r), r && gm(r, !0), a._theme = r, a._locale = wE(o.locale || bE), a._coordSysMgr = new pm();
      var c = a._api = Sv(a);
      function f(h, d) {
        return h.__prio - d.__prio;
      }
      return Mi(bs, f), Mi(_c, f), a._scheduler = new Mm(a, c, _c, bs), a._messageCenter = new Zm(), a._initEvents(), a.resize = xt(a.resize, a), u.animation.on("frame", a._onframe, a), gv(u, a), yv(u, a), ns(a), a;
    }
    return e.prototype._onframe = function() {
      if (!this._disposed) {
        bv(this);
        var n = this._scheduler;
        if (this[wt]) {
          var r = this[wt].silent;
          this[lt] = !0;
          try {
            ro(this), Xn.update.call(this, null, this[wt].updateParams);
          } catch (l) {
            throw this[lt] = !1, this[wt] = null, l;
          }
          this._zr.flush(), this[lt] = !1, this[wt] = null, Uo.call(this, r), Yo.call(this, r);
        } else if (n.unfinished) {
          var o = IO, a = this._model, i = this._api;
          n.unfinished = !1;
          do {
            var s = +/* @__PURE__ */ new Date();
            n.performSeriesTasks(a), n.performDataProcessorTasks(a), su(this, a), n.performVisualTasks(a), wi(this, this._model, i, "remain", {}), o -= +/* @__PURE__ */ new Date() - s;
          } while (o > 0 && n.unfinished);
          n.unfinished || this._zr.flush();
        }
      }
    }, e.prototype.getDom = function() {
      return this._dom;
    }, e.prototype.getId = function() {
      return this.id;
    }, e.prototype.getZr = function() {
      return this._zr;
    }, e.prototype.isSSR = function() {
      return this._ssr;
    }, e.prototype.setOption = function(n, r, o) {
      if (!this[lt]) {
        if (this._disposed) {
          this.id;
          return;
        }
        var a, i, s;
        if (_e(r) && (o = r.lazyUpdate, a = r.silent, i = r.replaceMerge, s = r.transition, r = r.notMerge), this[lt] = !0, !this._model || r) {
          var l = new qE(this._api), u = this._theme, c = this._model = new Df();
          c.scheduler = this._scheduler, c.ssr = this._ssr, c.init(null, null, null, u, this._locale, l);
        }
        this._model.setOption(n, {
          replaceMerge: i
        }, xc);
        var f = {
          seriesTransition: s,
          optionChanged: !0
        };
        if (o)
          this[wt] = {
            silent: a,
            updateParams: f
          }, this[lt] = !1, this.getZr().wakeUp();
        else {
          try {
            ro(this), Xn.update.call(this, null, f);
          } catch (h) {
            throw this[wt] = null, this[lt] = !1, h;
          }
          this._ssr || this._zr.flush(), this[wt] = null, this[lt] = !1, Uo.call(this, a), Yo.call(this, a);
        }
      }
    }, e.prototype.setTheme = function() {
    }, e.prototype.getModel = function() {
      return this._model;
    }, e.prototype.getOption = function() {
      return this._model && this._model.getOption();
    }, e.prototype.getWidth = function() {
      return this._zr.getWidth();
    }, e.prototype.getHeight = function() {
      return this._zr.getHeight();
    }, e.prototype.getDevicePixelRatio = function() {
      return this._zr.painter.dpr || ke.hasGlobalWindow && window.devicePixelRatio || 1;
    }, e.prototype.getRenderedCanvas = function(n) {
      return this.renderToCanvas(n);
    }, e.prototype.renderToCanvas = function(n) {
      n = n || {};
      var r = this._zr.painter;
      return r.getRenderedCanvas({
        backgroundColor: n.backgroundColor || this._model.get("backgroundColor"),
        pixelRatio: n.pixelRatio || this.getDevicePixelRatio()
      });
    }, e.prototype.renderToSVGString = function(n) {
      n = n || {};
      var r = this._zr.painter;
      return r.renderToString({
        useViewBox: n.useViewBox
      });
    }, e.prototype.getSvgDataURL = function() {
      if (ke.svgSupported) {
        var n = this._zr, r = n.storage.getDisplayList();
        return X(r, function(o) {
          o.stopAnimation(null, !0);
        }), n.painter.toDataURL();
      }
    }, e.prototype.getDataURL = function(n) {
      if (this._disposed) {
        this.id;
        return;
      }
      n = n || {};
      var r = n.excludeComponents, o = this._model, a = [], i = this;
      X(r, function(l) {
        o.eachComponent({
          mainType: l
        }, function(u) {
          var c = i._componentsMap[u.__viewId];
          c.group.ignore || (a.push(c), c.group.ignore = !0);
        });
      });
      var s = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(n).toDataURL("image/" + (n && n.type || "png"));
      return X(a, function(l) {
        l.group.ignore = !1;
      }), s;
    }, e.prototype.getConnectedDataURL = function(n) {
      if (this._disposed) {
        this.id;
        return;
      }
      var r = n.type === "svg", o = this.group, a = Math.min, i = Math.max, s = 1 / 0;
      if (ZO[o]) {
        var l = s, u = s, c = -s, f = -s, h = [], d = n && n.pixelRatio || this.getDevicePixelRatio();
        X(wv, function(S, b) {
          if (S.group === o) {
            var _ = r ? S.getZr().painter.getSvgDom().innerHTML : S.renderToCanvas(Re(n)), w = S.getDom().getBoundingClientRect();
            l = a(w.left, l), u = a(w.top, u), c = i(w.right, c), f = i(w.bottom, f), h.push({
              dom: _,
              left: w.left,
              top: w.top
            });
          }
        }), l *= d, u *= d, c *= d, f *= d;
        var p = c - l, m = f - u, g = Ao.createCanvas(), v = Ph(g, {
          renderer: r ? "svg" : "canvas"
        });
        if (v.resize({
          width: p,
          height: m
        }), r) {
          var y = "";
          return X(h, function(S) {
            var b = S.left - l, _ = S.top - u;
            y += '<g transform="translate(' + b + "," + _ + ')">' + S.dom + "</g>";
          }), v.painter.getSvgRoot().innerHTML = y, n.connectedBackgroundColor && v.painter.setBackgroundColor(n.connectedBackgroundColor), v.refreshImmediately(), v.painter.toDataURL();
        } else
          return n.connectedBackgroundColor && v.add(new an({
            shape: {
              x: 0,
              y: 0,
              width: p,
              height: m
            },
            style: {
              fill: n.connectedBackgroundColor
            }
          })), X(h, function(S) {
            var b = new qa({
              style: {
                x: S.left * d - l,
                y: S.top * d - u,
                image: S.dom
              }
            });
            v.add(b);
          }), v.refreshImmediately(), g.toDataURL("image/" + (n && n.type || "png"));
      } else
        return this.getDataURL(n);
    }, e.prototype.convertToPixel = function(n, r) {
      return iu(this, "convertToPixel", n, r);
    }, e.prototype.convertFromPixel = function(n, r) {
      return iu(this, "convertFromPixel", n, r);
    }, e.prototype.containPixel = function(n, r) {
      if (this._disposed) {
        this.id;
        return;
      }
      var o = this._model, a, i = Rl(o, n);
      return X(i, function(s, l) {
        l.indexOf("Models") >= 0 && X(s, function(u) {
          var c = u.coordinateSystem;
          if (c && c.containPoint)
            a = a || !!c.containPoint(r);
          else if (l === "seriesModels") {
            var f = this._chartsMap[u.__viewId];
            f && f.containPoint && (a = a || f.containPoint(r, u));
          }
        }, this);
      }, this), !!a;
    }, e.prototype.getVisual = function(n, r) {
      var o = this._model, a = Rl(o, n, {
        defaultMainType: "series"
      }), i = a.seriesModel, s = i.getData(), l = a.hasOwnProperty("dataIndexInside") ? a.dataIndexInside : a.hasOwnProperty("dataIndex") ? s.indexOfRawIndex(a.dataIndex) : null;
      return l != null ? oO(s, l, r) : aO(s, r);
    }, e.prototype.getViewOfComponentModel = function(n) {
      return this._componentsMap[n.__viewId];
    }, e.prototype.getViewOfSeriesModel = function(n) {
      return this._chartsMap[n.__viewId];
    }, e.prototype._initEvents = function() {
      var n = this;
      X(XO, function(r) {
        var o = function(a) {
          var i = n.getModel(), s = a.target, l, u = r === "globalout";
          if (u ? l = {} : s && yi(s, function(p) {
            var m = Pt(p);
            if (m && m.dataIndex != null) {
              var g = m.dataModel || i.getSeriesByIndex(m.seriesIndex);
              return l = g && g.getDataParams(m.dataIndex, m.dataType, s) || {}, !0;
            } else if (m.eventData)
              return l = ie({}, m.eventData), !0;
          }, !0), l) {
            var c = l.componentType, f = l.componentIndex;
            (c === "markLine" || c === "markPoint" || c === "markArea") && (c = "series", f = l.seriesIndex);
            var h = c && f != null && i.getComponent(c, f), d = h && n[h.mainType === "series" ? "_chartsMap" : "_componentsMap"][h.__viewId];
            l.event = a, l.type = r, n._$eventProcessor.eventInfo = {
              targetEl: s,
              packedEvent: l,
              model: h,
              view: d
            }, n.trigger(r, l);
          }
        };
        o.zrEventfulCallAtLast = !0, n._zr.on(r, o, n);
      }), X(Ss, function(r, o) {
        n._messageCenter.on(o, function(a) {
          this.trigger(o, a);
        }, n);
      }), X(["selectchanged"], function(r) {
        n._messageCenter.on(r, function(o) {
          this.trigger(r, o);
        }, n);
      }), iO(this._messageCenter, this, this._api);
    }, e.prototype.isDisposed = function() {
      return this._disposed;
    }, e.prototype.clear = function() {
      if (this._disposed) {
        this.id;
        return;
      }
      this.setOption({
        series: []
      }, !0);
    }, e.prototype.dispose = function() {
      if (this._disposed) {
        this.id;
        return;
      }
      this._disposed = !0;
      var n = this.getDom();
      n && tA(this.getDom(), KO, "");
      var r = this, o = r._api, a = r._model;
      X(r._componentsViews, function(i) {
        i.dispose(a, o);
      }), X(r._chartsViews, function(i) {
        i.dispose(a, o);
      }), r._zr.dispose(), r._dom = r._model = r._chartsMap = r._componentsMap = r._chartsViews = r._componentsViews = r._scheduler = r._api = r._zr = r._throttledZrFlush = r._theme = r._coordSysMgr = r._messageCenter = null, delete wv[r.id];
    }, e.prototype.resize = function(n) {
      if (!this[lt]) {
        if (this._disposed) {
          this.id;
          return;
        }
        this._zr.resize(n);
        var r = this._model;
        if (this._loadingFX && this._loadingFX.resize(), !!r) {
          var o = r.resetOption("media"), a = n && n.silent;
          this[wt] && (a == null && (a = this[wt].silent), o = !0, this[wt] = null), this[lt] = !0;
          try {
            o && ro(this), Xn.update.call(this, {
              type: "resize",
              animation: ie({
                // Disable animation
                duration: 0
              }, n && n.animation)
            });
          } catch (i) {
            throw this[lt] = !1, i;
          }
          this[lt] = !1, Uo.call(this, a), Yo.call(this, a);
        }
      }
    }, e.prototype.showLoading = function(n, r) {
      if (this._disposed) {
        this.id;
        return;
      }
      if (_e(n) && (r = n, n = ""), n = n || "default", this.hideLoading(), !!Dc[n]) {
        var o = Dc[n](this._api, r), a = this._zr;
        this._loadingFX = o, a.add(o);
      }
    }, e.prototype.hideLoading = function() {
      if (this._disposed) {
        this.id;
        return;
      }
      this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null;
    }, e.prototype.makeActionFromEvent = function(n) {
      var r = ie({}, n);
      return r.type = Ss[n.type], r;
    }, e.prototype.dispatchAction = function(n, r) {
      if (this._disposed) {
        this.id;
        return;
      }
      if (_e(r) || (r = {
        silent: !!r
      }), !!ms[n.type] && this._model) {
        if (this[lt]) {
          this._pendingActions.push(n);
          return;
        }
        var o = r.silent;
        lu.call(this, n, o);
        var a = r.flush;
        a ? this._zr.flush() : a !== !1 && ke.browser.weChat && this._throttledZrFlush(), Uo.call(this, o), Yo.call(this, o);
      }
    }, e.prototype.updateLabelLayout = function() {
      vn.trigger("series:layoutlabels", this._model, this._api, {
        // Not adding series labels.
        // TODO
        updatedSeries: []
      });
    }, e.prototype.appendData = function(n) {
      if (this._disposed) {
        this.id;
        return;
      }
      var r = n.seriesIndex, o = this.getModel(), a = o.getSeriesByIndex(r);
      a.appendData(n), this._scheduler.unfinished = !0, this.getZr().wakeUp();
    }, e.internalField = function() {
      ro = function(f) {
        var h = f._scheduler;
        h.restorePipelines(f._model), h.prepareStageTasks(), au(f, !0), au(f, !1), h.plan();
      }, au = function(f, h) {
        for (var d = f._model, p = f._scheduler, m = h ? f._componentsViews : f._chartsViews, g = h ? f._componentsMap : f._chartsMap, v = f._zr, y = f._api, S = 0; S < m.length; S++)
          m[S].__alive = !1;
        h ? d.eachComponent(function(w, T) {
          w !== "series" && b(T);
        }) : d.eachSeries(b);
        function b(w) {
          var T = w.__requireNewView;
          w.__requireNewView = !1;
          var C = "_ec_" + w.id + "_" + w.type, x = !T && g[C];
          if (!x) {
            var D = bn(w.type), F = h ? Do.getClass(D.main, D.sub) : (
              // FIXME:TS
              // (ChartView as ChartViewConstructor).getClass('series', classType.sub)
              // For backward compat, still support a chart type declared as only subType
              // like "liquidfill", but recommend "series.liquidfill"
              // But need a base class to make a type series.
              Bn.getClass(D.sub)
            );
            x = new F(), x.init(d, y), g[C] = x, m.push(x), v.add(x.group);
          }
          w.__viewId = x.__id = C, x.__alive = !0, x.__model = w, x.group.__ecComponentInfo = {
            mainType: w.mainType,
            index: w.componentIndex
          }, !h && p.prepareView(x, w, d, y);
        }
        for (var S = 0; S < m.length; ) {
          var _ = m[S];
          _.__alive ? S++ : (!h && _.renderTask.dispose(), v.remove(_.group), _.dispose(d, y), m.splice(S, 1), g[_.__id] === _ && delete g[_.__id], _.__id = _.group.__ecComponentInfo = null);
        }
      }, bi = function(f, h, d, p, m) {
        var g = f._model;
        if (g.setUpdatePayload(d), !p) {
          X([].concat(f._componentsViews).concat(f._chartsViews), _);
          return;
        }
        var v = {};
        v[p + "Id"] = d[p + "Id"], v[p + "Index"] = d[p + "Index"], v[p + "Name"] = d[p + "Name"];
        var y = {
          mainType: p,
          query: v
        };
        m && (y.subType = m);
        var S = d.excludeSeriesId, b;
        S != null && (b = Ae(), X(yt(S), function(w) {
          var T = _n(w, null);
          T != null && b.set(T, !0);
        })), g && g.eachComponent(y, function(w) {
          var T = b && b.get(w.id) != null;
          if (!T)
            if (fp(d))
              if (w instanceof Wn)
                d.type === $r && !d.notBlur && !w.get(["emphasis", "disabled"]) && pk(w, d, f._api);
              else {
                var C = yf(w.mainType, w.componentIndex, d.name, f._api), x = C.focusSelf, D = C.dispatchers;
                d.type === $r && x && !d.notBlur && sc(w.mainType, w.componentIndex, f._api), D && X(D, function(F) {
                  d.type === $r ? oc(F) : ac(F);
                });
              }
            else uc(d) && w instanceof Wn && (yk(w, d, f._api), cp(w), Nt(f));
        }, f), g && g.eachComponent(y, function(w) {
          var T = b && b.get(w.id) != null;
          T || _(f[p === "series" ? "_chartsMap" : "_componentsMap"][w.__viewId]);
        }, f);
        function _(w) {
          w && w.__alive && w[h] && w[h](w.__model, g, f._api, d);
        }
      }, Xn = {
        prepareAndUpdate: function(f) {
          ro(this), Xn.update.call(this, f, {
            // Needs to mark option changed if newOption is given.
            // It's from MagicType.
            // TODO If use a separate flag optionChanged in payload?
            optionChanged: f.newOption != null
          });
        },
        update: function(f, h) {
          var d = this._model, p = this._api, m = this._zr, g = this._coordSysMgr, v = this._scheduler;
          if (d) {
            d.setUpdatePayload(f), v.restoreData(d, f), v.performSeriesTasks(d), g.create(d, p), v.performDataProcessorTasks(d, f), su(this, d), g.update(d, p), n(d), v.performVisualTasks(d, f), uu(this, d, p, f, h);
            var y = d.get("backgroundColor") || "transparent", S = d.get("darkMode");
            m.setBackgroundColor(y), S != null && S !== "auto" && m.setDarkMode(S), vn.trigger("afterupdate", d, p);
          }
        },
        updateTransform: function(f) {
          var h = this, d = this._model, p = this._api;
          if (d) {
            d.setUpdatePayload(f);
            var m = [];
            d.eachComponent(function(v, y) {
              if (v !== "series") {
                var S = h.getViewOfComponentModel(y);
                if (S && S.__alive)
                  if (S.updateTransform) {
                    var b = S.updateTransform(y, d, p, f);
                    b && b.update && m.push(S);
                  } else
                    m.push(S);
              }
            });
            var g = Ae();
            d.eachSeries(function(v) {
              var y = h._chartsMap[v.__viewId];
              if (y.updateTransform) {
                var S = y.updateTransform(v, d, p, f);
                S && S.update && g.set(v.uid, 1);
              } else
                g.set(v.uid, 1);
            }), n(d), this._scheduler.performVisualTasks(d, f, {
              setDirty: !0,
              dirtyMap: g
            }), wi(this, d, p, f, {}, g), vn.trigger("afterupdate", d, p);
          }
        },
        updateView: function(f) {
          var h = this._model;
          h && (h.setUpdatePayload(f), Bn.markUpdateMethod(f, "updateView"), n(h), this._scheduler.performVisualTasks(h, f, {
            setDirty: !0
          }), uu(this, h, this._api, f, {}), vn.trigger("afterupdate", h, this._api));
        },
        updateVisual: function(f) {
          var h = this, d = this._model;
          d && (d.setUpdatePayload(f), d.eachSeries(function(p) {
            p.getData().clearAllVisual();
          }), Bn.markUpdateMethod(f, "updateVisual"), n(d), this._scheduler.performVisualTasks(d, f, {
            visualType: "visual",
            setDirty: !0
          }), d.eachComponent(function(p, m) {
            if (p !== "series") {
              var g = h.getViewOfComponentModel(m);
              g && g.__alive && g.updateVisual(m, d, h._api, f);
            }
          }), d.eachSeries(function(p) {
            var m = h._chartsMap[p.__viewId];
            m.updateVisual(p, d, h._api, f);
          }), vn.trigger("afterupdate", d, this._api));
        },
        updateLayout: function(f) {
          Xn.update.call(this, f);
        }
      }, iu = function(f, h, d, p) {
        if (f._disposed) {
          f.id;
          return;
        }
        for (var m = f._model, g = f._coordSysMgr.getCoordinateSystems(), v, y = Rl(m, d), S = 0; S < g.length; S++) {
          var b = g[S];
          if (b[h] && (v = b[h](m, y, p)) != null)
            return v;
        }
      }, su = function(f, h) {
        var d = f._chartsMap, p = f._scheduler;
        h.eachSeries(function(m) {
          p.updateStreamModes(m, d[m.__viewId]);
        });
      }, lu = function(f, h) {
        var d = this, p = this.getModel(), m = f.type, g = f.escapeConnect, v = ms[m], y = v.actionInfo, S = (y.update || "update").split(":"), b = S.pop(), _ = S[0] != null && bn(S[0]);
        this[lt] = !0;
        var w = [f], T = !1;
        f.batch && (T = !0, w = je(f.batch, function(O) {
          return O = mt(ie({}, O), f), O.batch = null, O;
        }));
        var C = [], x, D = uc(f), F = fp(f);
        if (F && Yy(this._api), X(w, function(O) {
          if (x = v.action(O, d._model, d._api), x = x || ie({}, O), x.type = y.event || x.type, C.push(x), F) {
            var k = ky(f), $ = k.queryOptionMap, M = k.mainTypeSpecified, A = M ? $.keys()[0] : "series";
            bi(d, b, O, A), Nt(d);
          } else D ? (bi(d, b, O, "series"), Nt(d)) : _ && bi(d, b, O, _.main, _.sub);
        }), b !== "none" && !F && !D && !_)
          try {
            this[wt] ? (ro(this), Xn.update.call(this, f), this[wt] = null) : Xn[b].call(this, f);
          } catch (O) {
            throw this[lt] = !1, O;
          }
        if (T ? x = {
          type: y.event || m,
          escapeConnect: g,
          batch: C
        } : x = C[0], this[lt] = !1, !h) {
          var I = this._messageCenter;
          if (I.trigger(x.type, x), D) {
            var P = {
              type: "selectchanged",
              escapeConnect: g,
              selected: mk(p),
              isFromClick: f.isFromClick || !1,
              fromAction: f.type,
              fromActionPayload: f
            };
            I.trigger(P.type, P);
          }
        }
      }, Uo = function(f) {
        for (var h = this._pendingActions; h.length; ) {
          var d = h.shift();
          lu.call(this, d, f);
        }
      }, Yo = function(f) {
        !f && this.trigger("updated");
      }, gv = function(f, h) {
        f.on("rendered", function(d) {
          h.trigger("rendered", d), // Although zr is dirty if initial animation is not finished
          // and this checking is called on frame, we also check
          // animation finished for robustness.
          f.animation.isFinished() && !h[wt] && !h._scheduler.unfinished && !h._pendingActions.length && h.trigger("finished");
        });
      }, yv = function(f, h) {
        f.on("mouseover", function(d) {
          var p = d.target, m = yi(p, lc);
          m && (vk(m, d, h._api), Nt(h));
        }).on("mouseout", function(d) {
          var p = d.target, m = yi(p, lc);
          m && (gk(m, d, h._api), Nt(h));
        }).on("click", function(d) {
          var p = d.target, m = yi(p, function(y) {
            return Pt(y).dataIndex != null;
          }, !0);
          if (m) {
            var g = m.selected ? "unselect" : "select", v = Pt(m);
            h._api.dispatchAction({
              type: g,
              dataType: v.dataType,
              dataIndexInside: v.dataIndex,
              seriesIndex: v.seriesIndex,
              isFromClick: !0
            });
          }
        });
      };
      function n(f) {
        f.clearColorPalette(), f.eachSeries(function(h) {
          h.clearColorPalette();
        });
      }
      function r(f) {
        var h = [], d = [], p = !1;
        if (f.eachComponent(function(y, S) {
          var b = S.get("zlevel") || 0, _ = S.get("z") || 0, w = S.getZLevelKey();
          p = p || !!w, (y === "series" ? d : h).push({
            zlevel: b,
            z: _,
            idx: S.componentIndex,
            type: y,
            key: w
          });
        }), p) {
          var m = h.concat(d), g, v;
          Mi(m, function(y, S) {
            return y.zlevel === S.zlevel ? y.z - S.z : y.zlevel - S.zlevel;
          }), X(m, function(y) {
            var S = f.getComponent(y.type, y.idx), b = y.zlevel, _ = y.key;
            g != null && (b = Math.max(g, b)), _ ? (b === g && _ !== v && b++, v = _) : v && (b === g && b++, v = ""), g = b, S.setZLevel(b);
          });
        }
      }
      uu = function(f, h, d, p, m) {
        r(h), mv(f, h, d, p, m), X(f._chartsViews, function(g) {
          g.__alive = !1;
        }), wi(f, h, d, p, m), X(f._chartsViews, function(g) {
          g.__alive || g.remove(h, d);
        });
      }, mv = function(f, h, d, p, m, g) {
        X(g || f._componentsViews, function(v) {
          var y = v.__model;
          u(y, v), v.render(y, h, d, p), s(y, v), c(y, v);
        });
      }, wi = function(f, h, d, p, m, g) {
        var v = f._scheduler;
        m = ie(m || {}, {
          updatedSeries: h.getSeries()
        }), vn.trigger("series:beforeupdate", h, d, m);
        var y = !1;
        h.eachSeries(function(S) {
          var b = f._chartsMap[S.__viewId];
          b.__alive = !0;
          var _ = b.renderTask;
          v.updatePayload(_, p), u(S, b), g && g.get(S.uid) && _.dirty(), _.perform(v.getPerformArgs(_)) && (y = !0), b.group.silent = !!S.get("silent"), i(S, b), cp(S);
        }), v.unfinished = y || v.unfinished, vn.trigger("series:layoutlabels", h, d, m), vn.trigger("series:transition", h, d, m), h.eachSeries(function(S) {
          var b = f._chartsMap[S.__viewId];
          s(S, b), c(S, b);
        }), a(f, h), vn.trigger("series:afterupdate", h, d, m);
      }, Nt = function(f) {
        f[ou] = !0, f.getZr().wakeUp();
      }, bv = function(f) {
        f[ou] && (f.getZr().storage.traverse(function(h) {
          Wi(h) || o(h);
        }), f[ou] = !1);
      };
      function o(f) {
        for (var h = [], d = f.currentStates, p = 0; p < d.length; p++) {
          var m = d[p];
          m === "emphasis" || m === "blur" || m === "select" || h.push(m);
        }
        f.selected && f.states.select && h.push("select"), f.hoverState === vf && f.states.emphasis ? h.push("emphasis") : f.hoverState === pf && f.states.blur && h.push("blur"), f.useStates(h);
      }
      function a(f, h) {
        var d = f._zr, p = d.storage, m = 0;
        p.traverse(function(g) {
          g.isGroup || m++;
        }), m > h.get("hoverLayerThreshold") && !ke.node && !ke.worker && h.eachSeries(function(g) {
          if (!g.preventUsingHoverLayer) {
            var v = f._chartsMap[g.__viewId];
            v.__alive && v.eachRendered(function(y) {
              y.states.emphasis && (y.states.emphasis.hoverLayer = !0);
            });
          }
        });
      }
      function i(f, h) {
        var d = f.get("blendMode") || null;
        h.eachRendered(function(p) {
          p.isGroup || (p.style.blend = d);
        });
      }
      function s(f, h) {
        if (!f.preventAutoZ) {
          var d = f.get("z") || 0, p = f.get("zlevel") || 0;
          h.eachRendered(function(m) {
            return l(m, d, p, -1 / 0), !0;
          });
        }
      }
      function l(f, h, d, p) {
        var m = f.getTextContent(), g = f.getTextGuideLine(), v = f.isGroup;
        if (v)
          for (var y = f.childrenRef(), S = 0; S < y.length; S++)
            p = Math.max(l(y[S], h, d, p), p);
        else
          f.z = h, f.zlevel = d, p = Math.max(f.z2, p);
        if (m && (m.z = h, m.zlevel = d, isFinite(p) && (m.z2 = p + 2)), g) {
          var b = f.textGuideLineConfig;
          g.z = h, g.zlevel = d, isFinite(p) && (g.z2 = p + (b && b.showAbove ? 1 : -1));
        }
        return p;
      }
      function u(f, h) {
        h.eachRendered(function(d) {
          if (!Wi(d)) {
            var p = d.getTextContent(), m = d.getTextGuideLine();
            d.stateTransition && (d.stateTransition = null), p && p.stateTransition && (p.stateTransition = null), m && m.stateTransition && (m.stateTransition = null), d.hasState() ? (d.prevStates = d.currentStates, d.clearStates()) : d.prevStates && (d.prevStates = null);
          }
        });
      }
      function c(f, h) {
        var d = f.getModel("stateAnimation"), p = f.isAnimationEnabled(), m = d.get("duration"), g = m > 0 ? {
          duration: m,
          delay: d.get("delay"),
          easing: d.get("easing")
          // additive: stateAnimationModel.get('additive')
        } : null;
        h.eachRendered(function(v) {
          if (v.states && v.states.emphasis) {
            if (Wi(v))
              return;
            if (v instanceof Ve && xk(v), v.__dirty) {
              var y = v.prevStates;
              y && v.useStates(y);
            }
            if (p) {
              v.stateTransition = g;
              var S = v.getTextContent(), b = v.getTextGuideLine();
              S && (S.stateTransition = g), b && (b.stateTransition = g);
            }
            v.__dirty && o(v);
          }
        });
      }
      Sv = function(f) {
        return new /** @class */
        (function(h) {
          Te(d, h);
          function d() {
            return h !== null && h.apply(this, arguments) || this;
          }
          return d.prototype.getCoordinateSystems = function() {
            return f._coordSysMgr.getCoordinateSystems();
          }, d.prototype.getComponentByElement = function(p) {
            for (; p; ) {
              var m = p.__ecComponentInfo;
              if (m != null)
                return f._model.getComponent(m.mainType, m.index);
              p = p.parent;
            }
          }, d.prototype.enterEmphasis = function(p, m) {
            oc(p, m), Nt(f);
          }, d.prototype.leaveEmphasis = function(p, m) {
            ac(p, m), Nt(f);
          }, d.prototype.enterBlur = function(p) {
            hk(p), Nt(f);
          }, d.prototype.leaveBlur = function(p) {
            Vy(p), Nt(f);
          }, d.prototype.enterSelect = function(p) {
            qy(p), Nt(f);
          }, d.prototype.leaveSelect = function(p) {
            jy(p), Nt(f);
          }, d.prototype.getModel = function() {
            return f.getModel();
          }, d.prototype.getViewOfComponentModel = function(p) {
            return f.getViewOfComponentModel(p);
          }, d.prototype.getViewOfSeriesModel = function(p) {
            return f.getViewOfSeriesModel(p);
          }, d;
        }(hm))(f);
      };
    }(), e;
  }(Fn)
), kf = GO.prototype;
kf.on = Ym("on");
kf.off = Ym("off");
kf.one = function(t, e, n) {
  var r = this;
  function o() {
    for (var a = [], i = 0; i < arguments.length; i++)
      a[i] = arguments[i];
    e && e.apply && e.apply(this, a), r.off(t, o);
  }
  this.on.call(this, t, o, n);
};
var XO = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
var ms = {}, Ss = {}, _c = [], xc = [], bs = [], Jm = {}, Dc = {}, wv = {}, ZO = {}, KO = "_echarts_instance_";
function Qm(t, e) {
  Jm[t] = e;
}
function e1(t) {
  He(xc, t) < 0 && xc.push(t);
}
function t1(t, e) {
  Mf(_c, t, e, WO);
}
function JO(t) {
  Ef("afterinit", t);
}
function QO(t) {
  Ef("afterupdate", t);
}
function Ef(t, e) {
  vn.on(t, e);
}
function Oo(t, e, n) {
  Be(e) && (n = e, e = "");
  var r = _e(t) ? t.type : [t, t = {
    event: e
  }][0];
  t.event = (t.event || r).toLowerCase(), e = t.event, !Ss[e] && (ar(vv.test(r) && vv.test(e)), ms[r] || (ms[r] = {
    action: n,
    actionInfo: t
  }), Ss[e] = r);
}
function e4(t, e) {
  pm.register(t, e);
}
function t4(t, e) {
  Mf(bs, t, e, qm, "layout");
}
function qr(t, e) {
  Mf(bs, t, e, jm, "visual");
}
var _v = [];
function Mf(t, e, n, r, o) {
  if ((Be(e) || _e(e)) && (n = e, e = r), !(He(_v, n) >= 0)) {
    _v.push(n);
    var a = Mm.wrapStageHandler(n, o);
    a.__prio = e, a.__raw = n, t.push(a);
  }
}
function n1(t, e) {
  Dc[t] = e;
}
function n4(t, e, n) {
  var r = $O("registerMap");
  r && r(t, e, n);
}
var r4 = SM;
qr(Af, NM);
qr(Js, HM);
qr(Js, VM);
qr(Af, nO);
qr(Js, rO);
qr(Um, RO);
e1(gm);
t1(zO, nM);
n1("default", qM);
Oo({
  type: $r,
  event: $r,
  update: $r
}, Gt);
Oo({
  type: zi,
  event: zi,
  update: zi
}, Gt);
Oo({
  type: ya,
  event: ya,
  update: ya
}, Gt);
Oo({
  type: Bi,
  event: Bi,
  update: Bi
}, Gt);
Oo({
  type: ma,
  event: ma,
  update: ma
}, Gt);
Qm("light", eO);
Qm("dark", $m);
function Go(t) {
  return t == null ? 0 : t.length || 1;
}
function xv(t) {
  return t;
}
var o4 = (
  /** @class */
  function() {
    function t(e, n, r, o, a, i) {
      this._old = e, this._new = n, this._oldKeyGetter = r || xv, this._newKeyGetter = o || xv, this.context = a, this._diffModeMultiple = i === "multiple";
    }
    return t.prototype.add = function(e) {
      return this._add = e, this;
    }, t.prototype.update = function(e) {
      return this._update = e, this;
    }, t.prototype.updateManyToOne = function(e) {
      return this._updateManyToOne = e, this;
    }, t.prototype.updateOneToMany = function(e) {
      return this._updateOneToMany = e, this;
    }, t.prototype.updateManyToMany = function(e) {
      return this._updateManyToMany = e, this;
    }, t.prototype.remove = function(e) {
      return this._remove = e, this;
    }, t.prototype.execute = function() {
      this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
    }, t.prototype._executeOneToOne = function() {
      var e = this._old, n = this._new, r = {}, o = new Array(e.length), a = new Array(n.length);
      this._initIndexMap(e, null, o, "_oldKeyGetter"), this._initIndexMap(n, r, a, "_newKeyGetter");
      for (var i = 0; i < e.length; i++) {
        var s = o[i], l = r[s], u = Go(l);
        if (u > 1) {
          var c = l.shift();
          l.length === 1 && (r[s] = l[0]), this._update && this._update(c, i);
        } else u === 1 ? (r[s] = null, this._update && this._update(l, i)) : this._remove && this._remove(i);
      }
      this._performRestAdd(a, r);
    }, t.prototype._executeMultiple = function() {
      var e = this._old, n = this._new, r = {}, o = {}, a = [], i = [];
      this._initIndexMap(e, r, a, "_oldKeyGetter"), this._initIndexMap(n, o, i, "_newKeyGetter");
      for (var s = 0; s < a.length; s++) {
        var l = a[s], u = r[l], c = o[l], f = Go(u), h = Go(c);
        if (f > 1 && h === 1)
          this._updateManyToOne && this._updateManyToOne(c, u), o[l] = null;
        else if (f === 1 && h > 1)
          this._updateOneToMany && this._updateOneToMany(c, u), o[l] = null;
        else if (f === 1 && h === 1)
          this._update && this._update(c, u), o[l] = null;
        else if (f > 1 && h > 1)
          this._updateManyToMany && this._updateManyToMany(c, u), o[l] = null;
        else if (f > 1)
          for (var d = 0; d < f; d++)
            this._remove && this._remove(u[d]);
        else
          this._remove && this._remove(u);
      }
      this._performRestAdd(i, o);
    }, t.prototype._performRestAdd = function(e, n) {
      for (var r = 0; r < e.length; r++) {
        var o = e[r], a = n[o], i = Go(a);
        if (i > 1)
          for (var s = 0; s < i; s++)
            this._add && this._add(a[s]);
        else i === 1 && this._add && this._add(a);
        n[o] = null;
      }
    }, t.prototype._initIndexMap = function(e, n, r, o) {
      for (var a = this._diffModeMultiple, i = 0; i < e.length; i++) {
        var s = "_ec_" + this[o](e[i], i);
        if (a || (r[i] = s), !!n) {
          var l = n[s], u = Go(l);
          u === 0 ? (n[s] = i, a && r.push(s)) : u === 1 ? n[s] = [l, i] : l.push(i);
        }
      }
    }, t;
  }()
), a4 = (
  /** @class */
  function() {
    function t(e, n) {
      this._encode = e, this._schema = n;
    }
    return t.prototype.get = function() {
      return {
        // Do not generate full dimension name until fist used.
        fullDimensions: this._getFullDimensionNames(),
        encode: this._encode
      };
    }, t.prototype._getFullDimensionNames = function() {
      return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames;
    }, t;
  }()
);
function i4(t, e) {
  var n = {}, r = n.encode = {}, o = Ae(), a = [], i = [], s = {};
  X(t.dimensions, function(h) {
    var d = t.getDimensionInfo(h), p = d.coordDim;
    if (p) {
      var m = d.coordDimIndex;
      cu(r, p)[m] = h, d.isExtraCoord || (o.set(p, 1), s4(d.type) && (a[0] = h), cu(s, p)[m] = t.getDimensionIndex(d.name)), d.defaultTooltip && i.push(h);
    }
    cm.each(function(g, v) {
      var y = cu(r, v), S = d.otherDims[v];
      S != null && S !== !1 && (y[S] = d.name);
    });
  });
  var l = [], u = {};
  o.each(function(h, d) {
    var p = r[d];
    u[d] = p[0], l = l.concat(p);
  }), n.dataDimsOnCoord = l, n.dataDimIndicesOnCoord = je(l, function(h) {
    return t.getDimensionInfo(h).storeDimIndex;
  }), n.encodeFirstDimNotExtra = u;
  var c = r.label;
  c && c.length && (a = c.slice());
  var f = r.tooltip;
  return f && f.length ? i = f.slice() : i.length || (i = a.slice()), r.defaultedLabel = a, r.defaultedTooltip = i, n.userOutput = new a4(s, e), n;
}
function cu(t, e) {
  return t.hasOwnProperty(e) || (t[e] = []), t[e];
}
function s4(t) {
  return !(t === "ordinal" || t === "time");
}
var qi = (
  /** @class */
  /* @__PURE__ */ function() {
    function t(e) {
      this.otherDims = {}, e != null && ie(this, e);
    }
    return t;
  }()
), l4 = it(), u4 = {
  float: "f",
  int: "i",
  ordinal: "o",
  number: "n",
  time: "t"
}, r1 = (
  /** @class */
  function() {
    function t(e) {
      this.dimensions = e.dimensions, this._dimOmitted = e.dimensionOmitted, this.source = e.source, this._fullDimCount = e.fullDimensionCount, this._updateDimOmitted(e.dimensionOmitted);
    }
    return t.prototype.isDimensionOmitted = function() {
      return this._dimOmitted;
    }, t.prototype._updateDimOmitted = function(e) {
      this._dimOmitted = e, e && (this._dimNameMap || (this._dimNameMap = a1(this.source)));
    }, t.prototype.getSourceDimensionIndex = function(e) {
      return Ee(this._dimNameMap.get(e), -1);
    }, t.prototype.getSourceDimension = function(e) {
      var n = this.source.dimensionsDefine;
      if (n)
        return n[e];
    }, t.prototype.makeStoreSchema = function() {
      for (var e = this._fullDimCount, n = Sm(this.source), r = !i1(e), o = "", a = [], i = 0, s = 0; i < e; i++) {
        var l = void 0, u = void 0, c = void 0, f = this.dimensions[s];
        if (f && f.storeDimIndex === i)
          l = n ? f.name : null, u = f.type, c = f.ordinalMeta, s++;
        else {
          var h = this.getSourceDimension(i);
          h && (l = n ? h.name : null, u = h.type);
        }
        a.push({
          property: l,
          type: u,
          ordinalMeta: c
        }), n && l != null && (!f || !f.isCalculationCoord) && (o += r ? l.replace(/\`/g, "`1").replace(/\$/g, "`2") : l), o += "$", o += u4[u] || "f", c && (o += c.uid), o += "$";
      }
      var d = this.source, p = [d.seriesLayoutBy, d.startIndex, o].join("$$");
      return {
        dimensions: a,
        hash: p
      };
    }, t.prototype.makeOutputDimensionNames = function() {
      for (var e = [], n = 0, r = 0; n < this._fullDimCount; n++) {
        var o = void 0, a = this.dimensions[r];
        if (a && a.storeDimIndex === n)
          a.isCalculationCoord || (o = a.name), r++;
        else {
          var i = this.getSourceDimension(n);
          i && (o = i.name);
        }
        e.push(o);
      }
      return e;
    }, t.prototype.appendCalculationDimension = function(e) {
      this.dimensions.push(e), e.isCalculationCoord = !0, this._fullDimCount++, this._updateDimOmitted(!0);
    }, t;
  }()
);
function c4(t) {
  return t instanceof r1;
}
function o1(t) {
  for (var e = Ae(), n = 0; n < (t || []).length; n++) {
    var r = t[n], o = _e(r) ? r.name : r;
    o != null && e.get(o) == null && e.set(o, n);
  }
  return e;
}
function a1(t) {
  var e = l4(t);
  return e.dimNameMap || (e.dimNameMap = o1(t.dimensionsDefine));
}
function i1(t) {
  return t > 30;
}
var Xo = _e, Zn = je, f4 = typeof Int32Array > "u" ? Array : Int32Array, d4 = "e\0\0", Dv = -1, h4 = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], p4 = ["_approximateExtent"], Cv, _i, Zo, Ko, fu, Jo, du, v4 = (
  /** @class */
  function() {
    function t(e, n) {
      this.type = "list", this._dimOmitted = !1, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !1, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "minmaxDownSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "minmaxDownSample", "lttbDownSample"];
      var r, o = !1;
      c4(e) ? (r = e.dimensions, this._dimOmitted = e.isDimensionOmitted(), this._schema = e) : (o = !0, r = e), r = r || ["x", "y"];
      for (var a = {}, i = [], s = {}, l = !1, u = {}, c = 0; c < r.length; c++) {
        var f = r[c], h = Le(f) ? new qi({
          name: f
        }) : f instanceof qi ? f : new qi(f), d = h.name;
        h.type = h.type || "float", h.coordDim || (h.coordDim = d, h.coordDimIndex = 0);
        var p = h.otherDims = h.otherDims || {};
        i.push(d), a[d] = h, u[d] != null && (l = !0), h.createInvertedIndices && (s[d] = []), p.itemName === 0 && (this._nameDimIdx = c), p.itemId === 0 && (this._idDimIdx = c), o && (h.storeDimIndex = c);
      }
      if (this.dimensions = i, this._dimInfos = a, this._initGetDimensionInfo(l), this.hostModel = n, this._invertedIndicesMap = s, this._dimOmitted) {
        var m = this._dimIdxToName = Ae();
        X(i, function(g) {
          m.set(a[g].storeDimIndex, g);
        });
      }
    }
    return t.prototype.getDimension = function(e) {
      var n = this._recognizeDimIndex(e);
      if (n == null)
        return e;
      if (n = e, !this._dimOmitted)
        return this.dimensions[n];
      var r = this._dimIdxToName.get(n);
      if (r != null)
        return r;
      var o = this._schema.getSourceDimension(n);
      if (o)
        return o.name;
    }, t.prototype.getDimensionIndex = function(e) {
      var n = this._recognizeDimIndex(e);
      if (n != null)
        return n;
      if (e == null)
        return -1;
      var r = this._getDimInfo(e);
      return r ? r.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(e) : -1;
    }, t.prototype._recognizeDimIndex = function(e) {
      if (gt(e) || e != null && !isNaN(e) && !this._getDimInfo(e) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(e) < 0))
        return +e;
    }, t.prototype._getStoreDimIndex = function(e) {
      var n = this.getDimensionIndex(e);
      return n;
    }, t.prototype.getDimensionInfo = function(e) {
      return this._getDimInfo(this.getDimension(e));
    }, t.prototype._initGetDimensionInfo = function(e) {
      var n = this._dimInfos;
      this._getDimInfo = e ? function(r) {
        return n.hasOwnProperty(r) ? n[r] : void 0;
      } : function(r) {
        return n[r];
      };
    }, t.prototype.getDimensionsOnCoord = function() {
      return this._dimSummary.dataDimsOnCoord.slice();
    }, t.prototype.mapDimension = function(e, n) {
      var r = this._dimSummary;
      if (n == null)
        return r.encodeFirstDimNotExtra[e];
      var o = r.encode[e];
      return o ? o[n] : null;
    }, t.prototype.mapDimensionsAll = function(e) {
      var n = this._dimSummary, r = n.encode[e];
      return (r || []).slice();
    }, t.prototype.getStore = function() {
      return this._store;
    }, t.prototype.initData = function(e, n, r) {
      var o = this, a;
      if (e instanceof pc && (a = e), !a) {
        var i = this.dimensions, s = Cf(e) || Wt(e) ? new bm(e, i.length) : e;
        a = new pc();
        var l = Zn(i, function(u) {
          return {
            type: o._dimInfos[u].type,
            property: u
          };
        });
        a.initData(s, l, r);
      }
      this._store = a, this._nameList = (n || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, a.count()), this._dimSummary = i4(this, this._schema), this.userOutput = this._dimSummary.userOutput;
    }, t.prototype.appendData = function(e) {
      var n = this._store.appendData(e);
      this._doInit(n[0], n[1]);
    }, t.prototype.appendValues = function(e, n) {
      var r = this._store.appendValues(e, n && n.length), o = r.start, a = r.end, i = this._shouldMakeIdFromName();
      if (this._updateOrdinalMeta(), n)
        for (var s = o; s < a; s++) {
          var l = s - o;
          this._nameList[s] = n[l], i && du(this, s);
        }
    }, t.prototype._updateOrdinalMeta = function() {
      for (var e = this._store, n = this.dimensions, r = 0; r < n.length; r++) {
        var o = this._dimInfos[n[r]];
        o.ordinalMeta && e.collectOrdinalMeta(o.storeDimIndex, o.ordinalMeta);
      }
    }, t.prototype._shouldMakeIdFromName = function() {
      var e = this._store.getProvider();
      return this._idDimIdx == null && e.getSource().sourceFormat !== or && !e.fillStorage;
    }, t.prototype._doInit = function(e, n) {
      if (!(e >= n)) {
        var r = this._store, o = r.getProvider();
        this._updateOrdinalMeta();
        var a = this._nameList, i = this._idList, s = o.getSource().sourceFormat, l = s === kn;
        if (l && !o.pure)
          for (var u = [], c = e; c < n; c++) {
            var f = o.getItem(c, u);
            if (!this.hasItemOption && q5(f) && (this.hasItemOption = !0), f) {
              var h = f.name;
              a[c] == null && h != null && (a[c] = _n(h, null));
              var d = f.id;
              i[c] == null && d != null && (i[c] = _n(d, null));
            }
          }
        if (this._shouldMakeIdFromName())
          for (var c = e; c < n; c++)
            du(this, c);
        Cv(this);
      }
    }, t.prototype.getApproximateExtent = function(e) {
      return this._approximateExtent[e] || this._store.getDataExtent(this._getStoreDimIndex(e));
    }, t.prototype.setApproximateExtent = function(e, n) {
      n = this.getDimension(n), this._approximateExtent[n] = e.slice();
    }, t.prototype.getCalculationInfo = function(e) {
      return this._calculationInfo[e];
    }, t.prototype.setCalculationInfo = function(e, n) {
      Xo(e) ? ie(this._calculationInfo, e) : this._calculationInfo[e] = n;
    }, t.prototype.getName = function(e) {
      var n = this.getRawIndex(e), r = this._nameList[n];
      return r == null && this._nameDimIdx != null && (r = Zo(this, this._nameDimIdx, n)), r == null && (r = ""), r;
    }, t.prototype._getCategory = function(e, n) {
      var r = this._store.get(e, n), o = this._store.getOrdinalMeta(e);
      return o ? o.categories[r] : r;
    }, t.prototype.getId = function(e) {
      return _i(this, this.getRawIndex(e));
    }, t.prototype.count = function() {
      return this._store.count();
    }, t.prototype.get = function(e, n) {
      var r = this._store, o = this._dimInfos[e];
      if (o)
        return r.get(o.storeDimIndex, n);
    }, t.prototype.getByRawIndex = function(e, n) {
      var r = this._store, o = this._dimInfos[e];
      if (o)
        return r.getByRawIndex(o.storeDimIndex, n);
    }, t.prototype.getIndices = function() {
      return this._store.getIndices();
    }, t.prototype.getDataExtent = function(e) {
      return this._store.getDataExtent(this._getStoreDimIndex(e));
    }, t.prototype.getSum = function(e) {
      return this._store.getSum(this._getStoreDimIndex(e));
    }, t.prototype.getMedian = function(e) {
      return this._store.getMedian(this._getStoreDimIndex(e));
    }, t.prototype.getValues = function(e, n) {
      var r = this, o = this._store;
      return Ce(e) ? o.getValues(Zn(e, function(a) {
        return r._getStoreDimIndex(a);
      }), n) : o.getValues(e);
    }, t.prototype.hasValue = function(e) {
      for (var n = this._dimSummary.dataDimIndicesOnCoord, r = 0, o = n.length; r < o; r++)
        if (isNaN(this._store.get(n[r], e)))
          return !1;
      return !0;
    }, t.prototype.indexOfName = function(e) {
      for (var n = 0, r = this._store.count(); n < r; n++)
        if (this.getName(n) === e)
          return n;
      return -1;
    }, t.prototype.getRawIndex = function(e) {
      return this._store.getRawIndex(e);
    }, t.prototype.indexOfRawIndex = function(e) {
      return this._store.indexOfRawIndex(e);
    }, t.prototype.rawIndexOf = function(e, n) {
      var r = e && this._invertedIndicesMap[e], o = r && r[n];
      return o == null || isNaN(o) ? Dv : o;
    }, t.prototype.indicesOfNearest = function(e, n, r) {
      return this._store.indicesOfNearest(this._getStoreDimIndex(e), n, r);
    }, t.prototype.each = function(e, n, r) {
      Be(e) && (r = n, n = e, e = []);
      var o = r || this, a = Zn(Ko(e), this._getStoreDimIndex, this);
      this._store.each(a, o ? xt(n, o) : n);
    }, t.prototype.filterSelf = function(e, n, r) {
      Be(e) && (r = n, n = e, e = []);
      var o = r || this, a = Zn(Ko(e), this._getStoreDimIndex, this);
      return this._store = this._store.filter(a, o ? xt(n, o) : n), this;
    }, t.prototype.selectRange = function(e) {
      var n = this, r = {}, o = Ke(e);
      return X(o, function(a) {
        var i = n._getStoreDimIndex(a);
        r[i] = e[a];
      }), this._store = this._store.selectRange(r), this;
    }, t.prototype.mapArray = function(e, n, r) {
      Be(e) && (r = n, n = e, e = []), r = r || this;
      var o = [];
      return this.each(e, function() {
        o.push(n && n.apply(this, arguments));
      }, r), o;
    }, t.prototype.map = function(e, n, r, o) {
      var a = r || o || this, i = Zn(Ko(e), this._getStoreDimIndex, this), s = Jo(this);
      return s._store = this._store.map(i, a ? xt(n, a) : n), s;
    }, t.prototype.modify = function(e, n, r, o) {
      var a = r || o || this, i = Zn(Ko(e), this._getStoreDimIndex, this);
      this._store.modify(i, a ? xt(n, a) : n);
    }, t.prototype.downSample = function(e, n, r, o) {
      var a = Jo(this);
      return a._store = this._store.downSample(this._getStoreDimIndex(e), n, r, o), a;
    }, t.prototype.minmaxDownSample = function(e, n) {
      var r = Jo(this);
      return r._store = this._store.minmaxDownSample(this._getStoreDimIndex(e), n), r;
    }, t.prototype.lttbDownSample = function(e, n) {
      var r = Jo(this);
      return r._store = this._store.lttbDownSample(this._getStoreDimIndex(e), n), r;
    }, t.prototype.getRawDataItem = function(e) {
      return this._store.getRawDataItem(e);
    }, t.prototype.getItemModel = function(e) {
      var n = this.hostModel, r = this.getRawDataItem(e);
      return new zt(r, n, n && n.ecModel);
    }, t.prototype.diff = function(e) {
      var n = this;
      return new o4(e ? e.getStore().getIndices() : [], this.getStore().getIndices(), function(r) {
        return _i(e, r);
      }, function(r) {
        return _i(n, r);
      });
    }, t.prototype.getVisual = function(e) {
      var n = this._visual;
      return n && n[e];
    }, t.prototype.setVisual = function(e, n) {
      this._visual = this._visual || {}, Xo(e) ? ie(this._visual, e) : this._visual[e] = n;
    }, t.prototype.getItemVisual = function(e, n) {
      var r = this._itemVisuals[e], o = r && r[n];
      return o ?? this.getVisual(n);
    }, t.prototype.hasItemVisual = function() {
      return this._itemVisuals.length > 0;
    }, t.prototype.ensureUniqueItemVisual = function(e, n) {
      var r = this._itemVisuals, o = r[e];
      o || (o = r[e] = {});
      var a = o[n];
      return a == null && (a = this.getVisual(n), Ce(a) ? a = a.slice() : Xo(a) && (a = ie({}, a)), o[n] = a), a;
    }, t.prototype.setItemVisual = function(e, n, r) {
      var o = this._itemVisuals[e] || {};
      this._itemVisuals[e] = o, Xo(n) ? ie(o, n) : o[n] = r;
    }, t.prototype.clearAllVisual = function() {
      this._visual = {}, this._itemVisuals = [];
    }, t.prototype.setLayout = function(e, n) {
      Xo(e) ? ie(this._layout, e) : this._layout[e] = n;
    }, t.prototype.getLayout = function(e) {
      return this._layout[e];
    }, t.prototype.getItemLayout = function(e) {
      return this._itemLayouts[e];
    }, t.prototype.setItemLayout = function(e, n, r) {
      this._itemLayouts[e] = r ? ie(this._itemLayouts[e] || {}, n) : n;
    }, t.prototype.clearItemLayouts = function() {
      this._itemLayouts.length = 0;
    }, t.prototype.setItemGraphicEl = function(e, n) {
      var r = this.hostModel && this.hostModel.seriesIndex;
      rk(r, this.dataType, e, n), this._graphicEls[e] = n;
    }, t.prototype.getItemGraphicEl = function(e) {
      return this._graphicEls[e];
    }, t.prototype.eachItemGraphicEl = function(e, n) {
      X(this._graphicEls, function(r, o) {
        r && e && e.call(n, r, o);
      });
    }, t.prototype.cloneShallow = function(e) {
      return e || (e = new t(this._schema ? this._schema : Zn(this.dimensions, this._getDimInfo, this), this.hostModel)), fu(e, this), e._store = this._store, e;
    }, t.prototype.wrapMethod = function(e, n) {
      var r = this[e];
      Be(r) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(e), this[e] = function() {
        var o = r.apply(this, arguments);
        return n.apply(this, [o].concat(of(arguments)));
      });
    }, t.internalField = function() {
      Cv = function(e) {
        var n = e._invertedIndicesMap;
        X(n, function(r, o) {
          var a = e._dimInfos[o], i = a.ordinalMeta, s = e._store;
          if (i) {
            r = n[o] = new f4(i.categories.length);
            for (var l = 0; l < r.length; l++)
              r[l] = Dv;
            for (var l = 0; l < s.count(); l++)
              r[s.get(a.storeDimIndex, l)] = l;
          }
        });
      }, Zo = function(e, n, r) {
        return _n(e._getCategory(n, r), null);
      }, _i = function(e, n) {
        var r = e._idList[n];
        return r == null && e._idDimIdx != null && (r = Zo(e, e._idDimIdx, n)), r == null && (r = d4 + n), r;
      }, Ko = function(e) {
        return Ce(e) || (e = e != null ? [e] : []), e;
      }, Jo = function(e) {
        var n = new t(e._schema ? e._schema : Zn(e.dimensions, e._getDimInfo, e), e.hostModel);
        return fu(n, e), n;
      }, fu = function(e, n) {
        X(h4.concat(n.__wrappedMethods || []), function(r) {
          n.hasOwnProperty(r) && (e[r] = n[r]);
        }), e.__wrappedMethods = n.__wrappedMethods, X(p4, function(r) {
          e[r] = Re(n[r]);
        }), e._calculationInfo = ie({}, n._calculationInfo);
      }, du = function(e, n) {
        var r = e._nameList, o = e._idList, a = e._nameDimIdx, i = e._idDimIdx, s = r[n], l = o[n];
        if (s == null && a != null && (r[n] = s = Zo(e, a, n)), l == null && i != null && (o[n] = l = Zo(e, i, n)), l == null && s != null) {
          var u = e._nameRepeatCount, c = u[s] = (u[s] || 0) + 1;
          l = s, c > 1 && (l += "__ec__" + c), o[n] = l;
        }
      };
    }(), t;
  }()
);
function g4(t, e) {
  return y4(t, e).dimensions;
}
function y4(t, e) {
  Cf(t) || (t = ym(t)), e = e || {};
  var n = e.coordDimensions || [], r = e.dimensionsDefine || t.dimensionsDefine || [], o = Ae(), a = [], i = S4(t, n, r, e.dimensionsCount), s = e.canOmitUnusedDimensions && i1(i), l = r === t.dimensionsDefine, u = l ? a1(t) : o1(r), c = e.encodeDefine;
  !c && e.encodeDefaulter && (c = e.encodeDefaulter(t, i));
  for (var f = Ae(c), h = new Cm(i), d = 0; d < h.length; d++)
    h[d] = -1;
  function p(x) {
    var D = h[x];
    if (D < 0) {
      var F = r[x], I = _e(F) ? F : {
        name: F
      }, P = new qi(), O = I.name;
      O != null && u.get(O) != null && (P.name = P.displayName = O), I.type != null && (P.type = I.type), I.displayName != null && (P.displayName = I.displayName);
      var k = a.length;
      return h[x] = k, P.storeDimIndex = x, a.push(P), P;
    }
    return a[D];
  }
  if (!s)
    for (var d = 0; d < i; d++)
      p(d);
  f.each(function(x, D) {
    var F = yt(x).slice();
    if (F.length === 1 && !Le(F[0]) && F[0] < 0) {
      f.set(D, !1);
      return;
    }
    var I = f.set(D, []);
    X(F, function(P, O) {
      var k = Le(P) ? u.get(P) : P;
      k != null && k < i && (I[O] = k, g(p(k), D, O));
    });
  });
  var m = 0;
  X(n, function(x) {
    var D, F, I, P;
    if (Le(x))
      D = x, P = {};
    else {
      P = x, D = P.name;
      var O = P.ordinalMeta;
      P.ordinalMeta = null, P = ie({}, P), P.ordinalMeta = O, F = P.dimsDef, I = P.otherDims, P.name = P.coordDim = P.coordDimIndex = P.dimsDef = P.otherDims = null;
    }
    var k = f.get(D);
    if (k !== !1) {
      if (k = yt(k), !k.length)
        for (var $ = 0; $ < (F && F.length || 1); $++) {
          for (; m < i && p(m).coordDim != null; )
            m++;
          m < i && k.push(m++);
        }
      X(k, function(M, A) {
        var L = p(M);
        if (l && P.type != null && (L.type = P.type), g(mt(L, P), D, A), L.name == null && F) {
          var R = F[A];
          !_e(R) && (R = {
            name: R
          }), L.name = L.displayName = R.name, L.defaultTooltip = R.defaultTooltip;
        }
        I && mt(L.otherDims, I);
      });
    }
  });
  function g(x, D, F) {
    cm.get(D) != null ? x.otherDims[D] = F : (x.coordDim = D, x.coordDimIndex = F, o.set(D, !0));
  }
  var v = e.generateCoord, y = e.generateCoordCount, S = y != null;
  y = v ? y || 1 : 0;
  var b = v || "value";
  function _(x) {
    x.name == null && (x.name = x.coordDim);
  }
  if (s)
    X(a, function(x) {
      _(x);
    }), a.sort(function(x, D) {
      return x.storeDimIndex - D.storeDimIndex;
    });
  else
    for (var w = 0; w < i; w++) {
      var T = p(w), C = T.coordDim;
      C == null && (T.coordDim = b4(b, o, S), T.coordDimIndex = 0, (!v || y <= 0) && (T.isExtraCoord = !0), y--), _(T), T.type == null && (dm(t, w) === kt.Must || T.isExtraCoord && (T.otherDims.itemName != null || T.otherDims.seriesName != null)) && (T.type = "ordinal");
    }
  return m4(a), new r1({
    source: t,
    dimensions: a,
    fullDimensionCount: i,
    dimensionOmitted: s
  });
}
function m4(t) {
  for (var e = Ae(), n = 0; n < t.length; n++) {
    var r = t[n], o = r.name, a = e.get(o) || 0;
    a > 0 && (r.name = o + (a - 1)), a++, e.set(o, a);
  }
}
function S4(t, e, n, r) {
  var o = Math.max(t.dimensionsDetectedCount || 1, e.length, n.length, r || 0);
  return X(e, function(a) {
    var i;
    _e(a) && (i = a.dimsDef) && (o = Math.max(o, i.length));
  }), o;
}
function b4(t, e, n) {
  if (n || e.hasKey(t)) {
    for (var r = 0; e.hasKey(t + r); )
      r++;
    t += r;
  }
  return e.set(t, !0), t;
}
function w4(t, e) {
  return e = e || {}, oE(t, null, null, e.state !== "normal");
}
var Tv = [], _4 = {
  registerPreprocessor: e1,
  registerProcessor: t1,
  registerPostInit: JO,
  registerPostUpdate: QO,
  registerUpdateLifecycle: Ef,
  registerAction: Oo,
  registerCoordinateSystem: e4,
  registerLayout: t4,
  registerVisual: qr,
  registerTransform: r4,
  registerLoading: n1,
  registerMap: n4,
  registerImpl: LO,
  PRIORITY: YO,
  ComponentModel: We,
  ComponentView: Do,
  SeriesModel: Wn,
  ChartView: Bn,
  // TODO Use ComponentModel and SeriesModel instead of Constructor
  registerComponentModel: function(t) {
    We.registerClass(t);
  },
  registerComponentView: function(t) {
    Do.registerClass(t);
  },
  registerSeriesModel: function(t) {
    Wn.registerClass(t);
  },
  registerChartView: function(t) {
    Bn.registerClass(t);
  },
  registerSubTypeDefaulter: function(t, e) {
    We.registerSubTypeDefaulter(t, e);
  },
  registerPainter: function(t, e) {
    P5(t, e);
  }
};
function Of(t) {
  if (Ce(t)) {
    X(t, function(e) {
      Of(e);
    });
    return;
  }
  He(Tv, t) >= 0 || (Tv.push(t), Be(t) && (t = {
    install: t
  }), t.install(_4));
}
function x4(t) {
  var e = Wn.extend(t);
  return Wn.registerClass(e), e;
}
function D4(t) {
  var e = Bn.extend(t);
  return Bn.registerClass(e), e;
}
var Qo = Math.PI * 2, Tr = Wr.CMD, C4 = ["top", "right", "bottom", "left"];
function T4(t, e, n, r, o) {
  var a = n.width, i = n.height;
  switch (t) {
    case "top":
      r.set(n.x + a / 2, n.y - e), o.set(0, -1);
      break;
    case "bottom":
      r.set(n.x + a / 2, n.y + i + e), o.set(0, 1);
      break;
    case "left":
      r.set(n.x - e, n.y + i / 2), o.set(-1, 0);
      break;
    case "right":
      r.set(n.x + a + e, n.y + i / 2), o.set(1, 0);
      break;
  }
}
function F4(t, e, n, r, o, a, i, s, l) {
  i -= t, s -= e;
  var u = Math.sqrt(i * i + s * s);
  i /= u, s /= u;
  var c = i * n + t, f = s * n + e;
  if (Math.abs(r - o) % Qo < 1e-4)
    return l[0] = c, l[1] = f, u - n;
  if (a) {
    var h = r;
    r = In(o), o = In(h);
  } else
    r = In(r), o = In(o);
  r > o && (o += Qo);
  var d = Math.atan2(s, i);
  if (d < 0 && (d += Qo), d >= r && d <= o || d + Qo >= r && d + Qo <= o)
    return l[0] = c, l[1] = f, u - n;
  var p = n * Math.cos(r) + t, m = n * Math.sin(r) + e, g = n * Math.cos(o) + t, v = n * Math.sin(o) + e, y = (p - i) * (p - i) + (m - s) * (m - s), S = (g - i) * (g - i) + (v - s) * (v - s);
  return y < S ? (l[0] = p, l[1] = m, Math.sqrt(y)) : (l[0] = g, l[1] = v, Math.sqrt(S));
}
function Cc(t, e, n, r, o, a, i, s) {
  var l = o - t, u = a - e, c = n - t, f = r - e, h = Math.sqrt(c * c + f * f);
  c /= h, f /= h;
  var d = l * c + u * f, p = d / h;
  s && (p = Math.min(Math.max(p, 0), 1)), p *= h;
  var m = i[0] = t + p * c, g = i[1] = e + p * f;
  return Math.sqrt((m - o) * (m - o) + (g - a) * (g - a));
}
function s1(t, e, n, r, o, a, i) {
  n < 0 && (t = t + n, n = -n), r < 0 && (e = e + r, r = -r);
  var s = t + n, l = e + r, u = i[0] = Math.min(Math.max(o, t), s), c = i[1] = Math.min(Math.max(a, e), l);
  return Math.sqrt((u - o) * (u - o) + (c - a) * (c - a));
}
var tn = [];
function A4(t, e, n) {
  var r = s1(e.x, e.y, e.width, e.height, t.x, t.y, tn);
  return n.set(tn[0], tn[1]), r;
}
function k4(t, e, n) {
  for (var r = 0, o = 0, a = 0, i = 0, s, l, u = 1 / 0, c = e.data, f = t.x, h = t.y, d = 0; d < c.length; ) {
    var p = c[d++];
    d === 1 && (r = c[d], o = c[d + 1], a = r, i = o);
    var m = u;
    switch (p) {
      case Tr.M:
        a = c[d++], i = c[d++], r = a, o = i;
        break;
      case Tr.L:
        m = Cc(r, o, c[d], c[d + 1], f, h, tn, !0), r = c[d++], o = c[d++];
        break;
      case Tr.C:
        m = cy(r, o, c[d++], c[d++], c[d++], c[d++], c[d], c[d + 1], f, h, tn), r = c[d++], o = c[d++];
        break;
      case Tr.Q:
        m = dy(r, o, c[d++], c[d++], c[d], c[d + 1], f, h, tn), r = c[d++], o = c[d++];
        break;
      case Tr.A:
        var g = c[d++], v = c[d++], y = c[d++], S = c[d++], b = c[d++], _ = c[d++];
        d += 1;
        var w = !!(1 - c[d++]);
        s = Math.cos(b) * y + g, l = Math.sin(b) * S + v, d <= 1 && (a = s, i = l);
        var T = (f - g) * S / y + g;
        m = F4(g, v, S, b, b + _, w, T, h, tn), r = Math.cos(b + _) * y + g, o = Math.sin(b + _) * S + v;
        break;
      case Tr.R:
        a = r = c[d++], i = o = c[d++];
        var C = c[d++], x = c[d++];
        m = s1(a, i, C, x, f, h, tn);
        break;
      case Tr.Z:
        m = Cc(r, o, a, i, f, h, tn, !0), r = a, o = i;
        break;
    }
    m < u && (u = m, n.set(tn[0], tn[1]));
  }
  return u;
}
var Or = new De(), nt = new De(), Mt = new De(), po = new De(), ea = new De();
function Fv(t, e) {
  if (t) {
    var n = t.getTextGuideLine(), r = t.getTextContent();
    if (r && n) {
      var o = t.textGuideLineConfig || {}, a = [[0, 0], [0, 0], [0, 0]], i = o.candidates || C4, s = r.getBoundingRect().clone();
      s.applyTransform(r.getComputedTransform());
      var l = 1 / 0, u = o.anchor, c = t.getComputedTransform(), f = c && ey([], c), h = e.get("length2") || 0;
      u && Mt.copy(u);
      for (var d = 0; d < i.length; d++) {
        var p = i[d];
        T4(p, 0, s, Or, po), De.scaleAndAdd(nt, Or, po, h), nt.transform(f);
        var m = t.getBoundingRect(), g = u ? u.distance(nt) : t instanceof Ve ? k4(nt, t.path, Mt) : A4(nt, m, Mt);
        g < l && (l = g, nt.transform(c), Mt.transform(c), Mt.toArray(a[0]), nt.toArray(a[1]), Or.toArray(a[2]));
      }
      E4(a, e.get("minTurnAngle")), n.setShape({
        points: a
      });
    }
  }
}
var Av = [], Fr = new De();
function E4(t, e) {
  if (e <= 180 && e > 0) {
    e = e / 180 * Math.PI, Or.fromArray(t[0]), nt.fromArray(t[1]), Mt.fromArray(t[2]), De.sub(po, Or, nt), De.sub(ea, Mt, nt);
    var n = po.len(), r = ea.len();
    if (!(n < 1e-3 || r < 1e-3)) {
      po.scale(1 / n), ea.scale(1 / r);
      var o = po.dot(ea), a = Math.cos(e);
      if (a < o) {
        var i = Cc(nt.x, nt.y, Mt.x, Mt.y, Or.x, Or.y, Av, !1);
        Fr.fromArray(Av), Fr.scaleAndAdd(ea, i / Math.tan(Math.PI - e));
        var s = Mt.x !== nt.x ? (Fr.x - nt.x) / (Mt.x - nt.x) : (Fr.y - nt.y) / (Mt.y - nt.y);
        if (isNaN(s))
          return;
        s < 0 ? De.copy(Fr, nt) : s > 1 && De.copy(Fr, Mt), Fr.toArray(t[1]);
      }
    }
  }
}
function hu(t, e, n, r) {
  var o = n === "normal", a = o ? t : t.ensureState(n);
  a.ignore = e;
  var i = r.get("smooth");
  i && i === !0 && (i = 0.3), a.shape = a.shape || {}, i > 0 && (a.shape.smooth = i);
  var s = r.getModel("lineStyle").getLineStyle();
  o ? t.useStyle(s) : a.style = s;
}
function M4(t, e) {
  var n = e.smooth, r = e.points;
  if (r)
    if (t.moveTo(r[0][0], r[0][1]), n > 0 && r.length >= 3) {
      var o = Nu(r[0], r[1]), a = Nu(r[1], r[2]);
      if (!o || !a) {
        t.lineTo(r[1][0], r[1][1]), t.lineTo(r[2][0], r[2][1]);
        return;
      }
      var i = Math.min(o, a) * n, s = dl([], r[1], r[0], i / o), l = dl([], r[1], r[2], i / a), u = dl([], s, l, 0.5);
      t.bezierCurveTo(s[0], s[1], s[0], s[1], u[0], u[1]), t.bezierCurveTo(l[0], l[1], l[0], l[1], r[2][0], r[2][1]);
    } else
      for (var c = 1; c < r.length; c++)
        t.lineTo(r[c][0], r[c][1]);
}
function O4(t, e, n) {
  var r = t.getTextGuideLine(), o = t.getTextContent();
  if (!o) {
    r && t.removeTextGuideLine();
    return;
  }
  for (var a = e.normal, i = a.get("show"), s = o.ignore, l = 0; l < ip.length; l++) {
    var u = ip[l], c = e[u], f = u === "normal";
    if (c) {
      var h = c.get("show"), d = f ? s : Ee(o.states[u] && o.states[u].ignore, s);
      if (d || !Ee(h, i)) {
        var p = f ? r : r && r.states[u];
        p && (p.ignore = !0), r && hu(r, !0, u, c);
        continue;
      }
      r || (r = new mf(), t.setTextGuideLine(r), !f && (s || !i) && hu(r, !0, "normal", e.normal), t.stateProxy && (r.stateProxy = t.stateProxy)), hu(r, !1, u, c);
    }
  }
  if (r) {
    mt(r.style, n), r.style.fill = null;
    var m = a.get("showAbove"), g = t.textGuideLineConfig = t.textGuideLineConfig || {};
    g.showAbove = m || !1, r.buildPath = M4;
  }
}
function R4(t, e) {
  e = e || "labelLine";
  for (var n = {
    normal: t.getModel(e)
  }, r = 0; r < xo.length; r++) {
    var o = xo[r];
    n[o] = t.getModel([o, e]);
  }
  return n;
}
function L4(t) {
  for (var e = [], n = 0; n < t.length; n++) {
    var r = t[n];
    if (!r.defaultAttr.ignore) {
      var o = r.label, a = o.getComputedTransform(), i = o.getBoundingRect(), s = !a || a[1] < 1e-5 && a[2] < 1e-5, l = o.style.margin || 0, u = i.clone();
      u.applyTransform(a), u.x -= l / 2, u.y -= l / 2, u.width += l, u.height += l;
      var c = s ? new fc(i, a) : null;
      e.push({
        label: o,
        labelLine: r.labelLine,
        rect: u,
        localRect: i,
        obb: c,
        priority: r.priority,
        defaultAttr: r.defaultAttr,
        layoutOption: r.computedLayoutOption,
        axisAligned: s,
        transform: a
      });
    }
  }
  return e;
}
function l1(t, e, n, r, o, a) {
  var i = t.length;
  if (i < 2)
    return;
  t.sort(function(w, T) {
    return w.rect[e] - T.rect[e];
  });
  for (var s = 0, l, u = !1, c = 0; c < i; c++) {
    var f = t[c], h = f.rect;
    l = h[e] - s, l < 0 && (h[e] -= l, f.label[e] -= l, u = !0), s = h[e] + h[n];
  }
  var d = t[0], p = t[i - 1], m, g;
  v(), m < 0 && b(-m, 0.8), g < 0 && b(g, 0.8), v(), y(m, g, 1), y(g, m, -1), v(), m < 0 && _(-m), g < 0 && _(g);
  function v() {
    m = d.rect[e] - r, g = o - p.rect[e] - p.rect[n];
  }
  function y(w, T, C) {
    if (w < 0) {
      var x = Math.min(T, -w);
      if (x > 0) {
        S(x * C, 0, i);
        var D = x + w;
        D < 0 && b(-D * C, 1);
      } else
        b(-w * C, 1);
    }
  }
  function S(w, T, C) {
    w !== 0 && (u = !0);
    for (var x = T; x < C; x++) {
      var D = t[x], F = D.rect;
      F[e] += w, D.label[e] += w;
    }
  }
  function b(w, T) {
    for (var C = [], x = 0, D = 1; D < i; D++) {
      var F = t[D - 1].rect, I = Math.max(t[D].rect[e] - F[e] - F[n], 0);
      C.push(I), x += I;
    }
    if (x) {
      var P = Math.min(Math.abs(w) / x, T);
      if (w > 0)
        for (var D = 0; D < i - 1; D++) {
          var O = C[D] * P;
          S(O, 0, D + 1);
        }
      else
        for (var D = i - 1; D > 0; D--) {
          var O = C[D - 1] * P;
          S(-O, D, i);
        }
    }
  }
  function _(w) {
    var T = w < 0 ? -1 : 1;
    w = Math.abs(w);
    for (var C = Math.ceil(w / (i - 1)), x = 0; x < i - 1; x++)
      if (T > 0 ? S(C, 0, x + 1) : S(-C, i - x - 1, i), w -= C, w <= 0)
        return;
  }
  return u;
}
function $4(t, e, n, r) {
  return l1(t, "x", "width", e, n);
}
function I4(t, e, n, r) {
  return l1(t, "y", "height", e, n);
}
function P4(t) {
  var e = [];
  t.sort(function(m, g) {
    return g.priority - m.priority;
  });
  var n = new Ie(0, 0, 0, 0);
  function r(m) {
    if (!m.ignore) {
      var g = m.ensureState("emphasis");
      g.ignore == null && (g.ignore = !1);
    }
    m.ignore = !0;
  }
  for (var o = 0; o < t.length; o++) {
    var a = t[o], i = a.axisAligned, s = a.localRect, l = a.transform, u = a.label, c = a.labelLine;
    n.copy(a.rect), n.width -= 0.1, n.height -= 0.1, n.x += 0.05, n.y += 0.05;
    for (var f = a.obb, h = !1, d = 0; d < e.length; d++) {
      var p = e[d];
      if (n.intersect(p.rect)) {
        if (i && p.axisAligned) {
          h = !0;
          break;
        }
        if (p.obb || (p.obb = new fc(p.localRect, p.transform)), f || (f = new fc(s, l)), f.intersect(p.obb)) {
          h = !0;
          break;
        }
      }
    }
    h ? (r(u), c && r(c)) : (u.attr("ignore", a.defaultAttr.ignore), c && c.attr("ignore", a.defaultAttr.labelGuideIgnore), e.push(a));
  }
}
function z4(t) {
  if (t) {
    for (var e = [], n = 0; n < t.length; n++)
      e.push(t[n].slice());
    return e;
  }
}
function B4(t, e) {
  var n = t.label, r = e && e.getTextGuideLine();
  return {
    dataIndex: t.dataIndex,
    dataType: t.dataType,
    seriesIndex: t.seriesModel.seriesIndex,
    text: t.label.style.text,
    rect: t.hostRect,
    labelRect: t.rect,
    // x: labelAttr.x,
    // y: labelAttr.y,
    align: n.style.align,
    verticalAlign: n.style.verticalAlign,
    labelLinePoints: z4(r && r.shape.points)
  };
}
var kv = ["align", "verticalAlign", "width", "height", "fontSize"], ht = new lf(), pu = it(), W4 = it();
function xi(t, e, n) {
  for (var r = 0; r < n.length; r++) {
    var o = n[r];
    e[o] != null && (t[o] = e[o]);
  }
}
var Di = ["x", "y", "rotation"], N4 = (
  /** @class */
  function() {
    function t() {
      this._labelList = [], this._chartViewList = [];
    }
    return t.prototype.clearLabels = function() {
      this._labelList = [], this._chartViewList = [];
    }, t.prototype._addLabel = function(e, n, r, o, a) {
      var i = o.style, s = o.__hostTarget, l = s.textConfig || {}, u = o.getComputedTransform(), c = o.getBoundingRect().plain();
      Ie.applyTransform(c, c, u), u ? ht.setLocalTransform(u) : (ht.x = ht.y = ht.rotation = ht.originX = ht.originY = 0, ht.scaleX = ht.scaleY = 1), ht.rotation = In(ht.rotation);
      var f = o.__hostTarget, h;
      if (f) {
        h = f.getBoundingRect().plain();
        var d = f.getComputedTransform();
        Ie.applyTransform(h, h, d);
      }
      var p = h && f.getTextGuideLine();
      this._labelList.push({
        label: o,
        labelLine: p,
        seriesModel: r,
        dataIndex: e,
        dataType: n,
        layoutOption: a,
        computedLayoutOption: null,
        rect: c,
        hostRect: h,
        // Label with lower priority will be hidden when overlapped
        // Use rect size as default priority
        priority: h ? h.width * h.height : 0,
        // Save default label attributes.
        // For restore if developers want get back to default value in callback.
        defaultAttr: {
          ignore: o.ignore,
          labelGuideIgnore: p && p.ignore,
          x: ht.x,
          y: ht.y,
          scaleX: ht.scaleX,
          scaleY: ht.scaleY,
          rotation: ht.rotation,
          style: {
            x: i.x,
            y: i.y,
            align: i.align,
            verticalAlign: i.verticalAlign,
            width: i.width,
            height: i.height,
            fontSize: i.fontSize
          },
          cursor: o.cursor,
          attachedPos: l.position,
          attachedRot: l.rotation
        }
      });
    }, t.prototype.addLabelsOfSeries = function(e) {
      var n = this;
      this._chartViewList.push(e);
      var r = e.__model, o = r.get("labelLayout");
      (Be(o) || Ke(o).length) && e.group.traverse(function(a) {
        if (a.ignore)
          return !0;
        var i = a.getTextContent(), s = Pt(a);
        i && !i.disableLabelLayout && n._addLabel(s.dataIndex, s.dataType, r, i, o);
      });
    }, t.prototype.updateLayoutConfig = function(e) {
      var n = e.getWidth(), r = e.getHeight();
      function o(S, b) {
        return function() {
          Fv(S, b);
        };
      }
      for (var a = 0; a < this._labelList.length; a++) {
        var i = this._labelList[a], s = i.label, l = s.__hostTarget, u = i.defaultAttr, c = void 0;
        Be(i.layoutOption) ? c = i.layoutOption(B4(i, l)) : c = i.layoutOption, c = c || {}, i.computedLayoutOption = c;
        var f = Math.PI / 180;
        l && l.setTextConfig({
          // Force to set local false.
          local: !1,
          // Ignore position and rotation config on the host el if x or y is changed.
          position: c.x != null || c.y != null ? null : u.attachedPos,
          // Ignore rotation config on the host el if rotation is changed.
          rotation: c.rotate != null ? c.rotate * f : u.attachedRot,
          offset: [c.dx || 0, c.dy || 0]
        });
        var h = !1;
        if (c.x != null ? (s.x = Qu(c.x, n), s.setStyle("x", 0), h = !0) : (s.x = u.x, s.setStyle("x", u.style.x)), c.y != null ? (s.y = Qu(c.y, r), s.setStyle("y", 0), h = !0) : (s.y = u.y, s.setStyle("y", u.style.y)), c.labelLinePoints) {
          var d = l.getTextGuideLine();
          d && (d.setShape({
            points: c.labelLinePoints
          }), h = !1);
        }
        var p = pu(s);
        p.needsUpdateLabelLine = h, s.rotation = c.rotate != null ? c.rotate * f : u.rotation, s.scaleX = u.scaleX, s.scaleY = u.scaleY;
        for (var m = 0; m < kv.length; m++) {
          var g = kv[m];
          s.setStyle(g, c[g] != null ? c[g] : u.style[g]);
        }
        if (c.draggable) {
          if (s.draggable = !0, s.cursor = "move", l) {
            var v = i.seriesModel;
            if (i.dataIndex != null) {
              var y = i.seriesModel.getData(i.dataType);
              v = y.getItemModel(i.dataIndex);
            }
            s.on("drag", o(l, v.getModel("labelLine")));
          }
        } else
          s.off("drag"), s.cursor = u.cursor;
      }
    }, t.prototype.layout = function(e) {
      var n = e.getWidth(), r = e.getHeight(), o = L4(this._labelList), a = _t(o, function(l) {
        return l.layoutOption.moveOverlap === "shiftX";
      }), i = _t(o, function(l) {
        return l.layoutOption.moveOverlap === "shiftY";
      });
      $4(a, 0, n), I4(i, 0, r);
      var s = _t(o, function(l) {
        return l.layoutOption.hideOverlap;
      });
      P4(s);
    }, t.prototype.processLabelsOverall = function() {
      var e = this;
      X(this._chartViewList, function(n) {
        var r = n.__model, o = n.ignoreLabelLineUpdate, a = r.isAnimationEnabled();
        n.group.traverse(function(i) {
          if (i.ignore && !i.forceLabelAnimation)
            return !0;
          var s = !o, l = i.getTextContent();
          !s && l && (s = pu(l).needsUpdateLabelLine), s && e._updateLabelLine(i, r), a && e._animateLabels(i, r);
        });
      });
    }, t.prototype._updateLabelLine = function(e, n) {
      var r = e.getTextContent(), o = Pt(e), a = o.dataIndex;
      if (r && a != null) {
        var i = n.getData(o.dataType), s = i.getItemModel(a), l = {}, u = i.getItemVisual(a, "style");
        if (u) {
          var c = i.getVisual("drawType");
          l.stroke = u[c];
        }
        var f = s.getModel("labelLine");
        O4(e, R4(s), l), Fv(e, f);
      }
    }, t.prototype._animateLabels = function(e, n) {
      var r = e.getTextContent(), o = e.getTextGuideLine();
      if (r && (e.forceLabelAnimation || !r.ignore && !r.invisible && !e.disableLabelAnimation && !Wi(e))) {
        var a = pu(r), i = a.oldLayout, s = Pt(e), l = s.dataIndex, u = {
          x: r.x,
          y: r.y,
          rotation: r.rotation
        }, c = n.getData(s.dataType);
        if (i) {
          r.attr(i);
          var h = e.prevStates;
          h && (He(h, "select") >= 0 && r.attr(a.oldLayoutSelect), He(h, "emphasis") >= 0 && r.attr(a.oldLayoutEmphasis)), mo(r, u, n, l);
        } else if (r.attr(u), !rm(r).valueAnimation) {
          var f = Ee(r.style.opacity, 1);
          r.style.opacity = 0, cs(r, {
            style: {
              opacity: f
            }
          }, n, l);
        }
        if (a.oldLayout = u, r.states.select) {
          var d = a.oldLayoutSelect = {};
          xi(d, u, Di), xi(d, r.states.select, Di);
        }
        if (r.states.emphasis) {
          var p = a.oldLayoutEmphasis = {};
          xi(p, u, Di), xi(p, r.states.emphasis, Di);
        }
        lE(r, l, c, n, n);
      }
      if (o && !o.ignore && !o.invisible) {
        var a = W4(o), i = a.oldLayout, m = {
          points: o.shape.points
        };
        i ? (o.attr({
          shape: i
        }), mo(o, {
          shape: m
        }, n)) : (o.setShape(m), o.style.strokePercent = 0, cs(o, {
          style: {
            strokePercent: 1
          }
        }, n)), a.oldLayout = m;
      }
    }, t;
  }()
), vu = it();
function H4(t) {
  t.registerUpdateLifecycle("series:beforeupdate", function(e, n, r) {
    var o = vu(n).labelManager;
    o || (o = vu(n).labelManager = new N4()), o.clearLabels();
  }), t.registerUpdateLifecycle("series:layoutlabels", function(e, n, r) {
    var o = vu(n).labelManager;
    r.updatedSeries.forEach(function(a) {
      o.addLabelsOfSeries(n.getViewOfSeriesModel(a));
    }), o.updateLayoutConfig(n), o.layout(n), o.processLabelsOverall();
  });
}
function Ev(t, e, n) {
  var r = Ao.createCanvas(), o = e.getWidth(), a = e.getHeight(), i = r.style;
  return i && (i.position = "absolute", i.left = "0", i.top = "0", i.width = o + "px", i.height = a + "px", r.setAttribute("data-zr-dom-id", t)), r.width = o * n, r.height = a * n, r;
}
var gu = function(t) {
  Te(e, t);
  function e(n, r, o) {
    var a = t.call(this) || this;
    a.motionBlur = !1, a.lastFrameAlpha = 0.7, a.dpr = 1, a.virtual = !1, a.config = {}, a.incremental = !1, a.zlevel = 0, a.maxRepaintRectCount = 5, a.__dirty = !0, a.__firstTimePaint = !0, a.__used = !1, a.__drawIndex = 0, a.__startIndex = 0, a.__endIndex = 0, a.__prevStartIndex = null, a.__prevEndIndex = null;
    var i;
    o = o || ls, typeof n == "string" ? i = Ev(n, r, o) : _e(n) && (i = n, n = i.id), a.id = n, a.dom = i;
    var s = i.style;
    return s && (J0(i), i.onselectstart = function() {
      return !1;
    }, s.padding = "0", s.margin = "0", s.borderWidth = "0"), a.painter = r, a.dpr = o, a;
  }
  return e.prototype.getElementCount = function() {
    return this.__endIndex - this.__startIndex;
  }, e.prototype.afterBrush = function() {
    this.__prevStartIndex = this.__startIndex, this.__prevEndIndex = this.__endIndex;
  }, e.prototype.initContext = function() {
    this.ctx = this.dom.getContext("2d"), this.ctx.dpr = this.dpr;
  }, e.prototype.setUnpainted = function() {
    this.__firstTimePaint = !0;
  }, e.prototype.createBackBuffer = function() {
    var n = this.dpr;
    this.domBack = Ev("back-" + this.id, this.painter, n), this.ctxBack = this.domBack.getContext("2d"), n !== 1 && this.ctxBack.scale(n, n);
  }, e.prototype.createRepaintRects = function(n, r, o, a) {
    if (this.__firstTimePaint)
      return this.__firstTimePaint = !1, null;
    var i = [], s = this.maxRepaintRectCount, l = !1, u = new Ie(0, 0, 0, 0);
    function c(y) {
      if (!(!y.isFinite() || y.isZero()))
        if (i.length === 0) {
          var S = new Ie(0, 0, 0, 0);
          S.copy(y), i.push(S);
        } else {
          for (var b = !1, _ = 1 / 0, w = 0, T = 0; T < i.length; ++T) {
            var C = i[T];
            if (C.intersect(y)) {
              var x = new Ie(0, 0, 0, 0);
              x.copy(C), x.union(y), i[T] = x, b = !0;
              break;
            } else if (l) {
              u.copy(y), u.union(C);
              var D = y.width * y.height, F = C.width * C.height, I = u.width * u.height, P = I - D - F;
              P < _ && (_ = P, w = T);
            }
          }
          if (l && (i[w].union(y), b = !0), !b) {
            var S = new Ie(0, 0, 0, 0);
            S.copy(y), i.push(S);
          }
          l || (l = i.length >= s);
        }
    }
    for (var f = this.__startIndex; f < this.__endIndex; ++f) {
      var h = n[f];
      if (h) {
        var d = h.shouldBePainted(o, a, !0, !0), p = h.__isRendered && (h.__dirty & wn || !d) ? h.getPrevPaintRect() : null;
        p && c(p);
        var m = d && (h.__dirty & wn || !h.__isRendered) ? h.getPaintRect() : null;
        m && c(m);
      }
    }
    for (var f = this.__prevStartIndex; f < this.__prevEndIndex; ++f) {
      var h = r[f], d = h && h.shouldBePainted(o, a, !0, !0);
      if (h && (!d || !h.__zr) && h.__isRendered) {
        var p = h.getPrevPaintRect();
        p && c(p);
      }
    }
    var g;
    do {
      g = !1;
      for (var f = 0; f < i.length; ) {
        if (i[f].isZero()) {
          i.splice(f, 1);
          continue;
        }
        for (var v = f + 1; v < i.length; )
          i[f].intersect(i[v]) ? (g = !0, i[f].union(i[v]), i.splice(v, 1)) : v++;
        f++;
      }
    } while (g);
    return this._paintRects = i, i;
  }, e.prototype.debugGetPaintRects = function() {
    return (this._paintRects || []).slice();
  }, e.prototype.resize = function(n, r) {
    var o = this.dpr, a = this.dom, i = a.style, s = this.domBack;
    i && (i.width = n + "px", i.height = r + "px"), a.width = n * o, a.height = r * o, s && (s.width = n * o, s.height = r * o, o !== 1 && this.ctxBack.scale(o, o));
  }, e.prototype.clear = function(n, r, o) {
    var a = this.dom, i = this.ctx, s = a.width, l = a.height;
    r = r || this.clearColor;
    var u = this.motionBlur && !n, c = this.lastFrameAlpha, f = this.dpr, h = this;
    u && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = "copy", this.ctxBack.drawImage(a, 0, 0, s / f, l / f));
    var d = this.domBack;
    function p(m, g, v, y) {
      if (i.clearRect(m, g, v, y), r && r !== "transparent") {
        var S = void 0;
        if (zs(r)) {
          var b = r.global || r.__width === v && r.__height === y;
          S = b && r.__canvasGradient || bc(i, r, {
            x: 0,
            y: 0,
            width: v,
            height: y
          }), r.__canvasGradient = S, r.__width = v, r.__height = y;
        } else gF(r) && (r.scaleX = r.scaleX || f, r.scaleY = r.scaleY || f, S = wc(i, r, {
          dirty: function() {
            h.setUnpainted(), h.painter.refresh();
          }
        }));
        i.save(), i.fillStyle = S || r, i.fillRect(m, g, v, y), i.restore();
      }
      u && (i.save(), i.globalAlpha = c, i.drawImage(d, m, g, v, y), i.restore());
    }
    !o || u ? p(0, 0, s, l) : o.length && X(o, function(m) {
      p(m.x * f, m.y * f, m.width * f, m.height * f);
    });
  }, e;
}(Fn), Mv = 1e5, Ar = 314159, Ci = 0.01, V4 = 1e-3;
function q4(t) {
  return t ? t.__builtin__ ? !0 : !(typeof t.resize != "function" || typeof t.refresh != "function") : !1;
}
function j4(t, e) {
  var n = document.createElement("div");
  return n.style.cssText = [
    "position:relative",
    "width:" + t + "px",
    "height:" + e + "px",
    "padding:0",
    "margin:0",
    "border-width:0"
  ].join(";") + ";", n;
}
var U4 = function() {
  function t(e, n, r, o) {
    this.type = "canvas", this._zlevelList = [], this._prevDisplayList = [], this._layers = {}, this._layerConfig = {}, this._needsManuallyCompositing = !1, this.type = "canvas";
    var a = !e.nodeName || e.nodeName.toUpperCase() === "CANVAS";
    this._opts = r = ie({}, r || {}), this.dpr = r.devicePixelRatio || ls, this._singleCanvas = a, this.root = e;
    var i = e.style;
    i && (J0(e), e.innerHTML = ""), this.storage = n;
    var s = this._zlevelList;
    this._prevDisplayList = [];
    var l = this._layers;
    if (a) {
      var c = e, f = c.width, h = c.height;
      r.width != null && (f = r.width), r.height != null && (h = r.height), this.dpr = r.devicePixelRatio || 1, c.width = f * this.dpr, c.height = h * this.dpr, this._width = f, this._height = h;
      var d = new gu(c, this, this.dpr);
      d.__builtin__ = !0, d.initContext(), l[Ar] = d, d.zlevel = Ar, s.push(Ar), this._domRoot = e;
    } else {
      this._width = Si(e, 0, r), this._height = Si(e, 1, r);
      var u = this._domRoot = j4(this._width, this._height);
      e.appendChild(u);
    }
  }
  return t.prototype.getType = function() {
    return "canvas";
  }, t.prototype.isSingleCanvas = function() {
    return this._singleCanvas;
  }, t.prototype.getViewportRoot = function() {
    return this._domRoot;
  }, t.prototype.getViewportRootOffset = function() {
    var e = this.getViewportRoot();
    if (e)
      return {
        offsetLeft: e.offsetLeft || 0,
        offsetTop: e.offsetTop || 0
      };
  }, t.prototype.refresh = function(e) {
    var n = this.storage.getDisplayList(!0), r = this._prevDisplayList, o = this._zlevelList;
    this._redrawId = Math.random(), this._paintList(n, r, e, this._redrawId);
    for (var a = 0; a < o.length; a++) {
      var i = o[a], s = this._layers[i];
      if (!s.__builtin__ && s.refresh) {
        var l = a === 0 ? this._backgroundColor : null;
        s.refresh(l);
      }
    }
    return this._opts.useDirtyRect && (this._prevDisplayList = n.slice()), this;
  }, t.prototype.refreshHover = function() {
    this._paintHoverList(this.storage.getDisplayList(!1));
  }, t.prototype._paintHoverList = function(e) {
    var n = e.length, r = this._hoverlayer;
    if (r && r.clear(), !!n) {
      for (var o = {
        inHover: !0,
        viewWidth: this._width,
        viewHeight: this._height
      }, a, i = 0; i < n; i++) {
        var s = e[i];
        s.__inHover && (r || (r = this._hoverlayer = this.getLayer(Mv)), a || (a = r.ctx, a.save()), Mr(a, s, o, i === n - 1));
      }
      a && a.restore();
    }
  }, t.prototype.getHoverLayer = function() {
    return this.getLayer(Mv);
  }, t.prototype.paintOne = function(e, n) {
    Bm(e, n);
  }, t.prototype._paintList = function(e, n, r, o) {
    if (this._redrawId === o) {
      r = r || !1, this._updateLayerStatus(e);
      var a = this._doPaintList(e, n, r), i = a.finished, s = a.needsRefreshHover;
      if (this._needsManuallyCompositing && this._compositeManually(), s && this._paintHoverList(e), i)
        this.eachLayer(function(u) {
          u.afterBrush && u.afterBrush();
        });
      else {
        var l = this;
        os(function() {
          l._paintList(e, n, r, o);
        });
      }
    }
  }, t.prototype._compositeManually = function() {
    var e = this.getLayer(Ar).ctx, n = this._domRoot.width, r = this._domRoot.height;
    e.clearRect(0, 0, n, r), this.eachBuiltinLayer(function(o) {
      o.virtual && e.drawImage(o.dom, 0, 0, n, r);
    });
  }, t.prototype._doPaintList = function(e, n, r) {
    for (var o = this, a = [], i = this._opts.useDirtyRect, s = 0; s < this._zlevelList.length; s++) {
      var l = this._zlevelList[s], u = this._layers[l];
      u.__builtin__ && u !== this._hoverlayer && (u.__dirty || r) && a.push(u);
    }
    for (var c = !0, f = !1, h = function(m) {
      var g = a[m], v = g.ctx, y = i && g.createRepaintRects(e, n, d._width, d._height), S = r ? g.__startIndex : g.__drawIndex, b = !r && g.incremental && Date.now, _ = b && Date.now(), w = g.zlevel === d._zlevelList[0] ? d._backgroundColor : null;
      if (g.__startIndex === g.__endIndex)
        g.clear(!1, w, y);
      else if (S === g.__startIndex) {
        var T = e[S];
        (!T.incremental || !T.notClear || r) && g.clear(!1, w, y);
      }
      S === -1 && (console.error("For some unknown reason. drawIndex is -1"), S = g.__startIndex);
      var C, x = function(P) {
        var O = {
          inHover: !1,
          allClipped: !1,
          prevEl: null,
          viewWidth: o._width,
          viewHeight: o._height
        };
        for (C = S; C < g.__endIndex; C++) {
          var k = e[C];
          if (k.__inHover && (f = !0), o._doPaintEl(k, g, i, P, O, C === g.__endIndex - 1), b) {
            var $ = Date.now() - _;
            if ($ > 15)
              break;
          }
        }
        O.prevElClipPaths && v.restore();
      };
      if (y)
        if (y.length === 0)
          C = g.__endIndex;
        else
          for (var D = d.dpr, F = 0; F < y.length; ++F) {
            var I = y[F];
            v.save(), v.beginPath(), v.rect(I.x * D, I.y * D, I.width * D, I.height * D), v.clip(), x(I), v.restore();
          }
      else
        v.save(), x(), v.restore();
      g.__drawIndex = C, g.__drawIndex < g.__endIndex && (c = !1);
    }, d = this, p = 0; p < a.length; p++)
      h(p);
    return ke.wxa && X(this._layers, function(m) {
      m && m.ctx && m.ctx.draw && m.ctx.draw();
    }), {
      finished: c,
      needsRefreshHover: f
    };
  }, t.prototype._doPaintEl = function(e, n, r, o, a, i) {
    var s = n.ctx;
    if (r) {
      var l = e.getPaintRect();
      (!o || l && l.intersect(o)) && (Mr(s, e, a, i), e.setPrevPaintRect(l));
    } else
      Mr(s, e, a, i);
  }, t.prototype.getLayer = function(e, n) {
    this._singleCanvas && !this._needsManuallyCompositing && (e = Ar);
    var r = this._layers[e];
    return r || (r = new gu("zr_" + e, this, this.dpr), r.zlevel = e, r.__builtin__ = !0, this._layerConfig[e] ? Je(r, this._layerConfig[e], !0) : this._layerConfig[e - Ci] && Je(r, this._layerConfig[e - Ci], !0), n && (r.virtual = n), this.insertLayer(e, r), r.initContext()), r;
  }, t.prototype.insertLayer = function(e, n) {
    var r = this._layers, o = this._zlevelList, a = o.length, i = this._domRoot, s = null, l = -1;
    if (!r[e] && q4(n)) {
      if (a > 0 && e > o[0]) {
        for (l = 0; l < a - 1 && !(o[l] < e && o[l + 1] > e); l++)
          ;
        s = r[o[l]];
      }
      if (o.splice(l + 1, 0, e), r[e] = n, !n.virtual)
        if (s) {
          var u = s.dom;
          u.nextSibling ? i.insertBefore(n.dom, u.nextSibling) : i.appendChild(n.dom);
        } else
          i.firstChild ? i.insertBefore(n.dom, i.firstChild) : i.appendChild(n.dom);
      n.painter || (n.painter = this);
    }
  }, t.prototype.eachLayer = function(e, n) {
    for (var r = this._zlevelList, o = 0; o < r.length; o++) {
      var a = r[o];
      e.call(n, this._layers[a], a);
    }
  }, t.prototype.eachBuiltinLayer = function(e, n) {
    for (var r = this._zlevelList, o = 0; o < r.length; o++) {
      var a = r[o], i = this._layers[a];
      i.__builtin__ && e.call(n, i, a);
    }
  }, t.prototype.eachOtherLayer = function(e, n) {
    for (var r = this._zlevelList, o = 0; o < r.length; o++) {
      var a = r[o], i = this._layers[a];
      i.__builtin__ || e.call(n, i, a);
    }
  }, t.prototype.getLayers = function() {
    return this._layers;
  }, t.prototype._updateLayerStatus = function(e) {
    this.eachBuiltinLayer(function(f, h) {
      f.__dirty = f.__used = !1;
    });
    function n(f) {
      a && (a.__endIndex !== f && (a.__dirty = !0), a.__endIndex = f);
    }
    if (this._singleCanvas)
      for (var r = 1; r < e.length; r++) {
        var o = e[r];
        if (o.zlevel !== e[r - 1].zlevel || o.incremental) {
          this._needsManuallyCompositing = !0;
          break;
        }
      }
    var a = null, i = 0, s, l;
    for (l = 0; l < e.length; l++) {
      var o = e[l], u = o.zlevel, c = void 0;
      s !== u && (s = u, i = 0), o.incremental ? (c = this.getLayer(u + V4, this._needsManuallyCompositing), c.incremental = !0, i = 1) : c = this.getLayer(u + (i > 0 ? Ci : 0), this._needsManuallyCompositing), c.__builtin__ || nf("ZLevel " + u + " has been used by unkown layer " + c.id), c !== a && (c.__used = !0, c.__startIndex !== l && (c.__dirty = !0), c.__startIndex = l, c.incremental ? c.__drawIndex = -1 : c.__drawIndex = l, n(l), a = c), o.__dirty & wn && !o.__inHover && (c.__dirty = !0, c.incremental && c.__drawIndex < 0 && (c.__drawIndex = l));
    }
    n(l), this.eachBuiltinLayer(function(f, h) {
      !f.__used && f.getElementCount() > 0 && (f.__dirty = !0, f.__startIndex = f.__endIndex = f.__drawIndex = 0), f.__dirty && f.__drawIndex < 0 && (f.__drawIndex = f.__startIndex);
    });
  }, t.prototype.clear = function() {
    return this.eachBuiltinLayer(this._clearLayer), this;
  }, t.prototype._clearLayer = function(e) {
    e.clear();
  }, t.prototype.setBackgroundColor = function(e) {
    this._backgroundColor = e, X(this._layers, function(n) {
      n.setUnpainted();
    });
  }, t.prototype.configLayer = function(e, n) {
    if (n) {
      var r = this._layerConfig;
      r[e] ? Je(r[e], n, !0) : r[e] = n;
      for (var o = 0; o < this._zlevelList.length; o++) {
        var a = this._zlevelList[o];
        if (a === e || a === e + Ci) {
          var i = this._layers[a];
          Je(i, r[e], !0);
        }
      }
    }
  }, t.prototype.delLayer = function(e) {
    var n = this._layers, r = this._zlevelList, o = n[e];
    o && (o.dom.parentNode.removeChild(o.dom), delete n[e], r.splice(He(r, e), 1));
  }, t.prototype.resize = function(e, n) {
    if (this._domRoot.style) {
      var r = this._domRoot;
      r.style.display = "none";
      var o = this._opts, a = this.root;
      if (e != null && (o.width = e), n != null && (o.height = n), e = Si(a, 0, o), n = Si(a, 1, o), r.style.display = "", this._width !== e || n !== this._height) {
        r.style.width = e + "px", r.style.height = n + "px";
        for (var i in this._layers)
          this._layers.hasOwnProperty(i) && this._layers[i].resize(e, n);
        this.refresh(!0);
      }
      this._width = e, this._height = n;
    } else {
      if (e == null || n == null)
        return;
      this._width = e, this._height = n, this.getLayer(Ar).resize(e, n);
    }
    return this;
  }, t.prototype.clearLayer = function(e) {
    var n = this._layers[e];
    n && n.clear();
  }, t.prototype.dispose = function() {
    this.root.innerHTML = "", this.root = this.storage = this._domRoot = this._layers = null;
  }, t.prototype.getRenderedCanvas = function(e) {
    if (e = e || {}, this._singleCanvas && !this._compositeManually)
      return this._layers[Ar].dom;
    var n = new gu("image", this, e.pixelRatio || this.dpr);
    n.initContext(), n.clear(!1, e.backgroundColor || this._backgroundColor);
    var r = n.ctx;
    if (e.pixelRatio <= this.dpr) {
      this.refresh();
      var o = n.dom.width, a = n.dom.height;
      this.eachLayer(function(f) {
        f.__builtin__ ? r.drawImage(f.dom, 0, 0, o, a) : f.renderToCanvas && (r.save(), f.renderToCanvas(r), r.restore());
      });
    } else
      for (var i = {
        inHover: !1,
        viewWidth: this._width,
        viewHeight: this._height
      }, s = this.storage.getDisplayList(!0), l = 0, u = s.length; l < u; l++) {
        var c = s[l];
        Mr(r, c, i, l === u - 1);
      }
    return n.dom;
  }, t.prototype.getWidth = function() {
    return this._width;
  }, t.prototype.getHeight = function() {
    return this._height;
  }, t;
}();
function Y4(t) {
  t.registerPainter("canvas", U4);
}
var G4 = (
  /** @class */
  function(t) {
    Te(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = "dataset", n;
    }
    return e.prototype.init = function(n, r, o) {
      t.prototype.init.call(this, n, r, o), this._sourceManager = new Fm(this), qp(this);
    }, e.prototype.mergeOption = function(n, r) {
      t.prototype.mergeOption.call(this, n, r), qp(this);
    }, e.prototype.optionUpdated = function() {
      this._sourceManager.dirty();
    }, e.prototype.getSourceManager = function() {
      return this._sourceManager;
    }, e.type = "dataset", e.defaultOption = {
      seriesLayoutBy: xn
    }, e;
  }(We)
), X4 = (
  /** @class */
  function(t) {
    Te(e, t);
    function e() {
      var n = t !== null && t.apply(this, arguments) || this;
      return n.type = "dataset", n;
    }
    return e.type = "dataset", e;
  }(Do)
);
function Z4(t) {
  t.registerComponentModel(G4), t.registerComponentView(X4);
}
Of([Y4, Z4]);
Of(H4);
x4({
  type: "series.liquidFill",
  optionUpdated: function() {
    var t = this.option;
    t.gridSize = Math.max(Math.floor(t.gridSize), 4);
  },
  getInitialData: function(t, e) {
    var n = g4(t.data, {
      coordDimensions: ["value"]
    }), r = new v4(n, this);
    return r.initData(t.data), r;
  },
  defaultOption: {
    color: ["#294D99", "#156ACF", "#1598ED", "#45BDFF"],
    center: ["50%", "50%"],
    radius: "50%",
    amplitude: "8%",
    waveLength: "80%",
    phase: "auto",
    period: "auto",
    direction: "right",
    shape: "circle",
    waveAnimation: !0,
    animationEasing: "linear",
    animationEasingUpdate: "linear",
    animationDuration: 2e3,
    animationDurationUpdate: 1e3,
    outline: {
      show: !0,
      borderDistance: 8,
      itemStyle: {
        color: "none",
        borderColor: "#294D99",
        borderWidth: 8,
        shadowBlur: 20,
        shadowColor: "rgba(0, 0, 0, 0.25)"
      }
    },
    backgroundStyle: {
      color: "#E3F7FF"
    },
    itemStyle: {
      opacity: 0.95,
      shadowBlur: 50,
      shadowColor: "rgba(0, 0, 0, 0.4)"
    },
    label: {
      show: !0,
      color: "#294D99",
      insideColor: "#fff",
      fontSize: 50,
      fontWeight: "bold",
      align: "center",
      baseline: "middle",
      position: "inside"
    },
    emphasis: {
      itemStyle: {
        opacity: 0.8
      }
    }
  }
});
const K4 = Jk({
  type: "ec-liquid-fill",
  shape: {
    waveLength: 0,
    radius: 0,
    radiusY: 0,
    cx: 0,
    cy: 0,
    waterLevel: 0,
    amplitude: 0,
    phase: 0,
    inverse: !1
  },
  buildPath: function(t, e) {
    e.radiusY == null && (e.radiusY = e.radius);
    for (var n = Math.max(
      Math.ceil(2 * e.radius / e.waveLength * 4) * 2,
      8
    ); e.phase < -Math.PI * 2; )
      e.phase += Math.PI * 2;
    for (; e.phase > 0; )
      e.phase -= Math.PI * 2;
    var r = e.phase / Math.PI / 2 * e.waveLength, o = e.cx - e.radius + r - e.radius * 2;
    t.moveTo(o, e.waterLevel);
    for (var a = 0, i = 0; i < n; ++i) {
      var s = i % 4, l = J4(
        i * e.waveLength / 4,
        s,
        e.waveLength,
        e.amplitude
      );
      t.bezierCurveTo(
        l[0][0] + o,
        -l[0][1] + e.waterLevel,
        l[1][0] + o,
        -l[1][1] + e.waterLevel,
        l[2][0] + o,
        -l[2][1] + e.waterLevel
      ), i === n - 1 && (a = l[2][0]);
    }
    e.inverse ? (t.lineTo(a + o, e.cy - e.radiusY), t.lineTo(o, e.cy - e.radiusY), t.lineTo(o, e.waterLevel)) : (t.lineTo(a + o, e.cy + e.radiusY), t.lineTo(o, e.cy + e.radiusY), t.lineTo(o, e.waterLevel)), t.closePath();
  }
});
function J4(t, e, n, r) {
  return e === 0 ? [
    [t + 1 / 2 * n / Math.PI / 2, r / 2],
    [t + 1 / 2 * n / Math.PI, r],
    [t + n / 4, r]
  ] : e === 1 ? [
    [
      t + 1 / 2 * n / Math.PI / 2 * (Math.PI - 2),
      r
    ],
    [
      t + 1 / 2 * n / Math.PI / 2 * (Math.PI - 1),
      r / 2
    ],
    [t + n / 4, 0]
  ] : e === 2 ? [
    [t + 1 / 2 * n / Math.PI / 2, -r / 2],
    [t + 1 / 2 * n / Math.PI, -r],
    [t + n / 4, -r]
  ] : [
    [
      t + 1 / 2 * n / Math.PI / 2 * (Math.PI - 2),
      -r
    ],
    [
      t + 1 / 2 * n / Math.PI / 2 * (Math.PI - 1),
      -r / 2
    ],
    [t + n / 4, 0]
  ];
}
var Ln = Qu;
function Ov(t) {
  return t && t.indexOf("path://") === 0;
}
D4({
  type: "liquidFill",
  render: function(t, e, n) {
    var r = this, o = this.group;
    o.removeAll();
    var a = t.getData(), i = a.getItemModel(0), s = i.get("center"), l = i.get("radius"), u = n.getWidth(), c = n.getHeight(), f = Math.min(u, c), h = 0, d = 0, p = t.get("outline.show");
    p && (h = t.get("outline.borderDistance"), d = Ln(
      t.get("outline.itemStyle.borderWidth"),
      f
    ));
    var m = Ln(s[0], u), g = Ln(s[1], c), v, y, S, b = !1, _ = t.get("shape");
    if (_ === "container" ? (b = !0, v = [
      u / 2,
      c / 2
    ], y = [
      v[0] - d / 2,
      v[1] - d / 2
    ], S = [
      Ln(h, u),
      Ln(h, c)
    ], l = [
      Math.max(y[0] - S[0], 0),
      Math.max(y[1] - S[1], 0)
    ]) : (v = Ln(l, f) / 2, y = v - d / 2, S = Ln(h, f), l = Math.max(y - S, 0)), p) {
      var w = P();
      w.style.lineWidth = d, o.add(P());
    }
    var T = b ? 0 : m - l, C = b ? 0 : g - l, x = null;
    o.add(O());
    var D = this._data, F = [];
    a.diff(D).add(function(A) {
      var L = k(A, !1), R = L.shape.waterLevel;
      L.shape.waterLevel = b ? c / 2 : l, cs(L, {
        shape: {
          waterLevel: R
        }
      }, t), L.z2 = 2, $(A, L, null), o.add(L), a.setItemGraphicEl(A, L), F.push(L);
    }).update(function(A, L) {
      for (var R = D.getItemGraphicEl(L), E = k(A, !1, R), B = {}, W = ["amplitude", "cx", "cy", "phase", "radius", "radiusY", "waterLevel", "waveLength"], z = 0; z < W.length; ++z) {
        var V = W[z];
        E.shape.hasOwnProperty(V) && (B[V] = E.shape[V]);
      }
      for (var q = {}, U = ["fill", "opacity", "shadowBlur", "shadowColor"], z = 0; z < U.length; ++z) {
        var V = U[z];
        E.style.hasOwnProperty(V) && (q[V] = E.style[V]);
      }
      b && (B.radiusY = c / 2), mo(R, {
        shape: B,
        x: E.x,
        y: E.y
      }, t), t.isUniversalTransitionEnabled && t.isUniversalTransitionEnabled() ? mo(R, {
        style: q
      }, t) : R.useStyle(q);
      var K = R.getClipPath(), Z = E.getClipPath();
      R.setClipPath(E.getClipPath()), R.shape.inverse = E.inverse, K && Z && r._shape === _ && !Ov(_) && mo(Z, {
        shape: K.shape
      }, t, { isFrom: !0 }), $(A, R, R), o.add(R), a.setItemGraphicEl(A, R), F.push(R);
    }).remove(function(A) {
      var L = D.getItemGraphicEl(A);
      o.remove(L);
    }).execute(), i.get("label.show") && o.add(M(F)), this._shape = _, this._data = a;
    function I(A, L) {
      if (_)
        if (Ov(_)) {
          var R = dc(_.slice(7), {}), E = R.getBoundingRect(), B = E.width, W = E.height;
          B > W ? (W = A * 2 / B * W, B = A * 2) : (B = A * 2 / W * B, W = A * 2);
          var z = L ? 0 : m - B / 2, V = L ? 0 : g - W / 2;
          return R = dc(
            _.slice(7),
            {},
            new Ie(z, V, B, W)
          ), L && (R.x = -B / 2, R.y = -W / 2), R;
        } else if (b) {
          var q = L ? -A[0] : m - A[0], U = L ? -A[1] : g - A[1];
          return Sc(
            "rect",
            q,
            U,
            A[0] * 2,
            A[1] * 2
          );
        } else {
          var q = L ? -A : m - A, U = L ? -A : g - A;
          return _ === "pin" ? U += A : _ === "arrow" && (U -= A), Sc(_, q, U, A * 2, A * 2);
        }
      return new Gs({
        shape: {
          cx: L ? 0 : m,
          cy: L ? 0 : g,
          r: A
        }
      });
    }
    function P() {
      var A = I(v);
      return A.style.fill = null, A.setStyle(t.getModel("outline.itemStyle").getItemStyle()), A;
    }
    function O() {
      var A = I(l);
      A.setStyle(t.getModel("backgroundStyle").getItemStyle()), A.style.fill = null, A.z2 = 5;
      var L = I(l);
      L.setStyle(t.getModel("backgroundStyle").getItemStyle()), L.style.stroke = null;
      var R = new Br();
      return R.add(A), R.add(L), R;
    }
    function k(A, L, R) {
      var E = b ? l[0] : l, B = b ? c / 2 : l, W = a.getItemModel(A), z = W.getModel("itemStyle"), V = W.get("phase"), q = Ln(
        W.get("amplitude"),
        B * 2
      ), U = Ln(
        W.get("waveLength"),
        E * 2
      ), K = a.get("value", A), Z = B - K * B * 2;
      V = R ? R.shape.phase : V === "auto" ? A * Math.PI / 4 : V;
      var ee = z.getItemStyle();
      if (!ee.fill) {
        var te = t.get("color"), re = A % te.length;
        ee.fill = te[re];
      }
      var xe = E * 2, ge = new K4({
        shape: {
          waveLength: U,
          radius: E,
          radiusY: B,
          cx: xe,
          cy: 0,
          waterLevel: Z,
          amplitude: q,
          phase: V,
          inverse: L
        },
        style: ee,
        x: m,
        y: g
      });
      ge.shape._waterLevel = Z;
      var Xe = W.getModel("emphasis.itemStyle").getItemStyle();
      Xe.lineWidth = 0, ge.ensureState("emphasis").style = Xe, Sk(ge);
      var Mn = I(l, !0);
      return Mn.setStyle({
        fill: "white"
      }), ge.setClipPath(Mn), ge;
    }
    function $(A, L, R) {
      var E = a.getItemModel(A), B = E.get("period"), W = E.get("direction"), z = a.get("value", A), V = E.get("phase");
      V = R ? R.shape.phase : V === "auto" ? A * Math.PI / 4 : V;
      var q = function(Z) {
        var ee = a.count();
        return ee === 0 ? Z : Z * (0.2 + (ee - A) / ee * 0.8);
      }, U = 0;
      B === "auto" ? U = q(5e3) : U = typeof B == "function" ? B(z, A) : B;
      var K = 0;
      W === "right" || W == null ? K = Math.PI : W === "left" ? K = -Math.PI : W === "none" ? K = 0 : console.error("Illegal direction value for liquid fill."), W !== "none" && E.get("waveAnimation") && L.animate("shape", !0).when(0, {
        phase: V
      }).when(U / 2, {
        phase: K + V
      }).when(U, {
        phase: K * 2 + V
      }).during(function() {
        x && x.dirty(!0);
      }).start();
    }
    function M(A) {
      var L = i.getModel("label");
      function R() {
        var ee = t.getFormattedLabel(0, "normal"), te = a.get("value", 0) * 100, re = a.getName(0) || t.name;
        return isNaN(te) || (re = te.toFixed(0) + "%"), ee ?? re;
      }
      var E = {
        z2: 10,
        shape: {
          x: T,
          y: C,
          width: (b ? l[0] : l) * 2,
          height: (b ? l[1] : l) * 2
        },
        style: {
          fill: "transparent"
        },
        textConfig: {
          position: L.get("position") || "inside"
        },
        silent: !0
      }, B = {
        style: {
          text: R(),
          textAlign: L.get("align"),
          textVerticalAlign: L.get("baseline")
        }
      };
      Object.assign(B.style, w4(L));
      var W = new an(E), z = new an(E);
      z.disableLabelAnimation = !0, W.disableLabelAnimation = !0;
      var V = new Ma(B), q = new Ma(B);
      W.setTextContent(V), z.setTextContent(q);
      var U = L.get("insideColor");
      q.style.fill = U;
      var K = new Br();
      K.add(W), K.add(z);
      var Z = I(l, !0);
      return x = new Xk({
        shape: {
          paths: A
        },
        x: m,
        y: g
      }), x.setClipPath(Z), z.setClipPath(x), K;
    }
  },
  dispose: function() {
  }
});
const Rv = "visWidgetChartLiquidFill", Q4 = "水波图", eR = "0.0.1", tR = /* @__PURE__ */ ue({
  name: Rv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Rv, title: Q4 },
    version: eR,
    w: 200,
    h: 200,
    data: [
      {
        v: 36
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    // 数据映射
    chartDataFieldMap: {
      value: {
        name: "值",
        field: [
          {
            fieldName: "v",
            fieldAlias: "v",
            fieldType: "value",
            dataType: "string"
          }
        ]
      }
    },
    chartOption: {
      series: [
        {
          name: "达标",
          type: "liquidFill",
          radius: 72,
          center: ["50%", "50%"],
          label: {
            valueStyle: {
              fontFamily: "",
              color: "#FFFFFF",
              fontSize: 48,
              opacity: 100,
              textDecoration: "none",
              fontWeight: "bold",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 20,
              offsetX: 0,
              offsetY: 0
            },
            unitStyle: {
              show: !0,
              fontFamily: "",
              color: "#FFFFFF",
              fontSize: 48,
              opacity: 100,
              textDecoration: "none",
              fontWeight: "bold",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 20,
              offsetX: 0,
              offsetY: 0
            },
            unitValue: "%"
          },
          color: "#41A9F4",
          backgroundStyle: {
            color: "rgba(255, 255, 255, 0.1)"
          },
          outline: {
            borderDistance: 4,
            itemStyle: {
              borderWidth: 2,
              borderColor: "#41A9F4"
            }
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { getThemeColor: r } = tt(e.node), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getMappedData: l } = we(), u = H({
      get: () => {
        const v = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return l(v);
      },
      set: (v) => {
        e.node.data = v;
      }
    }), c = H(() => e.node.chartOption);
    ve(
      [u, c, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          m();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const f = (v, y) => {
      const S = r(y, v.color), b = new $e(S), _ = b.color.toString(), w = b.alpha();
      return [
        {
          type: "linear",
          x: 0,
          y: 0,
          x2: 0,
          y2: 1,
          colorStops: [
            {
              offset: 0,
              color: `rgba(${_}, ${w})`
            },
            {
              offset: 1,
              color: `rgba(${_}, ${w * 0.5})`
              // 下
            }
          ],
          globalCoord: !1
        },
        {
          type: "linear",
          x: 0,
          y: 0,
          x2: 0,
          y2: 1,
          colorStops: [
            {
              offset: 0,
              color: `rgba(${_}, ${w * 0.3})`
            },
            {
              offset: 1,
              color: `rgba(${_}, ${w * 0.3})`
              // 下
            }
          ],
          globalCoord: !1
        }
      ];
    }, h = (v) => {
      const y = e.node.chartOption.series[0], { unitValue: S, unitStyle: b, valueStyle: _ } = y.label, w = sn(v.data * 100, _.letterSpacing), T = sn(S, b.letterSpacing), C = `{valueStyle|${w}}`, x = b.show ? `{unitStyle|${T}}` : "";
      return `${C}${x}`;
    }, d = () => {
      const { chartOption: v, chartDataFieldMap: y } = e.node, S = u.value, { series: b } = me(v), _ = y.value.field[0].fieldName, T = (S.map((x) => x[_])[0] || 0) / 100, C = [];
      return b.forEach((x, D) => {
        const { name: F, type: I, radius: P, center: O, backgroundStyle: k, outline: $, label: M } = x, { unitStyle: A, valueStyle: L } = M;
        $.itemStyle.borderColor = r(D, $.itemStyle.borderColor);
        const R = {
          type: I,
          name: F,
          radius: `${P}%`,
          center: O,
          outline: $,
          color: f(x, D),
          backgroundStyle: k,
          label: {
            show: !0,
            rich: {
              valueStyle: {
                ...L,
                opacity: new $e(L.color).valpha,
                padding: [L.offsetX, L.offsetY]
              },
              unitStyle: {
                ...A,
                opacity: new $e(A.color).valpha,
                padding: [A.offsetX, A.offsetY]
              }
            },
            formatter: h
          },
          data: [T, T]
        };
        C.push(R);
      }), C;
    }, p = Q(), m = () => {
      const v = {
        series: d()
      };
      n.value = v;
    }, g = (v) => {
      u.value = v, m();
    };
    return le(() => {
      a(), e.node.on({
        setData: g,
        request: a,
        state: i,
        updateChart: m
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: a,
        state: i,
        updateChart: m
      });
    }), (v, y) => {
      const S = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: y[0] || (y[0] = (b) => N(o)("click", b)),
        onDblclick: y[1] || (y[1] = (b) => N(o)("dblclick", b))
      }), [
        Fe(S, {
          ref_key: "chartRef",
          ref: p,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Lv = "visWidgetDatav", nR = "DataV组件", rR = "0.0.1", oR = /* @__PURE__ */ ue({
  name: Lv,
  defaultValue: {
    events: fe,
    requests: de(),
    config: {
      color1: "#1E90FF",
      color2: "#7ACAEC",
      backgroundColor: "rgba(0 ,0 ,0 ,0)",
      duration: 3,
      // 动画时长
      reverse: !1
      // 反向渲染
    },
    component: {
      name: Lv,
      title: nR,
      datavType: "BorderBox1"
    },
    version: rR,
    w: 300,
    h: 300
  },
  __name: "index",
  props: {
    node: {
      type: Object,
      default: () => {
      }
    }
  },
  setup(t) {
    const e = t;
    (() => {
      e.node.config || (e.node.config = {
        color1: "#1E90FF",
        color2: "#7ACAEC",
        backgroundColor: "rgba(0 ,0 ,0 ,0)",
        duration: 3,
        // 动画时长
        reverse: !1
        // 反向渲染
      });
    })();
    const r = H({
      get: () => e.node.data,
      set: (h) => {
        e.node.data = h;
      }
    }), o = Q(!0);
    ve([() => e.node.w, () => e.node.h], () => {
      o.value = !1, a();
    });
    const a = Co(() => {
      o.value = !0;
    }, 50), i = H(() => [e.node.config.color1, e.node.config.color2]), { handleEvent: s, handleRequest: l, handleState: u, wrapperAttrs: c } = he(e.node), f = (h) => {
      r.value = h;
    };
    return le(() => {
      l(), e.node.on({
        setData: f,
        request: l,
        state: u
      }), s("mounted", "");
    }), se(() => {
      e.node.off({
        setData: f,
        request: l,
        state: u
      });
    }), (h, d) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(c), {
      onClick: d[0] || (d[0] = (p) => N(s)("click", p)),
      onDblclick: d[1] || (d[1] = (p) => N(s)("dblclick", p))
    }), [
      o.value ? (j(), Ye(ia(t.node.component.datavType), {
        key: 0,
        config: t.node.config,
        color: i.value,
        duration: t.node.config.duration,
        backgroundColor: t.node.config.backgroundColor
      }, null, 8, ["config", "color", "duration", "backgroundColor"])) : vt("", !0)
    ], 16));
  }
}), aR = { class: "vis-grid-progress-bar" }, iR = { class: "vis-grid-progress-bar-svg" }, sR = ["height"], lR = ["id"], uR = ["x", "width", "height"], cR = ["id"], fR = ["stop-color"], dR = ["stop-color"], hR = ["id"], pR = ["stop-color"], vR = ["stop-color"], gR = ["height", "fill", "clip-path"], yR = ["width", "height", "fill", "clip-path"], $v = "visWidgetGridProgressBar", mR = "栅格进度条", SR = "0.0.1", bR = /* @__PURE__ */ ue({
  name: $v,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: $v, title: mR },
    version: SR,
    w: 200,
    h: 30,
    data: [
      {
        value: 80,
        unit: "%"
      }
    ],
    dataFieldMap: [
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "数值",
        dataType: "string"
      },
      {
        fieldName: "unit",
        fieldAlias: "",
        fieldDesc: "单位",
        dataType: "string"
      }
    ],
    option: {
      barNumber: 10,
      barGap: 4,
      barWidth: 10,
      backColor: "rgba(255,255,255,0.08)",
      activeColor: {
        color1: "rgba(87,176,240,0.2)",
        color2: "rgba(87,176,240,1)"
      },
      // 新阴影配置
      shadowStyle: {
        show: !0,
        horizontal: 0,
        vertical: 2,
        blur: 16,
        color: "#0B99F0"
      },
      textStyle: {
        fontFamily: "",
        color: "#fff",
        fontSize: 20,
        opacity: 100,
        fontWeight: "normal",
        fontStyle: "normal",
        textDecoration: "none",
        letterSpacing: 0,
        lineHeight: 28,
        offsetX: 0,
        offsetY: 0
      },
      unitStyle: {
        show: !0,
        flowValueStyle: !1,
        fontFamily: "",
        color: "#fff",
        fontSize: 20,
        opacity: 100,
        textDecoration: "none",
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 30,
        offsetX: 0,
        offsetY: 0
      }
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const m = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(m);
      },
      set: (m) => {
        e.node.data = m;
      }
    }), o = Q(), a = H(() => e.node.option.barWidth || 10), i = H(() => {
      const { option: m, w: g } = e.node, { barNumber: v, barGap: y } = m, S = o.value ? o.value.clientWidth : 0, _ = (g - S - (v - 1) * y) / v;
      return _ < 0 ? 0 : _;
    }), s = (m) => m === 0 ? 0 : m * (i.value + e.node.option.barGap), l = (m) => {
      const { show: g, color: v, horizontal: y, vertical: S, blur: b } = m.shadowStyle, _ = `${v} ${y}px ${S}px ${b}px`, { fontFamily: w, color: T, fontSize: C, opacity: x, fontWeight: D, fontStyle: F, letterSpacing: I, lineHeight: P, textDecoration: O, offsetX: k, offsetY: $ } = m.textStyle;
      return {
        fontFamily: w || "Microsoft YaHei",
        color: T,
        fontSize: `${C}px`,
        opacity: x / 100,
        fontWeight: D,
        fontStyle: F,
        letterSpacing: `${I}px`,
        lineHeight: `${P}px`,
        textDecoration: O,
        padding: `${m.paddingY}px ${m.paddingX}px`,
        left: `${k}px`,
        top: `${$}px`,
        textShadow: g ? _ : "none"
      };
    }, u = (m) => {
      const { show: g, color: v, horizontal: y, vertical: S, blur: b } = m.shadowStyle, _ = `${v} ${y}px ${S}px ${b}px`, {
        show: w,
        flowValueStyle: T,
        fontFamily: C,
        color: x,
        fontSize: D,
        opacity: F,
        fontWeight: I,
        fontStyle: P,
        letterSpacing: O,
        lineHeight: k,
        textDecoration: $,
        offsetX: M,
        offsetY: A
      } = m.unitStyle;
      return w ? T ? l(m) : {
        fontFamily: C || "Microsoft YaHei",
        color: x,
        fontSize: `${D}px`,
        opacity: F / 100,
        fontWeight: I,
        fontStyle: P,
        letterSpacing: `${O}px`,
        lineHeight: `${k}px`,
        textDecoration: $,
        left: `${M}px`,
        top: `${A}px`,
        textShadow: g ? _ : "none"
      } : {
        opacity: 0
      };
    }, { handleEvent: c, handleRequest: f, handleState: h, wrapperAttrs: d } = he(e.node), p = (m) => {
      r.value = m;
    };
    return le(() => {
      f(), e.node.on({
        setData: p,
        request: f,
        state: h
      }), c("mounted", "");
    }), se(() => {
      e.node.off({
        setData: p,
        request: f,
        state: h
      });
    }), (m, g) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(d), {
      onClick: g[0] || (g[0] = (v) => N(c)("click", v)),
      onDblclick: g[1] || (g[1] = (v) => N(c)("dblclick", v))
    }), [
      ne("div", aR, [
        ne("div", iR, [
          (j(), G("svg", {
            width: "100%",
            height: a.value
          }, [
            ne("defs", null, [
              ne("clipPath", {
                id: "clipPath-" + m.node.id
              }, [
                (j(!0), G(Ne, null, ot(m.node.option.barNumber, (v, y) => (j(), G("rect", {
                  y: "0",
                  rx: "1",
                  ry: "1",
                  key: y,
                  x: s(y),
                  width: i.value,
                  height: a.value
                }, null, 8, uR))), 128))
              ], 8, lR),
              ne("linearGradient", {
                id: "bgGradient-" + m.node.id,
                gradientTransform: "rotate(0)"
              }, [
                ne("stop", {
                  offset: "0",
                  "stop-color": m.node.option.backColor,
                  "stop-opacity": "1"
                }, null, 8, fR),
                ne("stop", {
                  offset: "1",
                  "stop-color": m.node.option.backColor,
                  "stop-opacity": "1"
                }, null, 8, dR)
              ], 8, cR),
              ne("linearGradient", {
                id: "barGradient-" + m.node.id,
                gradientTransform: "rotate(0)"
              }, [
                ne("stop", {
                  offset: "0",
                  "stop-color": m.node.option.activeColor.color1,
                  "stop-opacity": "1"
                }, null, 8, pR),
                ne("stop", {
                  offset: "1",
                  "stop-color": m.node.option.activeColor.color2,
                  "stop-opacity": "1"
                }, null, 8, vR)
              ], 8, hR)
            ]),
            ne("rect", {
              width: "100%",
              height: a.value,
              fill: `url(#bgGradient-${m.node.id})`,
              "clip-path": `url(#clipPath-${m.node.id})`
            }, null, 8, gR),
            ne("rect", {
              width: r.value.value + "%",
              height: a.value,
              fill: `url(#barGradient-${m.node.id})`,
              "clip-path": `url(#clipPath-${m.node.id})`
            }, null, 8, yR)
          ], 8, sR))
        ]),
        ne("div", {
          ref_key: "textRef",
          ref: o,
          class: "vis-grid-progress-bar-text"
        }, [
          ne("span", {
            class: "value",
            style: oe(l(m.node.option))
          }, Me(r.value.value), 5),
          ne("span", {
            class: "unit",
            style: oe(u(m.node.option))
          }, Me(r.value.unit), 5)
        ], 512)
      ])
    ], 16));
  }
}), Iv = "visWidgetChartScatter", wR = "散点图", _R = "0.0.1", xR = /* @__PURE__ */ ue({
  name: Iv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Iv, title: wR },
    version: _R,
    w: 455,
    h: 245,
    data: [
      {
        x: 20,
        y: 12,
        s: "类型一"
      },
      {
        x: 22,
        y: 21,
        s: "类型一"
      },
      {
        x: 24,
        y: 59,
        s: "类型一"
      },
      {
        x: 39,
        y: 40,
        s: "类型一"
      },
      {
        x: 40,
        y: 70,
        s: "类型一"
      },
      {
        x: 41,
        y: 22,
        s: "类型一"
      },
      {
        x: 45,
        y: 22,
        s: "类型一"
      },
      {
        x: 47,
        y: 38,
        s: "类型一"
      },
      {
        x: 60,
        y: 63,
        s: "类型一"
      },
      {
        x: 62,
        y: 81,
        s: "类型一"
      },
      {
        x: 62,
        y: 81,
        s: "类型一"
      },
      {
        x: 70,
        y: 24,
        s: "类型一"
      },
      {
        x: 80,
        y: 70,
        s: "类型一"
      },
      {
        x: 88,
        y: 30,
        s: "类型一"
      },
      {
        x: 100,
        y: 39,
        s: "类型一"
      },
      {
        x: 106,
        y: 81,
        s: "类型一"
      },
      {
        x: 115,
        y: 58,
        s: "类型一"
      },
      {
        x: 22,
        y: 3,
        s: "类型二"
      },
      {
        x: 26,
        y: 24,
        s: "类型二"
      },
      {
        x: 28,
        y: 16,
        s: "类型二"
      },
      {
        x: 29,
        y: 52,
        s: "类型二"
      },
      {
        x: 30,
        y: 8,
        s: "类型二"
      },
      {
        x: 30,
        y: 40,
        s: "类型二"
      },
      {
        x: 32,
        y: 24,
        s: "类型二"
      },
      {
        x: 43,
        y: 32,
        s: "类型二"
      },
      {
        x: 50,
        y: 58,
        s: "类型二"
      },
      {
        x: 56,
        y: 59,
        s: "类型二"
      },
      {
        x: 57,
        y: 74,
        s: "类型二"
      },
      {
        x: 58,
        y: 48,
        s: "类型二"
      },
      {
        x: 60,
        y: 41,
        s: "类型二"
      },
      {
        x: 70,
        y: 49,
        s: "类型二"
      },
      {
        x: 78,
        y: 59,
        s: "类型二"
      },
      {
        x: 78,
        y: 78,
        s: "类型二"
      },
      {
        x: 96,
        y: 68,
        s: "类型二"
      },
      {
        x: 98,
        y: 74,
        s: "类型二"
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "x",
            fieldAlias: "x",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y",
            fieldAlias: "y",
            fieldType: "y",
            dataType: "string"
          }
        ]
      },
      seriesKey: {
        name: "系列",
        field: [
          {
            fieldName: "s",
            fieldAlias: "系列",
            fieldType: "s",
            dataType: "string"
          }
        ]
      }
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("legend"),
      xAxis: J("xAxis", { type: "value", formatType: "value" }),
      yAxis: J("yAxis"),
      isSingleYAxis: !0,
      dataZoom: J("dataZoom"),
      series: [
        {
          name: "类型一",
          type: "scatter",
          symbolSize: 10,
          itemStyle: {
            color: "#41A9F4",
            borderShow: !1,
            borderWidth: 1,
            borderColor: "#FFFFFF"
          }
        },
        {
          name: "类型二",
          type: "scatter",
          symbolSize: 10,
          itemStyle: {
            color: "#53D09E",
            borderShow: !1,
            borderWidth: 1,
            borderColor: "#FFFFFF"
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { getThemeColor: r } = tt(e.node), { getXAxis: o, getYAxis: a } = St(), { getLegend: i, getDataZoom: s } = et(), { getTooltipFormatter: l, toogleTooltipLoop: u } = D0(e.node), { handleEvent: c, handleRequest: f, handleState: h, wrapperAttrs: d } = he(e.node), { getMappedData: p } = we(), m = H({
      get: () => {
        const _ = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return p(_);
      },
      set: (_) => {
        e.node.data = _;
      }
    }), g = H(() => e.node.chartOption);
    ve(
      [m, g, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          S();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const v = (_, w) => {
      const { chartDataFieldMap: T } = e.node, { series: C } = w, x = T.dimension.field, D = T.measure.field, F = T.seriesKey.field[0].fieldName, I = [];
      _.forEach((O) => {
        I.find((k) => k == O[F]) || I.push(O[F]);
      });
      const P = [];
      return C.forEach((O, k) => {
        const $ = x[k % x.length].fieldName, M = D[k % D.length].fieldName;
        let A = [];
        O.name && (A = _.filter((z) => z[F] == O.name).map((z) => ({
          value: [z[$], z[M]],
          dataRef: z ?? {}
        })));
        const { type: L, name: R, showSymbol: E, symbolSize: B } = O, W = {
          type: L,
          name: R,
          showSymbol: E,
          symbolSize: B,
          itemStyle: {
            color: r(k, O.itemStyle.color),
            borderColor: O.itemStyle.borderColor,
            borderWidth: O.itemStyle.borderShow ? O.itemStyle.borderWidth : 0
          },
          data: A
        };
        P.push(W);
      }), P;
    }, y = Q(), S = () => {
      const _ = m.value, w = me(g.value), C = (e.node.chartDataFieldMap.dimension.field[0] || {}).fieldName, x = [];
      if (_.length && C && (_.forEach((I) => {
        x.includes(I[C]) || x.push(I[C]);
      }), w.xAxis.data = x), x.length === 0) return;
      const D = o(w.xAxis);
      D.type = "value", D.formatType = "value";
      const F = {
        ...w,
        legend: i(w.legend),
        xAxis: D,
        yAxis: a(w.yAxis),
        dataZoom: s(w.dataZoom),
        series: v(_, w)
      };
      F.tooltip.formatter = l(), n.value = F, u(y.value, F);
    }, b = (_) => {
      m.value = _, S();
    };
    return le(() => {
      f(), e.node.on({
        setData: b,
        request: f,
        state: h,
        updateChart: S
      }), c("mounted", "");
    }), se(() => {
      e.node.off({
        setData: b,
        request: f,
        state: h,
        updateChart: S
      });
    }), (_, w) => {
      const T = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(d), {
        onClick: w[0] || (w[0] = (C) => N(c)("click", C)),
        onDblclick: w[1] || (w[1] = (C) => N(c)("dblclick", C))
      }), [
        Fe(T, {
          ref_key: "chartRef",
          ref: y,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Pv = "visWidgetChartScatterBubble", DR = "气泡图", CR = "0.0.1", TR = /* @__PURE__ */ ue({
  name: Pv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Pv, title: DR },
    version: CR,
    w: 455,
    h: 245,
    data: [
      {
        x: 24,
        y: 30,
        v: 20,
        s: "类型一"
      },
      {
        x: 50,
        y: 65,
        v: 25,
        s: "类型一"
      },
      {
        x: 50,
        y: 92,
        v: 5,
        s: "类型一"
      },
      {
        x: 58,
        y: 40,
        v: 10,
        s: "类型一"
      },
      {
        x: 68,
        y: 64,
        v: 12,
        s: "类型一"
      },
      {
        x: 74,
        y: 54,
        v: 12,
        s: "类型一"
      },
      {
        x: 78,
        y: 82,
        v: 8,
        s: "类型一"
      },
      {
        x: 86,
        y: 38,
        v: 10,
        s: "类型一"
      },
      {
        x: 90,
        y: 64,
        v: 10,
        s: "类型一"
      },
      {
        x: 115,
        y: 70,
        v: 3,
        s: "类型一"
      },
      {
        x: 22,
        y: 44,
        v: 5,
        s: "类型二"
      },
      {
        x: 38,
        y: 16,
        v: 12,
        s: "类型二"
      },
      {
        x: 40,
        y: 38,
        v: 16,
        s: "类型二"
      },
      {
        x: 40,
        y: 80,
        v: 10,
        s: "类型二"
      },
      {
        x: 44,
        y: 18,
        v: 5,
        s: "类型二"
      },
      {
        x: 60,
        y: 72,
        v: 12,
        s: "类型二"
      },
      {
        x: 70,
        y: 19,
        v: 5,
        s: "类型二"
      },
      {
        x: 78,
        y: 39,
        v: 8,
        s: "类型二"
      },
      {
        x: 88,
        y: 7,
        v: 8,
        s: "类型二"
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "x",
            fieldAlias: "x",
            fieldType: "dimension",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y",
            fieldAlias: "y",
            fieldType: "measure",
            dataType: "string"
          }
        ]
      },
      value: {
        name: "值",
        field: [
          {
            fieldName: "v",
            fieldAlias: "v",
            fieldType: "value",
            dataType: "string"
          }
        ]
      },
      seriesKey: {
        name: "系列",
        field: [
          {
            fieldName: "s",
            fieldAlias: "系列",
            fieldType: "seriesKey",
            dataType: "string"
          }
        ]
      }
    },
    chartOption: {
      grid: J("grid"),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("legend"),
      xAxis: J("xAxis", { type: "value", formatType: "value" }),
      yAxis: J("yAxis"),
      isSingleYAxis: !0,
      dataZoom: J("dataZoom"),
      series: [
        {
          name: "类型一",
          type: "scatter",
          yAxisIndex: 0,
          itemStyle: {
            color: "#41A9F4",
            borderShow: !1,
            borderWidth: 1,
            borderColor: "#FFFFFF"
          },
          symbolSize: 30
        },
        {
          name: "类型二",
          type: "scatter",
          yAxisIndex: 0,
          itemStyle: {
            color: "#53D09E",
            borderShow: !1,
            borderWidth: 1,
            borderColor: "#FFFFFF"
          },
          symbolSize: 30
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { getThemeColor: r } = tt(e.node), { getXAxis: o, getYAxis: a } = St(), { getLegend: i, getDataZoom: s } = et(), { getTooltipFormatter: l, toogleTooltipLoop: u } = D0(e.node), { handleEvent: c, handleRequest: f, handleState: h, wrapperAttrs: d } = he(e.node), { getMappedData: p } = we(), m = H({
      get: () => {
        const _ = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return p(_);
      },
      set: (_) => {
        e.node.data = _;
      }
    }), g = H(() => e.node.chartOption);
    ve(
      [m, g, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          S();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const v = (_, w) => {
      const { chartDataFieldMap: T } = e.node, { series: C } = w, x = T.dimension.field, D = T.measure.field, F = T.value.field, I = T.seriesKey.field[0].fieldName, P = [];
      _.forEach((k) => {
        P.find(($) => $ == k[I]) || P.push(k[I]);
      });
      const O = [];
      return C.forEach((k, $) => {
        const M = x[$ % x.length].fieldName, A = D[$ % D.length].fieldName, L = F[$ % F.length].fieldName;
        let R = [];
        k.name && (R = _.filter((q) => q[I] == k.name).map((q) => [q[M], q[A], q[L]]));
        const E = R.map((q) => Number(q[2])), W = Math.max(...E).toString().length, z = Math.pow(10, W - 2) * 20 / k.symbolSize, V = {
          type: k.type,
          name: k.name,
          itemStyle: {
            color: r($, k.itemStyle.color),
            borderColor: k.itemStyle.borderColor,
            borderWidth: k.itemStyle.borderShow ? k.itemStyle.borderWidth : 0
          },
          symbolSize: (q) => q[2] / z,
          data: R
        };
        O.push(V);
      }), O;
    }, y = Q(), S = () => {
      const _ = m.value, w = me(g.value), C = (e.node.chartDataFieldMap.dimension.field[0] || {}).fieldName, x = [];
      if (_.length && C && (_.forEach((F) => {
        x.includes(F[C]) || x.push(F[C]);
      }), w.xAxis.data = x), x.length === 0) return;
      const D = {
        ...w,
        legend: i(w.legend),
        xAxis: o(w.xAxis),
        yAxis: a(w.yAxis),
        dataZoom: s(w.dataZoom),
        series: v(_, w)
      };
      D.tooltip.formatter = l(), n.value = D, u(y.value, D);
    }, b = (_) => {
      m.value = _, S();
    };
    return le(() => {
      f(), e.node.on({
        setData: b,
        request: f,
        state: h,
        updateChart: S
      }), c("mounted", "");
    }), se(() => {
      e.node.off({
        setData: b,
        request: f,
        state: h,
        updateChart: S
      });
    }), (_, w) => {
      const T = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(d), {
        onClick: w[0] || (w[0] = (C) => N(c)("click", C)),
        onDblclick: w[1] || (w[1] = (C) => N(c)("dblclick", C))
      }), [
        Fe(T, {
          ref_key: "chartRef",
          ref: y,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), zv = "visWidgetChartRadar", FR = "雷达图", AR = "0.0.1", kR = /* @__PURE__ */ ue({
  name: zv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: zv, title: FR },
    version: AR,
    w: 455,
    h: 245,
    data: [
      {
        name: "类型一",
        y1: 88,
        y7: 83,
        y6: 88,
        y5: 70,
        y4: 88,
        y3: 88,
        y2: 88
      },
      {
        name: "类型二",
        y1: 30,
        y7: 70,
        y6: 60,
        y5: 50,
        y4: 60,
        y3: 60,
        y2: 70
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartDataFieldMap: {
      dimension: {
        name: "系列",
        field: [
          {
            fieldName: "name",
            fieldAlias: "系列",
            fieldType: "dimension",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "数值",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "示例一",
            fieldType: "measure",
            dataType: "string"
          },
          {
            fieldName: "y7",
            fieldAlias: "示例七",
            fieldType: "measure",
            dataType: "string"
          },
          {
            fieldName: "y6",
            fieldAlias: "示例六",
            fieldType: "measure",
            dataType: "string"
          },
          {
            fieldName: "y5",
            fieldAlias: "示例五",
            fieldType: "measure",
            dataType: "string"
          },
          {
            fieldName: "y4",
            fieldAlias: "示例四",
            fieldType: "measure",
            dataType: "string"
          },
          {
            fieldName: "y3",
            fieldAlias: "示例三",
            fieldType: "measure",
            dataType: "string"
          },
          {
            fieldName: "y2",
            fieldAlias: "示例二",
            fieldType: "measure",
            dataType: "string"
          }
        ]
      }
    },
    chartOption: {
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("legend"),
      title: {
        text: "",
        subtext: "",
        textStyle: {
          fontSize: 14,
          color: "#fff"
        },
        subtextStyle: {
          fontSize: 14,
          color: "#fff"
        }
      },
      radar: {
        radius: "80%",
        center: ["50%", "56%"],
        range: {
          show: !1,
          max: 100,
          min: 30
        },
        indicator: [
          { name: "示例一" },
          { name: "示例七" },
          { name: "示例六" },
          { name: "示例五" },
          { name: "示例四" },
          { name: "示例三" },
          { name: "示例二" }
        ],
        axisName: {
          show: !0,
          fontFamily: "",
          color: "#BFC8D0",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 20
        },
        // 指示器名称和指示器轴的距离
        axisNameGap: 10,
        // 指示器轴的分割段数
        splitNumber: 4,
        // 雷达图绘制类型 polygon circle
        shape: "polygon",
        // 是否是脱离 0 值比例。设置成 true 后坐标刻度不会强制包含零刻度
        scale: !1,
        triggerEvent: !0,
        splitArea: {
          show: !0,
          areaStyle: {
            color: "rgba(255,255,255,0.05)"
          }
        },
        axisLine: {
          show: !0,
          lineStyle: {
            color: "rgba(255,255,255,0.15)",
            width: 1
          }
        },
        splitLine: {
          show: !0,
          lineStyle: {
            color: "rgba(255,255,255,0.15)",
            width: 1
          }
        }
      },
      series: [
        {
          type: "radar",
          centerX: 50,
          centerY: 53,
          max: 100,
          data: [
            {
              name: "类型一",
              value: [],
              lineStyle: {
                color: "#21C3AA",
                show: !0,
                width: 2,
                type: "solid"
              },
              symbolSize: 7,
              symbolStyle: {
                show: !0,
                color: "#21C3AA",
                symbolSize: 7
              },
              label: {
                show: !1,
                fontFamily: "",
                color: "#fff",
                fontSize: 14,
                opacity: 100,
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                position: "bottom"
              },
              areaStyle: {
                color: "rgba(33,195,170,0.2)",
                show: !0
              }
            },
            {
              name: "类型二",
              value: [],
              lineStyle: {
                color: "#A0E7FF",
                show: !0,
                width: 2,
                type: "solid"
              },
              symbolSize: 7,
              symbolStyle: {
                show: !0,
                color: "#a0e7ff",
                symbolSize: 7
              },
              label: {
                show: !1,
                fontFamily: "",
                color: "#fff",
                fontSize: 14,
                opacity: 100,
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                position: "bottom"
              },
              areaStyle: {
                color: "rgba(160,231,255,0.2)",
                show: !0
              }
            }
          ]
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { getThemeColor: r } = tt(e.node), { getLegend: o } = et(), { handleEvent: a, handleRequest: i, handleState: s, wrapperAttrs: l } = he(e.node), { getMappedData: u } = we(), c = H({
      get: () => {
        const v = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return u(v);
      },
      set: (v) => {
        e.node.data = v;
      }
    }), f = H(() => e.node.chartOption);
    ve(
      [c, f, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          m();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const h = (v, y) => {
      const { series: S } = y, b = [];
      return S.forEach((_) => {
        const w = [];
        _.data.forEach((C, x) => {
          const D = [], F = v[x] || [];
          for (const [k, $] of Object.entries(F))
            k.includes("y") && D.push($);
          const I = r(x, C.areaStyle.color), P = new $e(I);
          P.alpha(P.valpha * 0.2);
          const O = {
            name: C.name,
            value: D,
            lineStyle: {
              ...C.lineStyle,
              width: C.lineStyle.show ? C.lineStyle.width : 0,
              color: r(x, C.lineStyle.color)
            },
            symbolSize: C.symbolStyle.show ? C.symbolStyle.symbolSize : 0,
            areaStyle: {
              ...C.areaStyle,
              color: C.areaStyle.show ? P.string() : "rgba(255, 255, 255, 0)"
            },
            itemStyle: {
              color: C.symbolStyle.show ? r(x, C.symbolStyle.color) : ""
            },
            label: {
              ...C.label,
              opacity: new $e(C.label.color).valpha,
              formatter: function(k) {
                return sn(k.value, C.label.letterSpacing);
              }
            }
          };
          w.push(O);
        });
        const T = {
          ..._,
          data: w
        };
        b.push(T);
      }), b;
    }, d = (v) => {
      const { chartDataFieldMap: y } = e.node, { radar: S } = v, _ = y.measure.field.map((T) => {
        const C = {
          name: T.fieldAlias
        };
        return S.range.show && Object.assign(C, {
          max: S.range.max,
          min: S.range.min
        }), C;
      });
      return {
        ...S,
        center: [`${v.series[0].centerX}%`, `${v.series[0].centerY}%`],
        indicator: _
      };
    }, p = Q(), m = () => {
      const v = c.value, y = me(f.value), S = h(v, y), b = {
        ...y,
        legend: o(y.legend),
        radar: d(y),
        series: S
      };
      b.radar.axisName.opacity = new $e(b.radar.axisName.color).valpha, b.radar.axisName.formatter = function(_) {
        return sn(_, b.radar.axisName.letterSpacing);
      }, n.value = b;
    }, g = (v) => {
      c.value = v, m();
    };
    return le(() => {
      i(), e.node.on({
        setData: g,
        request: i,
        state: s,
        updateChart: m
      }), a("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: i,
        state: s,
        updateChart: m
      });
    }), (v, y) => {
      const S = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(l), {
        onClick: y[0] || (y[0] = (b) => N(a)("click", b)),
        onDblclick: y[1] || (y[1] = (b) => N(a)("dblclick", b))
      }), [
        Fe(S, {
          ref_key: "chartRef",
          ref: p,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Bv = "visWidgetChartFunnel", ER = "漏斗图", MR = "0.0.1", OR = /* @__PURE__ */ ue({
  name: Bv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Bv, title: ER },
    version: MR,
    w: 455,
    h: 245,
    data: [
      {
        value: 100,
        name: "类型一"
      },
      {
        value: 80,
        name: "类型二"
      },
      {
        value: 60,
        name: "类型三"
      },
      {
        value: 40,
        name: "类型四"
      },
      {
        value: 20,
        name: "类型五"
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "系列",
        field: [
          {
            fieldName: "name",
            fieldAlias: "系列",
            fieldType: "dimension",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "数值",
        field: [
          {
            fieldName: "value",
            fieldAlias: "数值",
            fieldType: "measure",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      grid: J("grid", { left: 60, right: 60 }),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("legend"),
      title: {
        text: "",
        subtext: "",
        textStyle: {
          fontSize: 14,
          color: "#fff"
        },
        subtextStyle: {
          fontSize: 14,
          color: "#fff"
        }
      },
      series: [
        {
          type: "funnel",
          sort: "descending",
          label: {
            show: !0,
            backgroundColor: "transparent",
            formatter: "{c}%",
            position: "inside",
            fontFamily: "",
            color: "#000",
            fontSize: 12,
            opacity: 100,
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 20
          },
          bottom: 24,
          left: 24,
          right: 60,
          top: 48,
          data: [],
          itemStyle: {
            borderWidth: 0
          },
          emphasis: {
            itemStyle: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: "rgba(0, 0, 0, 0.5)"
            }
          }
        },
        {
          type: "funnel",
          sort: "descending",
          label: {
            show: !0,
            position: "outside",
            formatter: "{b}",
            color: "#fff",
            fontFamily: "",
            fontSize: 12,
            opacity: 100,
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 20
          },
          bottom: 24,
          left: 24,
          right: 60,
          top: 48,
          itemStyle: {
            borderWidth: 0
          },
          emphasis: {
            itemStyle: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: "rgba(0, 0, 0, 0.5)"
            }
          },
          data: []
        }
      ],
      seriesColor: [
        {
          itemStyle: {
            color: "#41A9F4"
          },
          name: "类型一"
        },
        {
          itemStyle: {
            color: "#53D09E"
          },
          name: "类型二"
        },
        {
          itemStyle: {
            color: "#DEC362"
          },
          name: "类型三"
        },
        {
          itemStyle: {
            color: "#C0E9FF"
          },
          name: "类型四"
        },
        {
          itemStyle: {
            color: "#37CEFF"
          },
          name: "类型五"
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { getThemeColor: r } = tt(e.node), { getLegend: o } = et(), { handleEvent: a, handleRequest: i, handleState: s, wrapperAttrs: l } = he(e.node), { getMappedData: u } = we(), c = H({
      get: () => {
        const g = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return u(g);
      },
      set: (g) => {
        e.node.data = g;
      }
    }), f = H(() => e.node.chartOption);
    ve(
      [c, f, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          p();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const h = (g, v) => {
      const { series: y, seriesColor: S, grid: b } = v, _ = [], w = [];
      return g.forEach((T, C) => {
        const x = S[C % S.length].itemStyle.color, D = {
          ...T,
          itemStyle: {
            color: r(C, x)
          }
        };
        w.push(D);
      }), y.forEach((T) => {
        const C = {
          ...T,
          data: w,
          ...b,
          label: {
            ...T.label,
            formatter: function(x) {
              const D = T.label.formatter === "{c}%" ? x.value + "%" : x.name;
              return sn(D, T.label.letterSpacing);
            }
          },
          sort: y[0].sort
        };
        _.push(C);
      }), _;
    }, d = Q(), p = () => {
      const g = c.value, v = me(f.value), y = h(g, v), S = {
        ...v,
        legend: o(v.legend),
        series: y
      };
      n.value = S;
    }, m = (g) => {
      c.value = g, p();
    };
    return le(() => {
      i(), e.node.on({
        setData: m,
        request: i,
        state: s,
        updateChart: p
      }), a("mounted", "");
    }), se(() => {
      e.node.off({
        setData: m,
        request: i,
        state: s,
        updateChart: p
      });
    }), (g, v) => {
      const y = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(l), {
        onClick: v[0] || (v[0] = (S) => N(a)("click", S)),
        onDblclick: v[1] || (v[1] = (S) => N(a)("dblclick", S))
      }), [
        Fe(y, {
          ref_key: "chartRef",
          ref: d,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Wv = "visWidgetChartMap", RR = "地图", LR = "0.0.1", $R = /* @__PURE__ */ ue({
  name: Wv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Wv, title: RR },
    version: LR,
    w: 880,
    h: 600,
    dataFieldMap: [
      {
        fieldName: "name",
        fieldAlias: "",
        fieldDesc: "分类",
        dataType: "string"
      },
      {
        fieldName: "data",
        fieldAlias: "",
        fieldDesc: "数据",
        dataType: "string"
      }
    ],
    data: [
      {
        name: "示例一",
        data: [
          {
            name: "测试坐标1-1",
            value: 1,
            lng: 113.481848,
            lat: 23.17202,
            zoom: 1
          },
          {
            name: "测试坐标1-2",
            value: 1,
            lng: 100.906358,
            lat: 23.201254,
            zoom: 1
          }
        ]
      },
      {
        name: "示例二",
        data: [
          {
            name: "测试坐标2-1",
            value: 1,
            lng: 110.491848,
            lat: 23.18202,
            zoom: 1
          },
          {
            name: "测试坐标2-2",
            value: 1,
            lng: 112.996358,
            lat: 40.281254,
            zoom: 1
          }
        ]
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#41A9F4", "#53D09E", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      legendPostion: "right",
      legendVerticalPostion: "top",
      legendOrient: "horizontal",
      legendBoxWidth: 300,
      legendBoxHeight: 300,
      legendFontSize: 14,
      legendFontColor: "#94C4F4",
      legend: J("legend"),
      tipBackgroundColor: [
        {
          color: "#51bfd4"
        },
        {
          color: "rgba(35,90,178,.8)"
        }
      ],
      tipBorderColor: "#04b9ff",
      tipBorderShadow: "#3BD9D9",
      tipColor: "#C3DEFB",
      tipFontSize: 20,
      borderWidth: 1,
      scale: 87,
      type: 0,
      borderColor: "rgb(13, 92, 224)",
      areaColor: "rgba(6, 29, 51, 0.59)",
      fontSize: 14,
      zoom: 1,
      mapUrl: "https://geo.datav.aliyun.com/areas_v3/bound/440000_full.json",
      mapScript: `
      const executeScript = function(res){
        let flag = true // 格式正确设置为true
        let geoJsonData = '' // geojson数据
        if(res.data) {
          geoJsonData = res.data
        } else {
          flag = false
        }
        // 返回数据一定要设置这两个
        return {
          geoJsonData: geoJsonData,
          flag: flag
        }
      }
      `,
      color: "#ffffff",
      dataColor: "rgba(144, 238, 144, 1)",
      rippleEffect: {
        scale: 4,
        brushType: "stroke",
        color: "#FAD400"
      },
      // 地图渐变色
      mapColor: [
        {
          color: "#0D59C1",
          postion: 0,
          $index: 0,
          _show: !0
        },
        {
          color: "#53C9C7",
          postion: 100,
          $index: 1,
          _show: !0
        }
      ],
      // 高亮
      empColor: "#C3DEFB",
      empAreaColor: [
        {
          color: "#1cfbfe"
        },
        {
          color: "#3348e7"
        }
      ],
      tooltip: J("tooltip", { loopEnable: !0 }),
      // 自定义图例配色
      legendColor: [
        {
          color: "#5FD4FF",
          icon: "/resource/componentConfig/mark_blue.png",
          // 自定义标记
          unit: ""
        },
        {
          color: "rgba(255, 120, 0, 1)",
          icon: "/resource/componentConfig/mark_yellow.png",
          unit: ""
        }
      ],
      series: [{ unit: "" }],
      // 自定义提示框内容
      tooltipFormatter: ""
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q(!1), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), { getTooltipStyleString: s } = Zt(e.node), l = H({
      get: () => e.node.data,
      set: (k) => {
        e.node.data = k;
      }
    }), u = Q({}), c = H(() => e.node.chartOption);
    ve(
      [l, c, e.node.dataFieldMap],
      () => {
        Se(() => {
          P();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const f = H(() => `vChartMap${e.node.id}`), h = H(() => e.node.chartOption.fontSize || 24), d = H(() => e.node.chartOption.empColor || "#fff"), p = H(() => e.node.chartOption.color || "#fff"), m = H(() => e.node.chartOption.borderWidth || 3), g = H(() => e.node.chartOption.borderColor || "#389BB7"), v = H(() => e.node.chartOption.tooltip.loopInterval * 1e3 || 3e3), y = H(() => e.node.chartOption.mapUrl), S = H(() => e.node.chartOption.mapScript), b = H(() => e.node.chartOption.tooltip.loopEnable), _ = Rf({
      mapUrl: "",
      mapJson: ""
    }), w = Rf({
      bannerCount: 0,
      bannerCheck: "",
      centerData: [],
      zoomData: 1,
      // 轮播
      timeInstance: -1,
      timeIndex: 0,
      seriesIdx: 0,
      dataIdx: 0
    }), T = ({ tooltip: k }) => {
      const $ = e.node.chartOption, M = $.legendColor, A = k.valueStyle.flowSeries, L = s(k.nameStyle), R = s(k.valueStyle), E = s(k.unitStyle);
      return (W) => {
        var Xe;
        const { dataIndex: z, name: V, value: q } = W, U = M[z].color, K = q[q.length - 1].value, Z = `color:${U}`, ee = `<span style="${L};padding-right:8px;">${V}</span>`, re = `<span style="${R}${A ? Z : ""}">${K}</span>`, xe = ((Xe = $.series) == null ? void 0 : Xe.length) && $.series[0].unit, ge = `<span style="${E};padding-left:2px;">${xe}</span>`;
        return `<div>${ee}${re}${xe ? ge : ""}</div>`;
      };
    }, C = Q(), x = () => {
      w.timeInstance && (clearTimeout(w.timeInstance), w.timeInstance = -1);
      const k = C.value.getChartInstance();
      k && (k.dispatchAction({
        type: "downplay"
      }), k.dispatchAction({
        type: "hideTip"
      }));
    }, D = () => {
      b.value && F();
    }, F = () => {
      w.timeInstance && (clearTimeout(w.timeInstance), w.timeInstance = -1), w.timeInstance = setTimeout(() => {
        const k = w.dataIdx % l.value[w.seriesIdx].data.length;
        w.dataIdx === l.value[w.seriesIdx].data.length && (w.seriesIdx++, w.dataIdx = 0), w.seriesIdx >= l.value.length && (w.seriesIdx = 0, w.dataIdx = 0);
        const $ = C.value.getChartInstance();
        $.dispatchAction({
          type: "downplay"
        }), $.dispatchAction({
          type: "highlight",
          seriesIndex: w.seriesIdx + 1,
          // +1 从第一个开始，第0个系列为地图自带的tooltip系列，跳过
          dataIndex: k
        }), $.dispatchAction({
          type: "showTip",
          seriesIndex: w.seriesIdx + 1,
          // +1 从第一个开始，第0个系列为地图自带的tooltip系列，跳过
          dataIndex: k
        }), w.dataIdx++, F();
      }, v.value);
    }, I = (k) => new Promise(($, M) => {
      if (!k)
        return M("请先输入地图url");
      if (k === _.mapUrl)
        $(_.mapJson);
      else {
        const A = k;
        e.node.editor.visApi.axios({
          method: "get",
          url: A
        }).then((L) => {
          const E = (S.value && Tu(S.value))(L);
          E.flag ? (_.mapUrl = k, _.mapJson = E.geoJsonData, $(E.geoJsonData)) : M("地图数据为空");
        });
      }
    }), P = () => {
      n.value = !0;
      const $ = me(e.node).chartOption, M = l.value, A = me(M), { legendColor: L, mapColor: R, empAreaColor: E, rippleEffect: B } = $, W = $.tooltipFormatter && Tu($.tooltipFormatter);
      let z = null;
      typeof W == "function" ? z = W : z = T($), I(y.value).then((V) => {
        gn.registerMap(f.value, V);
        const q = 4e3, U = {
          legend: {
            show: $.legend || !1,
            orient: $.legendOrient || "horizontal",
            x: $.legendPostion || "left",
            top: $.legendVerticalPostion || "top",
            right: $.gridX2,
            width: $.legendBoxWidth || 200,
            height: $.legendBoxHeight || 200,
            textStyle: {
              fontSize: $.legendFontSize || 12
            },
            ...$.legend,
            data: (A || []).map((K, Z) => ({
              name: K.name,
              itemStyle: {
                color: L[Z % L.length].color
              },
              textStyle: {
                color: $.legendFontColor || L[Z % L.length].color
              }
            }))
          },
          tooltip: {
            trigger: "axis",
            axisPointer: {
              type: "shadow"
            }
          },
          grid: {
            // show: true,
            right: "10%",
            top: 10,
            bottom: "10%",
            left: "10%"
          },
          geo: [
            {
              map: f.value,
              // 白底蓝边
              zlevel: -1,
              // zoom: 1.0,
              zoom: w.zoomData,
              silent: !0,
              layoutCenter: ["50%", "50%"],
              layoutSize: "100%",
              roam: !1,
              itemStyle: {
                borderColor: "rgba(192,245,249,.8)",
                borderWidth: 3,
                shadowColor: "#6FFDFF",
                shadowOffsetY: 0,
                shadowBlur: 10
                // areaColor: 'rgba(29,85,139,.6)',
              },
              label: {
                // 静态的时候展示样式
                show: !1,
                // 是否显示地图省份得名称
                color: "#fff",
                fontSize: 12,
                fontFamily: "Arial"
              },
              emphasis: {
                label: {
                  // 动态展示的样式
                  show: !1,
                  color: "#fff"
                }
              }
            },
            {
              show: !0,
              // 顶层地图
              map: f.value,
              // zoom: 1.0,
              zoom: w.zoomData,
              layoutCenter: ["50%", "50%"],
              layoutSize: "100%",
              blur: {
                label: { show: !0, color: "#000" }
              },
              roam: !1,
              // 是否开启鼠标滚轮缩放
              label: {
                // 静态的时候展示样式
                show: !1,
                // 是否显示地图省份得名称
                fontSize: h.value,
                color: p.value
              },
              itemStyle: {
                color: "#fff",
                borderColor: g.value,
                borderWidth: m.value,
                areaColor: {
                  type: "linear-gradient",
                  x: 0,
                  y: 1e3,
                  x2: 0,
                  y2: 0,
                  colorStops: [
                    {
                      offset: 0.5,
                      color: R[0].color
                      // 0% 处的颜色
                    },
                    {
                      offset: 1,
                      color: R[1].color
                      // 100% 处的颜色
                    }
                  ],
                  global: !0
                  // 缺省为 false
                }
              },
              emphasis: {
                label: {
                  // 动态展示的样式
                  color: d.value
                },
                itemStyle: {
                  borderWidth: 3,
                  borderColor: "rgba(255, 230, 175,0.8)",
                  shadowColor: "rgba(255, 230, 175,0.5)",
                  shadowBlur: 30,
                  textStyle: {
                    color: "#fff",
                    fontSize: 12,
                    backgroundColor: "transparent"
                  },
                  areaColor: new gn.graphic.LinearGradient(
                    0,
                    0,
                    0,
                    1,
                    [
                      {
                        offset: 0,
                        color: E[0].color
                      },
                      {
                        offset: 1,
                        color: E[1].color
                      }
                    ],
                    !1
                  )
                }
              }
            },
            {
              type: "map",
              // 地图3D阴影模拟
              map: f.value,
              zlevel: -2,
              // zoom: 1.0,
              zoom: w.zoomData,
              layoutCenter: ["50%", "51.4%"],
              layoutSize: "100%",
              roam: !1,
              silent: !0,
              itemStyle: {
                borderColor: "rgba(35, 161, 184,0.5)",
                shadowColor: "rgba(35, 161, 184,0.8)",
                shadowOffsetY: 5,
                shadowBlur: 15,
                areaColor: "#257AB2"
              }
            },
            {
              type: "map",
              // 地图3D阴影模拟
              map: f.value,
              zlevel: -3,
              // zoom: 1.0,
              zoom: w.zoomData,
              layoutCenter: ["50%", "52.4%"],
              layoutSize: "100%",
              roam: !1,
              silent: !0,
              itemStyle: {
                borderColor: "rgba(7, 65, 117,0.5)",
                shadowColor: "rgba(7, 65, 117,0.8)",
                shadowOffsetY: 15,
                shadowBlur: 8,
                areaColor: "#0A2763"
              }
            }
          ],
          series: [
            {
              type: "map",
              layoutCenter: ["50%", "50%"],
              layoutSize: "100%",
              label: {
                // 静态的时候展示样式
                show: !0,
                // 是否显示地图省份得名称
                fontSize: h.value,
                color: p.value
              },
              // geoIndex: 0,
              zoom: w.zoomData,
              map: f.value,
              tooltip: {
                show: $.tooltip.show,
                trigger: "item",
                backgroundColor: $.tooltip.backgroundColor,
                borderColor: $.tooltip.borderColor,
                extraCssText: "z-index:100;color:#fff;",
                confine: !0,
                // 是否将 tooltip 框限制在图表的区域内
                formatter: z
              },
              itemStyle: {
                color: "#fff",
                borderColor: g.value,
                borderWidth: m.value,
                areaColor: {
                  type: "linear-gradient",
                  x: 0,
                  y: 1e3,
                  x2: 0,
                  y2: 0,
                  colorStops: [
                    {
                      offset: 0.5,
                      color: R[0].color
                      // 0% 处的颜色
                    },
                    {
                      offset: 1,
                      color: R[1].color
                      // 100% 处的颜色
                    }
                  ],
                  global: !0
                  // 缺省为 false
                }
              },
              emphasis: {
                label: {
                  // 动态展示的样式
                  color: d.value
                },
                itemStyle: {
                  borderWidth: 3,
                  borderColor: "rgba(255, 230, 175,0.8)",
                  shadowColor: "rgba(255, 230, 175,0.5)",
                  shadowBlur: 30,
                  textStyle: {
                    color: "#fff",
                    fontSize: 12,
                    backgroundColor: "transparent"
                  },
                  areaColor: new gn.graphic.LinearGradient(
                    0,
                    0,
                    0,
                    1,
                    [
                      {
                        offset: 0,
                        color: E[0].color
                      },
                      {
                        offset: 1,
                        color: E[1].color
                      }
                    ],
                    !1
                  )
                }
              },
              data: []
            }
          ]
        };
        A.forEach((K, Z) => {
          const ee = L[Z % L.length], te = K.data.map((re) => ({
            name: re.name,
            value: [re.lng, re.lat, re.value, re]
          }));
          if (ee.icon) {
            const re = {
              type: "custom",
              name: K.name,
              tooltip: {
                show: $.tooltip.show,
                trigger: "item",
                backgroundColor: $.tooltip.backgroundColor,
                borderColor: $.tooltip.borderColor,
                extraCssText: "z-index:100;color:#fff;",
                confine: !0,
                // 是否将 tooltip 框限制在图表的区域内
                formatter: z
              },
              coordinateSystem: "geo",
              renderItem: function(xe, ge) {
                return {
                  type: "image",
                  style: {
                    image: ee.icon,
                    // 自定义的图片地址
                    x: ge.coord([K.data[xe.dataIndex].lng, K.data[xe.dataIndex].lat])[0] - 16,
                    // 数据的设置
                    y: ge.coord([K.data[xe.dataIndex].lng, K.data[xe.dataIndex].lat])[1] - 16
                  }
                };
              },
              zlevel: 10,
              data: te
            };
            U.series.push(re);
          } else {
            const re = {
              name: K.name,
              type: "effectScatter",
              coordinateSystem: "geo",
              rippleEffect: B,
              tooltip: {
                show: $.tooltip.show,
                trigger: "item",
                backgroundColor: $.tooltip.backgroundColor,
                borderColor: $.tooltip.borderColor,
                extraCssText: "z-index:100;color:#fff;",
                confine: !0,
                // 是否将 tooltip 框限制在图表的区域内
                formatter: z
              },
              label: {
                show: !0,
                color: "#fff",
                formatter: function(xe) {
                  return xe.name;
                }
              },
              symbolSize: function(xe) {
                return xe[2] < q ? 15 : 20;
              },
              showEffectOn: "render",
              // 加载完毕显示特效
              itemStyle: {
                normal: {
                  color: "#FAD400",
                  // 圆点的颜色
                  shadowBlur: 10,
                  shadowColor: "#333"
                }
              },
              zlevel: 6,
              data: te
            };
            U.series.push(re);
          }
        }), u.value = U, n.value = !1;
      }).catch((V) => {
        lg.warning(V);
      }).finally(() => {
        n.value = !1;
      }), Se(() => {
        b.value && (w.seriesIdx = 0, w.dataIdx = 0, F());
      });
    }, O = (k) => {
      l.value = k;
      const $ = k || [], [M, A] = [[], []];
      $.forEach((L) => {
        M.push(L.name), A.push(L.value);
      });
    };
    return le(() => {
      o(), e.node.on({
        setData: O,
        request: o,
        state: a,
        updateChart: P
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: O,
        request: o,
        state: a,
        updateChart: P
      }), w.timeInstance && (clearTimeout(w.timeInstance), w.timeInstance = -1);
    }), (k, $) => {
      const M = be("datavis-chart"), A = be("el-empty"), L = y1("loading");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(i), {
        onClick: $[0] || ($[0] = (R) => N(r)("click", R)),
        onDblclick: $[1] || ($[1] = (R) => N(r)("dblclick", R))
      }), [
        y.value ? ji((j(), Ye(M, {
          key: 0,
          ref_key: "chartRef",
          ref: C,
          option: u.value,
          "element-loading-background": "rgba(0, 0, 0, 0.4)",
          "element-loading-text": "地图数据加载中...",
          onMouseover: x,
          onMouseout: D
        }, null, 8, ["option"])), [
          [L, n.value]
        ]) : (j(), Ye(A, {
          key: 1,
          class: "v-chart",
          image: "/resource/componentConfig/empty_dark.png",
          description: "地图数据为空"
        }))
      ], 16);
    };
  }
}), Nv = "visWidgetChartTreemap", IR = "矩形树图", PR = "0.0.1", zR = /* @__PURE__ */ ue({
  name: Nv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Nv, title: IR },
    version: PR,
    w: 455,
    h: 245,
    data: [
      {
        name: "进口",
        value: 2450374,
        children: [
          { name: "谷物", value: "5912" },
          { name: "小麦", value: "858" },
          { name: "稻米", value: "1639" },
          { name: "大豆", value: "38087" },
          { name: "食用油", value: "4728" },
          { name: "食糖", value: "1029" },
          { name: "天然橡胶", value: "3607" },
          { name: "合成橡胶", value: "7622" },
          { name: "原木", value: "10985" },
          { name: "锯材", value: "10131" },
          { name: "纸浆", value: "19716" },
          { name: "羊毛", value: "3278" },
          { name: "棉花", value: "3172" },
          { name: "纺织纤维", value: "1079" },
          { name: "聚酯纤维", value: "284" },
          { name: "聚丙烯腈纤维", value: "424" },
          { name: "铁矿砂", value: "75922" },
          { name: "锰矿砂", value: "5811" },
          { name: "铜矿砂", value: "31935" },
          { name: "铬矿砂", value: "2853" },
          { name: "氧化铝", value: "320" },
          { name: "煤", value: "24761" },
          { name: "原油", value: "240380" },
          { name: "成品油", value: "20143" },
          { name: "乙二醇", value: "9006" },
          { name: "对苯二甲酸", value: "668" },
          { name: "己内酰胺", value: "349" },
          { name: "医药品", value: "29607" },
          { name: "肥料", value: "2724" },
          { name: "尿素", value: "45" },
          { name: "氮磷钾复合肥", value: "669" },
          { name: "磷酸氢二胺", value: "25" },
          { name: "氯化钾", value: "1848" },
          { name: "聚乙烯", value: "12334" },
          { name: "聚丙烯", value: "4194" },
          { name: "聚苯乙烯", value: "6940" },
          { name: "ABS树脂", value: "3924" },
          { name: "聚氯乙烯", value: "998" },
          { name: "聚酯切片", value: "464" },
          { name: "农药", value: "690" },
          { name: "纸及纸板", value: "5527" },
          { name: "钢材", value: "16435" },
          { name: "未锻造铜", value: "31451" },
          { name: "铜材", value: "5997" },
          { name: "未锻造铝", value: "449" },
          { name: "铝材", value: "2702" },
          { name: "锅炉", value: "25" },
          { name: "压缩机", value: "1069" },
          { name: "机床", value: "9664" },
          { name: "阀门", value: "7322" },
          { name: "自动数据处理设备", value: "32894" },
          { name: "电话机", value: "311" },
          { name: "收音设备", value: "283" },
          { name: "电视机", value: "17" },
          { name: "电视显像管", value: "0" },
          { name: "汽车", value: "50514" },
          { name: "小轿车", value: "19374" },
          { name: "货车", value: "813" },
          { name: "自卸车", value: "17" },
          { name: "汽车底盘", value: "161" },
          { name: "汽车零件", value: "0" },
          { name: "飞机", value: "27581" },
          { name: "船舶", value: "0" },
          { name: "医疗仪器", value: "11246" },
          { name: "机电产品", value: "965700" },
          { name: "高新技术产品", value: "671661" }
        ]
      },
      {
        name: "出口",
        value: 3437300,
        children: [
          { name: "活猪", value: "427" },
          { name: "活家禽", value: "1" },
          { name: "牛肉", value: "3" },
          { name: "猪肉", value: "195" },
          { name: "冻鸡", value: "238" },
          { name: "水海产品", value: "22001" },
          { name: "鲜蛋", value: "112" },
          { name: "谷物", value: "1066" },
          { name: "稻米", value: "888" },
          { name: "玉米", value: "6" },
          { name: "蔬菜", value: "12615" },
          { name: "冷藏蔬菜", value: "4637" },
          { name: "橙", value: "973" },
          { name: "苹果", value: "1299" },
          { name: "松子", value: "185" },
          { name: "大豆", value: "100" },
          { name: "花生", value: "279" },
          { name: "植物油", value: "307" },
          { name: "食糖", value: "101" },
          { name: "蜂蜜", value: "249" },
          { name: "茶叶", value: "1778" },
          { name: "辣椒干", value: "154" },
          { name: "猪肉罐头", value: "150" },
          { name: "蘑菇罐头", value: "576" },
          { name: "啤酒", value: "252" },
          { name: "肠衣", value: "1356" },
          { name: "羽毛羽绒", value: "826" },
          { name: "药材", value: "1102" },
          { name: "烤烟", value: "448" },
          { name: "纸烟", value: "721" },
          { name: "锯材", value: "178" },
          { name: "生丝", value: "291" },
          { name: "山羊绒", value: "238" },
          { name: "棉花", value: "94" },
          { name: "石墨", value: "348" },
          { name: "碳酸镁氧化镁", value: "1048" },
          { name: "萤石", value: "138" },
          { name: "硫酸钡", value: "159" },
          { name: "滑石", value: "171" },
          { name: "氧化铝", value: "784" },
          { name: "煤", value: "788" },
          { name: "焦炭", value: "2975" },
          { name: "原油", value: "1270" },
          { name: "成品油", value: "35884" },
          { name: "石蜡", value: "523" },
          { name: "仲钨酸铵", value: "156" },
          { name: "氧化锌", value: "33" },
          { name: "合成染料", value: "1619" },
          { name: "医药品", value: "17430" },
          { name: "中式成药", value: "262" },
          { name: "医用敷料", value: "1435" },
          { name: "洗衣粉", value: "358" },
          { name: "烟花爆竹", value: "866" },
          { name: "松香", value: "82" },
          { name: "轮胎", value: "15110" },
          { name: "纸及纸板", value: "7004" },
          { name: "棉纱线", value: "1766" },
          { name: "丝织物", value: "647" },
          { name: "棉机织物", value: "14336" },
          { name: "亚麻", value: "1066" },
          { name: "混纺织物", value: "2112" },
          { name: "地毯", value: "2975" },
          { name: "塑料编织袋", value: "1000" },
          { name: "水泥", value: "490" },
          { name: "平板玻璃", value: "1556" },
          { name: "玻璃制品", value: "6639" },
          { name: "陶瓷器皿", value: "11640" },
          { name: "生铁", value: "0" },
          { name: "钢坯", value: "13" },
          { name: "钢材", value: "60596" },
          { name: "未锻造铜", value: "1884" },
          { name: "铜材", value: "4268" },
          { name: "未锻造铝", value: "1216" },
          { name: "铝材", value: "15250" },
          { name: "未锻造锌", value: "75" },
          { name: "未锻造锡", value: "46" },
          { name: "未锻造锑", value: "44" },
          { name: "未锻造锰", value: "858" },
          { name: "钢铜标准件", value: "6585" },
          { name: "手用", value: "11570" },
          { name: "电扇", value: "5458" },
          { name: "纺织机械", value: "3666" },
          { name: "缝纫机", value: "1444" },
          { name: "机床", value: "4000" },
          { name: "计算器", value: "354" },
          { name: "数据处理设备", value: "171993" },
          { name: "数据处理设备零件", value: "44314" },
          { name: "轴承", value: "4261" },
          { name: "电动机", value: "11846" },
          { name: "变流器", value: "17903" },
          { name: "原电池", value: "2140" },
          { name: "蓄电池", value: "14381" },
          { name: "电话机", value: "142198" },
          { name: "收音设备", value: "3843" },
          { name: "电视机", value: "14929" },
          { name: "电容器", value: "5052" },
          { name: "保护电路装置", value: "29887" },
          { name: "二极管半导体", value: "26543" },
          { name: "电线和电缆", value: "21582" },
          { name: "集装箱", value: "10434" },
          { name: "汽车", value: "14762" },
          { name: "汽车零件", value: "0" },
          { name: "自行车", value: "3251" },
          { name: "船舶", value: "0" },
          { name: "照相机", value: "3548" },
          { name: "医疗仪器", value: "11399" },
          { name: "手表", value: "2202" },
          { name: "日用钟", value: "767" },
          { name: "家具", value: "53665" },
          { name: "非针织服装", value: "157615" },
          { name: "针织服装", value: "62580" },
          { name: "皮鞋", value: "9313" },
          { name: "橡胶或布鞋", value: "13712" },
          { name: "塑料制品", value: "43452" },
          { name: "玩具", value: "25065" },
          { name: "球", value: "473" },
          { name: "伞", value: "2383" },
          { name: "竹编", value: "141" },
          { name: "藤编", value: "81" },
          { name: "草编", value: "132" },
          { name: "柳编", value: "468" },
          { name: "机电产品", value: "1460326" },
          { name: "高新技术产品", value: "746816" }
        ]
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      renderer: "canvas",
      valueUnit: "",
      tooltip: {
        show: !0,
        backgroundColor: "rgba(0,0,0,0.85)",
        borderColor: "rgba(255,255,255,0.1)",
        borderWidth: 1,
        padding: [12, 16, 12, 16],
        textStyle: {
          fontSize: 14,
          color: "#fff"
        },
        // 类目
        nameStyle: {
          fontFamily: "",
          color: "#D9DCDC",
          fontSize: 12,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 20
        },
        // 数值
        valueStyle: {
          fontFamily: "PangMenZhengDaoBiaoTiTi",
          color: "#FFFFFF",
          fontSize: 14,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 1,
          lineHeight: 20,
          flowSeries: !0
        },
        // 后缀单位
        unitStyle: {
          fontFamily: "",
          color: "#D9DCDC",
          fontSize: 12,
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 20,
          flowSeries: !1
        }
      },
      seriesColor: [
        {
          name: "进口",
          color: "#4F84D4"
        },
        {
          name: "出口",
          color: "#DD5B5B"
        }
      ],
      series: [
        {
          name: "全部",
          type: "treemap",
          visibleMin: 300,
          leafDepth: 4,
          //呈现层级，若为1加载时仅展开一层，接下来的每一层通过单击进入，如上面的效果图所示，
          //每一层级呈现的样式
          label: {
            show: !0,
            fontSize: 12,
            //  color: '#000000',
            formatter: "",
            rich: {
              // 类型
              name: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 数值
              value: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              },
              // 单位
              unit: {
                show: !0,
                fontFamily: "",
                color: "#D9DCDC",
                fontSize: 14,
                opacity: 100,
                textDecoration: "none",
                fontWeight: "normal",
                fontStyle: "normal",
                letterSpacing: 0,
                lineHeight: 20,
                width: 50
              }
            }
          },
          upperLabel: {
            show: !1,
            height: 20
          },
          itemStyle: {
            borderColor: "#333"
          },
          levels: [
            {
              colorSaturation: [0.2, 0.8],
              itemStyle: {
                borderColor: "#333",
                borderWidth: 1,
                gapWidth: 2
              }
            },
            {
              colorSaturation: [0.3, 0.7],
              colorMappingBy: "id",
              itemStyle: {
                // borderColorSaturation: 0.7,
                gapWidth: 2,
                borderWidth: 2
              }
            }
          ]
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { getThemeColor: r } = tt(e.node), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getMappedData: l } = we(), u = H({
      get: () => {
        const v = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return l(v);
      },
      set: (v) => {
        e.node.data = v;
      }
    }), c = H(() => e.node.chartOption);
    ve(
      [u, c],
      () => {
        Se(() => {
          m();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const f = (v) => {
      const { fontFamily: y, color: S, fontSize: b, opacity: _, fontWeight: w, fontStyle: T, letterSpacing: C, lineHeight: x } = v;
      return `font-family:${y};color:${S};font-size:${b}px;opacity:${_ / 100};font-weight:${w};font-style:${T};letter-spacing:${C}px;line-height:${x}px;`;
    }, h = () => {
      const v = e.node.chartOption, y = v.tooltip, S = y.valueStyle.flowSeries, b = y.unitStyle.flowSeries, _ = f(y.nameStyle), w = f(y.valueStyle), T = f(y.unitStyle);
      return (x) => {
        const { color: D, name: F, value: I } = x, O = `color:${typeof D == "string" ? D : D.colorStops[0].color}`, k = `<span style="${_};padding-right:8px;">${F}</span>`, M = `<span style="${w}${S ? O : ""}">${I}</span>`, A = v.valueUnit || "", R = `<span style="${T};${b ? O : ""};padding-left:2px;">${A}</span>`;
        return `<div>${k}${M}${A ? R : ""}</div>`;
      };
    }, d = (v, y) => {
      const { series: S, valueUnit: b } = y, _ = me(v), w = y.seriesColor;
      return _.forEach((T, C) => {
        const x = w[C % w.length].color, D = r(C, x, 1);
        T.itemStyle = {
          color: D
        };
      }), S[0].label.formatter = function(T) {
        return `{name|${T.name}}
{value|${T.value}} {unit|${b}}`;
      }, S[0].data = _, S;
    }, p = Q(), m = () => {
      const y = me(e.node).chartOption, S = e.node.data, b = d(S, y);
      y.tooltip.formatter = h();
      const _ = {
        tooltip: y.tooltip,
        series: b
      };
      n.value = _;
    }, g = (v) => {
      u.value = v;
      const y = v || [], [S, b] = [[], []];
      y.forEach((_) => {
        S.push(_.name), b.push(_.value);
      });
    };
    return le(() => {
      a(), e.node.on({
        setData: g,
        request: a,
        state: i,
        updateChart: m
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: a,
        state: i,
        updateChart: m
      });
    }), (v, y) => {
      const S = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: y[0] || (y[0] = (b) => N(o)("click", b)),
        onDblclick: y[1] || (y[1] = (b) => N(o)("dblclick", b))
      }), [
        Fe(S, {
          ref_key: "chartRef",
          ref: p,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Hv = "visWidgetChartPictorialBar", BR = "象形图", WR = "0.0.1", NR = /* @__PURE__ */ ue({
  name: Hv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Hv, title: BR },
    version: WR,
    w: 455,
    h: 245,
    data: [
      {
        product: "数据1",
        y1: 88
      },
      {
        product: "数据2",
        y1: 58
      },
      {
        product: "数据3",
        y1: 74
      },
      {
        product: "数据4",
        y1: 82
      },
      {
        product: "数据5",
        y1: 66
      },
      {
        product: "数据6",
        y1: 86
      }
    ],
    // 数据映射
    chartDataFieldMap: {
      dimension: {
        name: "横轴",
        field: [
          {
            fieldName: "product",
            fieldAlias: "product",
            fieldType: "x",
            dataType: "string"
          }
        ]
      },
      measure: {
        name: "纵轴",
        field: [
          {
            fieldName: "y1",
            fieldAlias: "类型一",
            fieldType: "y",
            dataType: "string"
          }
        ]
      }
    },
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      renderer: "canvas",
      grid: J("grid"),
      tooltip: J("tooltip", { trigger: "item" }),
      legend: J("legend"),
      dataZoom: J("dataZoom"),
      xAxis: J("xAxis"),
      yAxis: J("yAxis"),
      series: [
        {
          name: "类型一",
          type: "pictorialBar",
          barWidth: "60%",
          stack: "总量",
          label: {
            show: !1,
            position: "top",
            fontFamily: "",
            color: "#E5F8FF",
            fontSize: 12,
            opacity: 100,
            textDecoration: "none",
            fontWeight: "normal",
            fontStyle: "normal",
            letterSpacing: 0,
            lineHeight: 10,
            offsetX: 0,
            offsetY: 0
          },
          itemStyle: {
            color: "#4F84D4"
          },
          icon: {
            show: !0,
            iconSize: 15,
            path: "/resource/componentConfig/light_circle.png"
          },
          symbol: "path://M12.000,-0.000 C12.000,-0.000 16.074,60.121 22.731,60.121 C26.173,60.121 -3.234,60.121 0.511,60.121 C7.072,60.121 12.000,-0.000 12.000,-0.000 Z",
          markLine: {
            show: !1,
            markValue: 0,
            position: "end",
            name: "达标线",
            markType: "average",
            label: {
              // 数值样式
              fontSize: 12,
              color: "#FFFFFF",
              fontWeight: "normal",
              distance: -35
            },
            lineStyle: {
              color: "#FFC225",
              type: "solid"
            }
          }
        }
      ]
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = Q({}), { getThemeColor: r } = tt(e.node), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), { getMappedData: l } = we(), u = H({
      get: () => {
        const b = {
          data: e.node.data,
          otherData: e.otherData,
          type: "chart"
        };
        return l(b);
      },
      set: (b) => {
        e.node.data = b;
      }
    }), c = H(() => e.node.chartOption);
    ve(
      [u, c, e.node.chartDataFieldMap],
      () => {
        Se(() => {
          y();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const { getLegend: f, getDataZoom: h } = et(), { getMarkLine: d } = Tn(), { getXAxis: p, getYAxis: m } = St(), g = (b, _) => {
      const { series: w } = _, C = e.node.chartDataFieldMap.measure.field, x = [];
      return w.forEach((D, F) => {
        const { type: I, name: P, symbol: O, icon: k, yAxisIndex: $, itemStyle: M, label: A, markLine: L } = D, R = C[F % C.length];
        if (!R) return;
        const E = R.fieldName;
        let B = [];
        B = b.map((z) => ({
          value: z[E],
          dataRef: z || {},
          yAxisIndex: $
        }));
        const W = [
          {
            type: I,
            name: P,
            barWidth: "60%",
            stack: "总量",
            symbol: O,
            itemStyle: {
              color: {
                type: "linear",
                x: 0,
                y: 0,
                x2: 0,
                y2: 1,
                colorStops: [
                  {
                    offset: 0,
                    color: r(F, M.color, 1)
                    // 0% 处的颜色
                  },
                  {
                    offset: 1,
                    color: r(F, M.color, 0.1)
                    // 100% 处的颜色
                  }
                ],
                globalCoord: !1
                // 缺省为 false
              }
            },
            label: {
              show: A.show || !1,
              // 开启显示
              position: "top",
              // 在上方显示,
              // 数值样式
              fontSize: A.fontSize,
              color: A.color,
              fontWeight: A.fontWeight,
              fontFamily: A.fontFamily,
              opacity: A.opacity / 100,
              textDecoration: A.textDecoration,
              fontStyle: A.fontStyle,
              letterSpacing: A.letterSpacing,
              lineHeight: A.lineHeight,
              offset: [A.offsetX, A.offsetY]
            },
            data: B
          },
          {
            type: "line",
            showSymbol: k.show,
            symbolSize: k.iconSize,
            symbol: `image://${k.path}`,
            symbolOffset: [1, 3],
            lineStyle: {
              color: "transparent"
            },
            barCategoryGap: "0%",
            data: B,
            z: 10
          }
        ];
        L && L.show && (W[0].markLine = d(L)), x.push(...W);
      }), x;
    }, v = Q(), y = () => {
      const b = me(e.node), _ = b.chartOption, w = u.value, C = (b.chartDataFieldMap.dimension.field[0] || {}).fieldName, x = [];
      if (w.length && C && (w.forEach((F) => {
        x.includes(F[C]) || x.push(F[C]);
      }), _.xAxis.data = x), x.length === 0) return;
      const D = {
        grid: _.grid,
        tooltip: _.tooltip,
        legend: f(_.legend),
        xAxis: p(_.xAxis),
        yAxis: m(_.yAxis),
        dataZoom: h(_.dataZoom),
        series: g(w, _)
      };
      n.value = D;
    }, S = (b) => {
      u.value = b;
      const _ = b || [], [w, T] = [[], []];
      _.forEach((C) => {
        w.push(C.name), T.push(C.value);
      });
    };
    return le(() => {
      a(), e.node.on({
        setData: S,
        request: a,
        state: i,
        updateChart: y
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: S,
        request: a,
        state: i,
        updateChart: y
      });
    }), (b, _) => {
      const w = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
        onClick: _[0] || (_[0] = (T) => N(o)("click", T)),
        onDblclick: _[1] || (_[1] = (T) => N(o)("dblclick", T))
      }), [
        Fe(w, {
          ref_key: "chartRef",
          ref: v,
          option: n.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), HR = { key: 1 }, VR = ["onClick"], Vv = "visWidgetTable", qR = "滚动排名列表(无框)", jR = "0.0.1", UR = /* @__PURE__ */ ue({
  name: Vv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Vv, title: qR },
    version: jR,
    data: [
      {
        type1: "企业A",
        type2: "100 kWh",
        type3: "进行中"
      },
      {
        type1: "企业B",
        type2: "90 kWh",
        type3: "已完成"
      },
      {
        type1: "企业C",
        type2: "80 kWh",
        type3: "未完成"
      },
      {
        type1: "企业D",
        type2: "60 kWh",
        type3: "进行中"
      },
      {
        type1: "企业E",
        type2: "50 kWh",
        type3: "已完成"
      },
      {
        type1: "企业F",
        type2: "58 kWh",
        type3: "未完成"
      },
      {
        type1: "企业G",
        type2: "52 kWh",
        type3: "未完成"
      },
      {
        type1: "企业H",
        type2: "40 kWh",
        type3: "未完成"
      }
    ],
    // 表体背景颜色
    bodyBackground: "rgba(199, 21, 133, 0)",
    // 表体文字对齐
    bodyTextAlign: "justify",
    // 格式化
    valueFormatter: (t) => t.value,
    // 列配置
    column: [
      {
        label: "名称",
        prop: "type1",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !1,
        textStyleCustom: []
      },
      {
        label: "数值",
        prop: "type2",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !1,
        textStyleCustom: []
      },
      {
        label: "状态",
        prop: "type3",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !0,
        textStyleCustom: [
          {
            customField: "未完成",
            textStyle: {
              fontFamily: "",
              color: "#E46151",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          },
          {
            customField: "进行中",
            textStyle: {
              fontFamily: "",
              color: "#49AAFF",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          },
          {
            customField: "已完成",
            textStyle: {
              fontFamily: "",
              color: "#00D68A",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          }
        ]
      }
    ],
    // 显示序号
    indexStyle: {
      show: !0,
      title: "排序",
      width: 80,
      offsetX: 0,
      offsetY: 0,
      textStyle: {
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        opacity: 100,
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 34,
        textAlign: "center"
      },
      background: {
        show: !0,
        list: [
          {
            width: 22,
            height: 22,
            backgroundImage: "/resource/componentConfig/svg/circle2.svg"
          },
          {
            width: 22,
            height: 22,
            backgroundImage: "/resource/componentConfig/svg/circle2.svg"
          },
          {
            width: 22,
            height: 22,
            backgroundImage: "/resource/componentConfig/svg/circle2.svg"
          }
        ]
      }
    },
    // 表头样式
    headerStyle: {
      show: !0,
      // 表头背景
      backgroundShow: !1,
      backgroundColor: {
        color1: "rgba(46,69,109,0.65)",
        color2: "rgba(46,69,109,0.65)"
      },
      backgroundImage: "",
      textStyle: {
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        opacity: 100,
        textDecoration: "none",
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 34,
        textAlign: "center"
      }
    },
    // 行背景色
    rowBackground: [
      {
        backgroundColor: "#06182F",
        borderColor: "rgba(36,57,95,0.65)"
      },
      {
        backgroundColor: "#0D2039",
        borderColor: "rgba(36,57,95,0.65)"
      }
    ],
    scroll: {
      show: !1,
      // 是否滚动
      type: "rowScroll",
      waitTime: 1e3,
      // 轮播时间
      scrollSpeed: 4
      // 滚动速度，默认为4，最小滚动速度为1，1很慢，所以默认为4，留下较大的操作空间
    },
    stateIndex: 0,
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 420,
    h: 220
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const M = {
          data: e.node.data,
          otherData: e.otherData,
          column: e.node.column,
          type: "chart"
        };
        return n(M);
      },
      set: (M) => {
        e.node.data = M;
      }
    }), o = Co(() => {
      b.value.doLayout();
    }, 100), a = H(() => e.node.w), i = H(() => e.node.h);
    ve([a, i], () => {
      o();
    });
    const s = H(() => e.node.scroll.show), l = H(() => e.node.scroll.waitTime), u = H(() => e.node.scroll.scrollSpeed || 1), c = H(() => e.node.scroll.type);
    ve(
      [s, l, u, c],
      () => {
        Se(() => {
          b.value.doLayout(), T(e.node.scroll);
        });
      },
      { immediate: !0 }
    );
    const f = H(() => ({
      borderWidth: `${e.node.borderWidth}px`,
      borderColor: `${e.node.borderColor}`,
      backgroundColor: `${e.node.bodyBackground} !important`
    })), h = (M) => {
      var E;
      const A = {
        display: "inline-block"
      }, L = e.node.indexStyle;
      if (L != null && L.textStyle) {
        A.transform = `translate3d(${L.offsetX}px, ${L.offsetY}px, 0px)`;
        const { fontFamily: B, color: W, fontSize: z, opacity: V, fontWeight: q, fontStyle: U, letterSpacing: K, lineHeight: Z } = (E = e.node.indexStyle) == null ? void 0 : E.textStyle;
        A.fontFamily = B, A.color = W, A.fontSize = `${z}px`, A.opacity = V, A.fontWeight = q, A.fontStyle = U, A.letterSpacing = `${K}px`, A.lineHeight = `${Z}px`;
      }
      const R = e.node.indexStyle.background.list;
      if (M < R.length) {
        const { width: B, height: W } = R[M];
        A.width = `${Math.max(B, W)}px`, A.height = `${Math.max(B, W)}px`;
      }
      return A;
    }, d = (M) => {
      const A = e.node.indexStyle.background.list;
      if (M < A.length) {
        const { width: L, height: R, backgroundImage: E } = A[M];
        return {
          backgroundRepeat: "no-repeat",
          backgroundSize: `${L}px ${R}px`,
          backgroundImage: `url(${JSON.stringify(E)})`,
          backgroundPosition: "center center",
          width: `${Math.max(L, R)}px`,
          height: `${Math.max(L, R)}px`
        };
      }
      return {};
    }, p = (M) => {
      const { show: A, width: L, height: R, backgroundImage: E } = M.buttonStyle;
      return A ? {
        display: "inline-flex",
        backgroundRepeat: "no-repeat",
        backgroundSize: `${L}px ${R}px`,
        backgroundImage: `url(${JSON.stringify(E)})`,
        backgroundPosition: "center center",
        width: `${L}px`,
        height: `${R}px`
        // width: `${Math.max(width, height)}px`,
        // height: `${Math.max(width, height)}px`
      } : {};
    }, m = Q(0), g = ({ row: M, column: A, columnIndex: L }) => {
      var B;
      const R = {
        padding: 0,
        fontSize: "14px",
        color: "#CEDBEC"
      };
      A.property && A.property === "index" ? R.textAlign = e.node.indexStyle.textStyle.textAlign : A.property && A.property === "action" ? R.textAlign = "center" : R.textAlign = e.node.bodyTextAlign;
      const E = e.node.column[L - 1];
      if (E != null && E.textStyle) {
        const { fontFamily: W, color: z, fontSize: V, opacity: q, fontWeight: U, fontStyle: K, letterSpacing: Z, lineHeight: ee, offsetX: te, offsetY: re } = E.textStyle;
        R.fontFamily = W, R.color = z, R.fontSize = `${V}px`, R.opacity = q, R.fontWeight = U, R.fontStyle = K, R.letterSpacing = `${Z}px`, R.lineHeight = `${ee}px`, R.transform = `translate3d(${te}px, ${re}px, 0px)`;
      }
      if ((B = E == null ? void 0 : E.textStyleCustom) != null && B.length && (E != null && E.textStyleCustomEnable)) {
        const W = E.textStyleCustom.find((z) => z.customField === M[E.prop]);
        if (W) {
          const { fontFamily: z, color: V, fontSize: q, opacity: U, fontWeight: K, fontStyle: Z, letterSpacing: ee, lineHeight: te } = W.textStyle;
          R.fontFamily = z, R.color = V, R.fontSize = `${q}px`, R.opacity = U, R.fontWeight = K, R.fontStyle = Z, R.letterSpacing = `${ee}px`, R.lineHeight = `${te}px`;
        }
      }
      return R;
    }, v = ({ rowIndex: M }) => {
      const A = {}, L = e.node.rowBackground, R = L[M % L.length];
      return R && (A.backgroundColor = `${R.backgroundColor}`, A.border = "3px solid", A.backgroundSize = "100% 100%", A.backgroundRepeat = "no-repeat"), A;
    }, y = () => {
      const { fontFamily: M, color: A, fontSize: L, fontWeight: R, fontStyle: E, letterSpacing: B, lineHeight: W, opacity: z } = e.node.headerStyle.textStyle, V = {
        height: `${W}px`,
        background: "",
        color: A,
        fontFamily: M,
        fontSize: `${L}px`,
        opacity: z / 100,
        fontWeight: R,
        fontStyle: E,
        letterSpacing: `${B}px`,
        // lineHeight: `${lineHeight}px`,
        textAlign: e.node.bodyTextAlign
      };
      if (e.node.headerStyle) {
        const { backgroundShow: q, backgroundColor: U, backgroundImage: K } = e.node.headerStyle;
        q && K && (V.background += `url(${JSON.stringify(K)})`, V.backgroundSize = "100% 100%"), V.background += `no-repeat center bottom, linear-gradient(90deg, ${U.color1} 0%, ${U.color2} 100%) !important`;
      }
      return V;
    }, S = ({ column: M, columnIndex: A }) => {
      const { fontFamily: L, color: R, fontSize: E, fontWeight: B, fontStyle: W, letterSpacing: z, opacity: V } = e.node.headerStyle.textStyle, q = {
        color: R,
        fontFamily: L,
        fontSize: `${E}px`,
        opacity: V / 100,
        fontWeight: B,
        fontStyle: W,
        letterSpacing: `${z}px`
      };
      M.property && M.property === "index" ? q.textAlign = e.node.indexStyle.textStyle.textAlign : M.property && M.property === "action" ? q.textAlign = "center" : q.textAlign = e.node.bodyTextAlign;
      const U = e.node.column[A - 1];
      if (U != null && U.textStyle) {
        const { offsetX: K, offsetY: Z } = U.textStyle;
        q.transform = `translate3d(${K}px, ${Z}px, 0px)`;
      }
      return q;
    }, b = Q(), _ = Q(-1), w = Q(-1), T = ({ type: M, scrollSpeed: A, waitTime: L }) => {
      if (C(), b.value.setScrollTop(0), !e.node.scroll.show) return;
      const R = b.value.$el, E = R.querySelector(".el-scrollbar__wrap"), B = R.querySelector(".el-scrollbar__view"), W = B.querySelectorAll(".el-table__body tbody .el-table__row");
      if (M === "rowScroll") {
        E.style.scrollBehavior = "smooth";
        let z = 0;
        _.value = setInterval(() => {
          if (E.scrollHeight === E.offsetHeight)
            return;
          const q = W[z].offsetHeight;
          E.scrollTop + E.offsetHeight < B.scrollHeight ? (z++, z > W.length - 1 && (z = W.length - 1), b.value.setScrollTop(E.scrollTop + q)) : (z = 0, b.value.setScrollTop(0));
        }, L);
      } else {
        let z = function() {
          const V = e.node.editor.refreshRate || 60, q = V > 0 ? 60 / V : 1, U = E.scrollTop, K = B.scrollHeight - E.offsetHeight - U, Z = 1 / A * K * 400 * q;
          let ee = null;
          cancelAnimationFrame(w.value);
          function te(re) {
            ee || (ee = re);
            const xe = re - ee, ge = Math.min(xe / Z, 1);
            b.value.setScrollTop(U + K * ge), xe < Z ? w.value = requestAnimationFrame(te) : (b.value.setScrollTop(0), z());
          }
          w.value = requestAnimationFrame(te);
        };
        if (E.style.scrollBehavior = "auto", A < 0 && (A = 1), E.scrollHeight === E.offsetHeight)
          return;
        z();
      }
    }, C = () => {
      clearInterval(_.value), _.value = -1, cancelAnimationFrame(w.value), w.value = -1;
    }, x = (M) => {
      console.log("handleClick ~ item:", M);
    }, { handleEvent: D, handleRequest: F, handleState: I, wrapperAttrs: P, combineStyle: O } = he(e.node), k = (M) => {
      r.value = M;
    }, $ = ({ isOn: M = !1 }) => {
      const A = M ? "on" : "off";
      e.node[A]({
        setData: k,
        request: F,
        state: I
      }), e.node.editor[A]({
        "refresh:rate": () => {
          T(e.node.scroll);
        }
      });
    };
    return le(() => {
      const M = b.value.$el.querySelector(".customer_table_header");
      m.value = parseInt(M.offsetHeight), F(), $({ isOn: !0 }), D("mounted", "");
    }), se(() => {
      $({ isOn: !1 }), C();
    }), (M, A) => {
      const L = be("el-table-column"), R = be("el-table");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(P), {
        onClick: A[1] || (A[1] = (E) => N(D)("click", E)),
        onDblclick: A[2] || (A[2] = (E) => N(D)("dblclick", E))
      }), [
        ne("div", {
          class: "widget-table",
          style: oe(N(O)),
          onMouseenter: C,
          onMouseleave: A[0] || (A[0] = (E) => T(M.node.scroll))
        }, [
          Fe(R, {
            style: oe(f.value),
            ref_key: "tableRef",
            ref: b,
            data: r.value,
            height: M.node.h,
            "cell-style": g,
            "row-style": v,
            "header-cell-style": S,
            "header-row-style": y,
            "header-row-class-name": "customer_table_header"
          }, {
            default: Ct(() => {
              var E, B, W;
              return [
                (E = M.node.indexStyle) != null && E.show ? (j(), Ye(L, {
                  key: 0,
                  type: "index",
                  prop: "index",
                  label: (B = M.node.indexStyle) == null ? void 0 : B.title,
                  "header-align": M.node.indexStyle.textStyle.textAlign,
                  align: M.node.indexStyle.textStyle.textAlign,
                  width: (W = M.node.indexStyle) == null ? void 0 : W.width
                }, {
                  default: Ct(({ $index: z }) => [
                    ne("span", {
                      style: oe(h(z))
                    }, [
                      M.node.indexStyle.background.show && z < M.node.indexStyle.background.list.length ? (j(), G("div", {
                        key: 0,
                        class: "table-flex-box",
                        style: oe(d(z))
                      }, [
                        ne("span", null, Me(z + 1), 1)
                      ], 4)) : (j(), G("span", HR, Me(z + 1), 1))
                    ], 4)
                  ]),
                  _: 1
                }, 8, ["label", "header-align", "align", "width"])) : vt("", !0),
                (j(!0), G(Ne, null, ot(M.node.column, (z, V) => (j(), G(Ne, null, [
                  z.type === "text" ? (j(), Ye(L, {
                    "show-overflow-tooltip": z.textStyle.textEllipsis === "ellipsis",
                    key: V,
                    prop: z.prop,
                    fixed: z.fixed,
                    label: z.label,
                    minWidth: z.minWidth
                  }, null, 8, ["show-overflow-tooltip", "prop", "fixed", "label", "minWidth"])) : (j(), Ye(L, {
                    key: V + "action",
                    prop: "action",
                    fixed: z.fixed,
                    label: z.label,
                    "header-align": "center",
                    align: "center",
                    minWidth: z.minWidth,
                    maxWidth: "20%"
                  }, {
                    default: Ct((q) => [
                      ne("span", {
                        class: "table-flex-box",
                        style: oe(p(z)),
                        onClick: wo((U) => x({
                          ...q.row,
                          ...z
                        }), ["stop"])
                      }, [
                        ne("span", null, Me(z.buttonStyle.text), 1)
                      ], 12, VR)
                    ]),
                    _: 2
                  }, 1032, ["fixed", "label", "minWidth"]))
                ], 64))), 256))
              ];
            }),
            _: 1
          }, 8, ["style", "data", "height"])
        ], 36)
      ], 16);
    };
  }
}), YR = { key: 1 }, GR = ["onClick"], qv = "visWidgetTableBorder", XR = "滚动排名列表(有框)", ZR = "0.0.1", KR = /* @__PURE__ */ ue({
  name: qv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: qv, title: XR },
    version: ZR,
    data: [
      {
        type1: "北京",
        type2: "85%",
        type3: "进行中"
      },
      {
        type1: "上海",
        type2: "80%",
        type3: "已完成"
      },
      {
        type1: "广州",
        type2: "75%",
        type3: "进行中"
      },
      {
        type1: "深圳",
        type2: "70%",
        type3: "进行中"
      },
      {
        type1: "重庆",
        type2: "65%",
        type3: "已完成"
      },
      {
        type1: "成都",
        type2: "58%",
        type3: "未完成"
      },
      {
        type1: "厦门",
        type2: "52%",
        type3: "未完成"
      },
      {
        type1: "云南",
        type2: "40%",
        type3: "未完成"
      }
    ],
    // 表体背景颜色
    bodyBackground: "rgba(199, 21, 133, 0)",
    // 表体文字对齐
    bodyTextAlign: "justify",
    // 边框颜色
    borderColor: "#1370fb80",
    // 格式化
    valueFormatter: (t) => t.value,
    // 列配置
    column: [
      {
        label: "城市",
        prop: "type1",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !1,
        textStyleCustom: []
      },
      {
        label: "完成率",
        prop: "type2",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !1,
        textStyleCustom: []
      },
      {
        label: "状态",
        prop: "type3",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !0,
        textStyleCustom: [
          {
            customField: "未完成",
            textStyle: {
              fontFamily: "",
              color: "#E46151",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          },
          {
            customField: "进行中",
            textStyle: {
              fontFamily: "",
              color: "#49AAFF",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          },
          {
            customField: "已完成",
            textStyle: {
              fontFamily: "",
              color: "#00D68A",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          }
        ]
      },
      {
        label: "操作",
        prop: "type4",
        minWidth: 80,
        type: "button",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#ffffff",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 43,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !1,
        textStyleCustom: []
      }
    ],
    // 显示序号
    indexStyle: {
      show: !0,
      title: "排名",
      width: 80,
      offsetX: 0,
      offsetY: 0,
      textStyle: {
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        opacity: 100,
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 34,
        textAlign: "center"
      },
      background: {
        show: !0,
        list: [
          {
            width: 22,
            height: 22,
            backgroundImage: "/resource/componentConfig/svg/circle1.svg"
          },
          {
            width: 22,
            height: 22,
            backgroundImage: "/resource/componentConfig/svg/circle2.svg"
          },
          {
            width: 22,
            height: 22,
            backgroundImage: "/resource/componentConfig/svg/circle3.svg"
          }
        ]
      }
    },
    // 表头样式
    headerStyle: {
      show: !0,
      // 表头背景
      backgroundShow: !0,
      backgroundColor: {
        color1: "#234782",
        color2: "#192948"
      },
      // backgroundImage: '/resource/componentConfig/svg/light.svg',
      backgroundImage: "/resource/componentConfig/svg/border1.svg",
      textStyle: {
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        opacity: 100,
        textDecoration: "none",
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 34,
        textAlign: "center"
      }
    },
    // 行背景色
    rowBackground: [
      {
        backgroundColor: "#05162C",
        borderColor: "rgba(36,57,95,0.65)"
      },
      {
        backgroundColor: "#0D2039",
        borderColor: "rgba(36,57,95,0.65)"
      }
    ],
    scroll: {
      show: !1,
      // 是否滚动
      type: "rowScroll",
      waitTime: 1e3,
      // 轮播时间
      scrollSpeed: 4
      // 滚动速度
    },
    stateIndex: 0,
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 420,
    h: 220
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const M = {
          data: e.node.data,
          otherData: e.otherData,
          column: e.node.column,
          type: "chart"
        };
        return n(M);
      },
      set: (M) => {
        e.node.data = M;
      }
    }), o = Co(() => {
      b.value.doLayout();
    }, 100), a = H(() => e.node.w), i = H(() => e.node.h);
    ve([a, i], () => {
      o();
    });
    const s = H(() => e.node.scroll.show), l = H(() => e.node.scroll.waitTime), u = H(() => e.node.scroll.scrollSpeed || 1), c = H(() => e.node.scroll.type);
    ve(
      [s, l, u, c],
      () => {
        Se(() => {
          o(), T(e.node.scroll);
        });
      },
      { immediate: !0 }
    );
    const f = H(() => ({
      borderWidth: `${e.node.borderWidth}px`,
      borderColor: `${e.node.borderColor}`,
      backgroundColor: `${e.node.bodyBackground} !important`
    })), h = (M) => {
      var E;
      const A = {
        display: "inline-block"
      }, L = e.node.indexStyle;
      if (L != null && L.textStyle) {
        A.transform = `translate3d(${L.offsetX}px, ${L.offsetY}px, 0px)`;
        const { fontFamily: B, color: W, fontSize: z, opacity: V, fontWeight: q, fontStyle: U, letterSpacing: K, lineHeight: Z } = (E = e.node.indexStyle) == null ? void 0 : E.textStyle;
        A.fontFamily = B, A.color = W, A.fontSize = `${z}px`, A.opacity = V, A.fontWeight = q, A.fontStyle = U, A.letterSpacing = `${K}px`, A.lineHeight = `${Z}px`;
      }
      const R = e.node.indexStyle.background.list;
      if (M < R.length) {
        const { width: B, height: W } = R[M];
        A.width = `${Math.max(B, W)}px`, A.height = `${Math.max(B, W)}px`;
      }
      return A;
    }, d = (M) => {
      const A = e.node.indexStyle.background.list;
      if (M < A.length) {
        const { width: L, height: R, backgroundImage: E } = A[M];
        return {
          backgroundRepeat: "no-repeat",
          backgroundSize: `${L}px ${R}px`,
          backgroundImage: `url(${JSON.stringify(E)})`,
          backgroundPosition: "center center",
          width: `${Math.max(L, R)}px`,
          height: `${Math.max(L, R)}px`
        };
      }
      return {};
    }, p = (M) => {
      const { show: A, width: L, height: R, backgroundImage: E } = M.buttonStyle;
      return A ? {
        display: "inline-flex",
        backgroundRepeat: "no-repeat",
        backgroundSize: `${L}px ${R}px`,
        backgroundImage: `url(${JSON.stringify(E)})`,
        backgroundPosition: "center center",
        width: `${L}px`,
        height: `${R}px`
      } : {};
    }, m = Q(0), g = ({ row: M, column: A, columnIndex: L }) => {
      var B;
      const R = {
        padding: 0,
        fontSize: "14px",
        color: "#CEDBEC"
        // borderTop: '3px solid',
        // borderImage: 'linear-gradient(270deg, rgba(34,103,198,0.2) 0%, #3091FF 51%, rgba(1,87,152,0) 100%)',
        // textAlign: props.node.bodyTextAlign
      };
      A.property && A.property === "index" ? R.textAlign = e.node.indexStyle.textStyle.textAlign : A.property && A.property === "action" ? R.textAlign = "center" : R.textAlign = e.node.bodyTextAlign;
      const E = e.node.column[L - 1];
      if (E != null && E.textStyle) {
        const { fontFamily: W, color: z, fontSize: V, opacity: q, fontWeight: U, fontStyle: K, letterSpacing: Z, lineHeight: ee, offsetX: te, offsetY: re } = E.textStyle;
        R.fontFamily = W, R.color = z, R.fontSize = `${V}px`, R.opacity = q, R.fontWeight = U, R.fontStyle = K, R.letterSpacing = `${Z}px`, R.lineHeight = `${ee}px`, R.transform = `translate3d(${te}px, ${re}px, 0px)`;
      }
      if ((B = E == null ? void 0 : E.textStyleCustom) != null && B.length && (E != null && E.textStyleCustomEnable)) {
        const W = E.textStyleCustom.find((z) => z.customField === M[E.prop]);
        if (W) {
          const { fontFamily: z, color: V, fontSize: q, opacity: U, fontWeight: K, fontStyle: Z, letterSpacing: ee, lineHeight: te } = W.textStyle;
          R.fontFamily = z, R.color = V, R.fontSize = `${q}px`, R.opacity = U, R.fontWeight = K, R.fontStyle = Z, R.letterSpacing = `${ee}px`, R.lineHeight = `${te}px`;
        }
      }
      return R;
    }, v = ({ rowIndex: M }) => {
      const A = {}, L = e.node.rowBackground, R = L[M % L.length];
      return R && (A.backgroundColor = `${R.backgroundColor}`, A.border = "3px solid", A.backgroundSize = "100% 100%", A.backgroundRepeat = "no-repeat"), A;
    }, y = () => {
      const { fontFamily: M, color: A, fontSize: L, fontWeight: R, fontStyle: E, letterSpacing: B, lineHeight: W, opacity: z } = e.node.headerStyle.textStyle, V = {
        height: `${W}px`,
        background: "",
        color: A,
        fontFamily: M,
        fontSize: `${L}px`,
        opacity: z / 100,
        fontWeight: R,
        fontStyle: E,
        letterSpacing: `${B}px`,
        // lineHeight: `${lineHeight}px`,
        textAlign: e.node.bodyTextAlign
      };
      if (e.node.headerStyle) {
        const { backgroundShow: q, backgroundColor: U, backgroundImage: K } = e.node.headerStyle;
        q && K && (V.background += `url(${JSON.stringify(K)})`, V.backgroundSize = "100% 100%"), V.background += `no-repeat center bottom, linear-gradient(90deg, ${U.color1} 0%, ${U.color2} 100%) !important`;
      }
      return V;
    }, S = ({ column: M, columnIndex: A }) => {
      const { fontFamily: L, color: R, fontSize: E, fontWeight: B, fontStyle: W, letterSpacing: z, opacity: V } = e.node.headerStyle.textStyle, q = {
        color: R,
        fontFamily: L,
        fontSize: `${E}px`,
        opacity: V / 100,
        fontWeight: B,
        fontStyle: W,
        letterSpacing: `${z}px`
      };
      M.property && M.property === "index" ? q.textAlign = e.node.indexStyle.textStyle.textAlign : M.property && M.property === "action" ? q.textAlign = "center" : q.textAlign = e.node.bodyTextAlign;
      const U = e.node.column[A - 1];
      if (U != null && U.textStyle) {
        const { offsetX: K, offsetY: Z } = U.textStyle;
        q.transform = `translate3d(${K}px, ${Z}px, 0px)`;
      }
      return q;
    }, b = Q(), _ = Q(-1), w = Q(-1), T = ({ type: M, scrollSpeed: A, waitTime: L }) => {
      if (C(), b.value.setScrollTop(0), !e.node.scroll.show) return;
      const R = b.value.$el, E = R.querySelector(".el-scrollbar__wrap"), B = R.querySelector(".el-scrollbar__view"), W = B.querySelectorAll(".el-table__body tbody .el-table__row");
      if (M === "rowScroll") {
        E.style.scrollBehavior = "smooth";
        let z = 0;
        _.value = setInterval(() => {
          if (E.scrollHeight === E.offsetHeight)
            return;
          const q = W[z].offsetHeight;
          E.scrollTop + E.offsetHeight < B.scrollHeight ? (z++, z > W.length - 1 && (z = W.length - 1), b.value.setScrollTop(E.scrollTop + q)) : (z = 0, b.value.setScrollTop(0));
        }, L);
      } else {
        let z = function() {
          const V = e.node.editor.refreshRate || 60, q = V > 0 ? 60 / V : 1, U = E.scrollTop, K = B.scrollHeight - E.offsetHeight - U, Z = 1 / A * K * 400 * q;
          let ee = null;
          cancelAnimationFrame(w.value);
          function te(re) {
            ee || (ee = re);
            const xe = re - ee, ge = Math.min(xe / Z, 1);
            b.value.setScrollTop(U + K * ge), xe < Z ? w.value = requestAnimationFrame(te) : (b.value.setScrollTop(0), z());
          }
          w.value = requestAnimationFrame(te);
        };
        if (E.style.scrollBehavior = "auto", A < 0 && (A = 1), E.scrollHeight === E.offsetHeight)
          return;
        z();
      }
    }, C = () => {
      clearInterval(_.value), _.value = -1, cancelAnimationFrame(w.value), w.value = -1;
    }, x = (M) => {
      console.log("handleClick ~ item:", M);
    }, { handleEvent: D, handleRequest: F, handleState: I, wrapperAttrs: P, combineStyle: O } = he(e.node), k = (M) => {
      r.value = M;
    }, $ = ({ isOn: M = !1 }) => {
      const A = M ? "on" : "off";
      e.node[A]({
        setData: k,
        request: F,
        state: I
      }), e.node.editor[A]({
        "refresh:rate": () => {
          T(e.node.scroll);
        }
      });
    };
    return le(() => {
      const M = b.value.$el.querySelector(".customer_table_header");
      m.value = parseInt(M.offsetHeight), F(), $({ isOn: !0 }), D("mounted", "");
    }), se(() => {
      $({ isOn: !1 }), C();
    }), (M, A) => {
      const L = be("el-table-column"), R = be("el-table");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(P), {
        onClick: A[1] || (A[1] = (E) => N(D)("click", E)),
        onDblclick: A[2] || (A[2] = (E) => N(D)("dblclick", E))
      }), [
        ne("div", {
          class: "widget-table",
          style: oe(N(O)),
          onMouseenter: C,
          onMouseleave: A[0] || (A[0] = (E) => T(M.node.scroll))
        }, [
          Fe(R, {
            style: oe(f.value),
            ref_key: "tableRef",
            ref: b,
            data: r.value,
            height: M.node.h,
            border: !1,
            "cell-style": g,
            "row-style": v,
            "header-cell-style": S,
            "header-row-style": y,
            "header-row-class-name": "customer_table_header"
          }, {
            default: Ct(() => {
              var E, B, W;
              return [
                (E = M.node.indexStyle) != null && E.show ? (j(), Ye(L, {
                  key: 0,
                  type: "index",
                  prop: "index",
                  label: (B = M.node.indexStyle) == null ? void 0 : B.title,
                  "header-align": M.node.indexStyle.textStyle.textAlign,
                  align: M.node.indexStyle.textStyle.textAlign,
                  width: (W = M.node.indexStyle) == null ? void 0 : W.width
                }, {
                  default: Ct(({ $index: z }) => [
                    ne("span", {
                      style: oe(h(z))
                    }, [
                      M.node.indexStyle.background.show && z < M.node.indexStyle.background.list.length ? (j(), G("div", {
                        key: 0,
                        class: "table-flex-box",
                        style: oe(d(z))
                      }, [
                        ne("span", null, Me(z + 1), 1)
                      ], 4)) : (j(), G("span", YR, Me(z + 1), 1))
                    ], 4)
                  ]),
                  _: 1
                }, 8, ["label", "header-align", "align", "width"])) : vt("", !0),
                (j(!0), G(Ne, null, ot(M.node.column, (z, V) => (j(), G(Ne, null, [
                  z.type === "text" ? (j(), Ye(L, {
                    "show-overflow-tooltip": z.textStyle.textEllipsis === "ellipsis",
                    key: V,
                    prop: z.prop,
                    fixed: z.fixed,
                    label: z.label,
                    minWidth: z.minWidth
                  }, null, 8, ["show-overflow-tooltip", "prop", "fixed", "label", "minWidth"])) : (j(), Ye(L, {
                    key: V + "action",
                    prop: "action",
                    fixed: z.fixed,
                    label: z.label,
                    "header-align": "center",
                    align: "center",
                    minWidth: z.minWidth,
                    maxWidth: "20%"
                  }, {
                    default: Ct((q) => [
                      ne("span", {
                        class: "table-flex-box",
                        style: oe(p(z)),
                        onClick: wo((U) => x({
                          ...q.row,
                          ...z
                        }), ["stop"])
                      }, [
                        ne("span", null, Me(z.buttonStyle.text), 1)
                      ], 12, GR)
                    ]),
                    _: 2
                  }, 1032, ["fixed", "label", "minWidth"]))
                ], 64))), 256))
              ];
            }),
            _: 1
          }, 8, ["style", "data", "height"])
        ], 36)
      ], 16);
    };
  }
}), JR = { key: 1 }, QR = ["onClick"], jv = "visWidgetTableScroll", eL = "轮播表", tL = "0.0.1", nL = /* @__PURE__ */ ue({
  name: jv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: jv, title: eL },
    version: tL,
    data: [
      {
        type1: "企业A",
        type2: "100 kWh",
        type3: "进行中"
      },
      {
        type1: "企业B",
        type2: "90 kWh",
        type3: "已完成"
      },
      {
        type1: "企业C",
        type2: "80 kWh",
        type3: "未完成"
      },
      {
        type1: "企业D",
        type2: "60 kWh",
        type3: "进行中"
      },
      {
        type1: "企业E",
        type2: "50 kWh",
        type3: "已完成"
      },
      {
        type1: "企业F",
        type2: "58 kWh",
        type3: "未完成"
      },
      {
        type1: "企业G",
        type2: "52 kWh",
        type3: "未完成"
      },
      {
        type1: "企业H",
        type2: "40 kWh",
        type3: "未完成"
      }
    ],
    // 表体背景颜色
    bodyBackground: "rgba(199, 21, 133, 0)",
    // 表体文字对齐
    bodyTextAlign: "justify",
    // 格式化
    valueFormatter: (t) => t.value,
    // 列配置
    column: [
      {
        label: "名称",
        prop: "type1",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !1,
        textStyleCustom: []
      },
      {
        label: "数值",
        prop: "type2",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !1,
        textStyleCustom: []
      },
      {
        label: "状态",
        prop: "type3",
        minWidth: 80,
        type: "text",
        dataType: "string",
        textStyle: {
          fontFamily: "",
          color: "#CEDBEC",
          fontSize: 14,
          opacity: 100,
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 34,
          offsetX: 0,
          offsetY: 0,
          textEllipsis: "ellipsis"
        },
        buttonStyle: {
          show: !0,
          text: "查看",
          width: 42,
          height: 22,
          backgroundImage: "/resource/componentConfig/svg/button.svg"
        },
        textStyleCustomEnable: !0,
        textStyleCustom: [
          {
            customField: "未完成",
            textStyle: {
              fontFamily: "",
              color: "#E46151",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          },
          {
            customField: "进行中",
            textStyle: {
              fontFamily: "",
              color: "#49AAFF",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          },
          {
            customField: "已完成",
            textStyle: {
              fontFamily: "",
              color: "#00D68A",
              fontSize: 14,
              opacity: 100,
              fontWeight: "normal",
              fontStyle: "normal",
              letterSpacing: 0,
              lineHeight: 34
            }
          }
        ]
      }
    ],
    // 显示序号
    indexStyle: {
      show: !0,
      title: "排序",
      width: 80,
      offsetX: 0,
      offsetY: 0,
      textStyle: {
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        opacity: 100,
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 34,
        textAlign: "center"
      },
      background: {
        show: !0,
        list: [
          {
            width: 36,
            height: 14,
            backgroundImage: "/resource/componentConfig/svg/rectangle1.svg"
          },
          {
            width: 36,
            height: 14,
            backgroundImage: "/resource/componentConfig/svg/rectangle2.svg"
          },
          {
            width: 36,
            height: 14,
            backgroundImage: "/resource/componentConfig/svg/rectangle3.svg"
          }
        ]
      }
    },
    // 表头样式
    headerStyle: {
      show: !0,
      // 表头背景
      backgroundShow: !1,
      backgroundColor: {
        color1: "rgba(46,69,109,0.65)",
        color2: "rgba(46,69,109,0.65)"
      },
      backgroundImage: "",
      textStyle: {
        fontFamily: "",
        color: "#ffffff",
        fontSize: 14,
        opacity: 100,
        textDecoration: "none",
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 34,
        textAlign: "center"
      }
    },
    // 行背景色
    rowBackground: [
      {
        backgroundColor: "#06182F",
        borderColor: "rgba(36,57,95,0.65)"
      },
      {
        backgroundColor: "#0D2039",
        borderColor: "rgba(36,57,95,0.65)"
      }
    ],
    scroll: {
      show: !0,
      // 是否滚动
      type: "rowScroll",
      waitTime: 1e3,
      // 轮播时间
      scrollSpeed: 4
      // 滚动速度
    },
    stateIndex: 0,
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 420,
    h: 220
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const M = {
          data: e.node.data,
          otherData: e.otherData,
          column: e.node.column,
          type: "chart"
        };
        return n(M);
      },
      set: (M) => {
        e.node.data = M;
      }
    }), o = Co(() => {
      b.value.doLayout();
    }, 100), a = H(() => e.node.w), i = H(() => e.node.h);
    ve([a, i], () => {
      o();
    });
    const s = H(() => e.node.scroll.show), l = H(() => e.node.scroll.waitTime), u = H(() => e.node.scroll.scrollSpeed || 1), c = H(() => e.node.scroll.type);
    ve(
      [s, l, u, c],
      () => {
        Se(() => {
          b.value.doLayout(), T(e.node.scroll);
        });
      },
      { immediate: !0 }
    );
    const f = H(() => ({
      borderWidth: `${e.node.borderWidth}px`,
      borderColor: `${e.node.borderColor}`,
      backgroundColor: `${e.node.bodyBackground} !important`
    })), h = (M) => {
      var E;
      const A = {
        display: "inline-block"
      }, L = e.node.indexStyle;
      if (L != null && L.textStyle) {
        A.transform = `translate3d(${L.offsetX}px, ${L.offsetY}px, 0px)`;
        const { fontFamily: B, color: W, fontSize: z, opacity: V, fontWeight: q, fontStyle: U, letterSpacing: K, lineHeight: Z } = (E = e.node.indexStyle) == null ? void 0 : E.textStyle;
        A.fontFamily = B, A.color = W, A.fontSize = `${z}px`, A.opacity = V, A.fontWeight = q, A.fontStyle = U, A.letterSpacing = `${K}px`, A.lineHeight = `${Z}px`;
      }
      const R = e.node.indexStyle.background.list;
      if (M < R.length) {
        const { width: B, height: W } = R[M];
        A.width = `${Math.max(B, W)}px`, A.height = `${Math.max(B, W)}px`;
      }
      return A;
    }, d = (M) => {
      const A = e.node.indexStyle.background.list;
      if (M < A.length) {
        const { width: L, height: R, backgroundImage: E } = A[M];
        return {
          backgroundRepeat: "no-repeat",
          backgroundSize: `${L}px ${R}px`,
          backgroundImage: `url(${JSON.stringify(E)})`,
          backgroundPosition: "center center",
          width: `${Math.max(L, R)}px`,
          height: `${Math.max(L, R)}px`
        };
      }
      return {};
    }, p = (M) => {
      const { show: A, width: L, height: R, backgroundImage: E } = M.buttonStyle;
      return A ? {
        display: "inline-flex",
        backgroundRepeat: "no-repeat",
        backgroundSize: `${L}px ${R}px`,
        backgroundImage: `url(${JSON.stringify(E)})`,
        backgroundPosition: "center center",
        width: `${L}px`,
        height: `${R}px`
      } : {};
    }, m = Q(0), g = ({ row: M, column: A, columnIndex: L }) => {
      var B;
      const R = {
        padding: 0,
        fontSize: "14px",
        color: "#CEDBEC"
      };
      A.property && A.property === "index" ? R.textAlign = e.node.indexStyle.textStyle.textAlign : A.property && A.property === "action" ? R.textAlign = "center" : R.textAlign = e.node.bodyTextAlign;
      const E = e.node.column[L - 1];
      if (E != null && E.textStyle) {
        const { fontFamily: W, color: z, fontSize: V, opacity: q, fontWeight: U, fontStyle: K, letterSpacing: Z, lineHeight: ee, offsetX: te, offsetY: re } = E.textStyle;
        R.fontFamily = W, R.color = z, R.fontSize = `${V}px`, R.opacity = q, R.fontWeight = U, R.fontStyle = K, R.letterSpacing = `${Z}px`, R.lineHeight = `${ee}px`, R.transform = `translate3d(${te}px, ${re}px, 0px)`;
      }
      if ((B = E == null ? void 0 : E.textStyleCustom) != null && B.length && (E != null && E.textStyleCustomEnable)) {
        const W = E.textStyleCustom.find((z) => z.customField === M[E.prop]);
        if (W) {
          const { fontFamily: z, color: V, fontSize: q, opacity: U, fontWeight: K, fontStyle: Z, letterSpacing: ee, lineHeight: te } = W.textStyle;
          R.fontFamily = z, R.color = V, R.fontSize = `${q}px`, R.opacity = U, R.fontWeight = K, R.fontStyle = Z, R.letterSpacing = `${ee}px`, R.lineHeight = `${te}px`;
        }
      }
      return R;
    }, v = ({ rowIndex: M }) => {
      const A = {}, L = e.node.rowBackground, R = L[M % L.length];
      return R && (A.backgroundColor = `${R.backgroundColor}`, A.border = "3px solid", A.backgroundSize = "100% 100%", A.backgroundRepeat = "no-repeat"), A;
    }, y = () => {
      const { fontFamily: M, color: A, fontSize: L, fontWeight: R, fontStyle: E, letterSpacing: B, lineHeight: W, opacity: z } = e.node.headerStyle.textStyle, V = {
        height: `${W}px`,
        background: "",
        color: A,
        fontFamily: M,
        fontSize: `${L}px`,
        opacity: z / 100,
        fontWeight: R,
        fontStyle: E,
        letterSpacing: `${B}px`,
        textAlign: e.node.bodyTextAlign
      };
      if (e.node.headerStyle) {
        const { backgroundShow: q, backgroundColor: U, backgroundImage: K } = e.node.headerStyle;
        q && K && (V.background += `url(${JSON.stringify(K)})`, V.backgroundSize = "100% 100%"), V.background += `no-repeat center bottom, linear-gradient(90deg, ${U.color1} 0%, ${U.color2} 100%) !important`;
      }
      return V;
    }, S = ({ column: M, columnIndex: A }) => {
      const { fontFamily: L, color: R, fontSize: E, fontWeight: B, fontStyle: W, letterSpacing: z, opacity: V } = e.node.headerStyle.textStyle, q = {
        color: R,
        fontFamily: L,
        fontSize: `${E}px`,
        opacity: V / 100,
        fontWeight: B,
        fontStyle: W,
        letterSpacing: `${z}px`
      };
      M.property && M.property === "index" ? q.textAlign = e.node.indexStyle.textStyle.textAlign : M.property && M.property === "action" ? q.textAlign = "center" : q.textAlign = e.node.bodyTextAlign;
      const U = e.node.column[A - 1];
      if (U != null && U.textStyle) {
        const { offsetX: K, offsetY: Z } = U.textStyle;
        q.transform = `translate3d(${K}px, ${Z}px, 0px)`;
      }
      return q;
    }, b = Q(), _ = Q(-1), w = Q(-1), T = ({ type: M, scrollSpeed: A, waitTime: L }) => {
      if (C(), b.value.setScrollTop(0), !e.node.scroll.show) return;
      const R = b.value.$el, E = R.querySelector(".el-scrollbar__wrap"), B = R.querySelector(".el-scrollbar__view"), W = B.querySelectorAll(".el-table__body tbody .el-table__row");
      if (M === "rowScroll") {
        E.style.scrollBehavior = "smooth";
        let z = 0;
        _.value = setInterval(() => {
          if (E.scrollHeight === E.offsetHeight)
            return;
          const q = W[z].offsetHeight;
          E.scrollTop + E.offsetHeight < B.scrollHeight ? (z++, z > W.length - 1 && (z = W.length - 1), b.value.setScrollTop(E.scrollTop + q)) : (z = 0, b.value.setScrollTop(0));
        }, L);
      } else {
        let z = function() {
          const V = e.node.editor.refreshRate || 60, q = V > 0 ? 60 / V : 1, U = E.scrollTop, K = B.scrollHeight - E.offsetHeight - U, Z = 1 / A * K * 400 * q;
          let ee = null;
          cancelAnimationFrame(w.value);
          function te(re) {
            ee || (ee = re);
            const xe = re - ee, ge = Math.min(xe / Z, 1);
            b.value.setScrollTop(U + K * ge), xe < Z ? w.value = requestAnimationFrame(te) : setTimeout(() => {
              b.value.setScrollTop(0), z();
            }, 300);
          }
          w.value = requestAnimationFrame(te);
        };
        if (E.style.scrollBehavior = "auto", A < 0 && (A = 1), E.scrollHeight === E.offsetHeight)
          return;
        z();
      }
    }, C = () => {
      clearInterval(_.value), _.value = -1, cancelAnimationFrame(w.value), w.value = -1;
    }, x = (M) => {
      console.log("handleClick ~ item:", M);
    }, { handleEvent: D, handleRequest: F, handleState: I, wrapperAttrs: P, combineStyle: O } = he(e.node), k = (M) => {
      r.value = M;
    }, $ = ({ isOn: M = !1 }) => {
      const A = M ? "on" : "off";
      e.node[A]({
        setData: k,
        request: F,
        state: I
      }), e.node.editor[A]({
        "refresh:rate": () => {
          T(e.node.scroll);
        }
      });
    };
    return le(() => {
      const M = b.value.$el.querySelector(".customer_table_header");
      m.value = parseInt(M.offsetHeight), F(), $({ isOn: !0 }), D("mounted", "");
    }), se(() => {
      $({ isOn: !1 }), C();
    }), (M, A) => {
      const L = be("el-table-column"), R = be("el-table");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(P), {
        onClick: A[1] || (A[1] = (E) => N(D)("click", E)),
        onDblclick: A[2] || (A[2] = (E) => N(D)("dblclick", E))
      }), [
        ne("div", {
          class: "widget-table",
          style: oe(N(O)),
          onMouseenter: C,
          onMouseleave: A[0] || (A[0] = (E) => T(M.node.scroll))
        }, [
          Fe(R, {
            style: oe(f.value),
            ref_key: "tableRef",
            ref: b,
            data: r.value,
            height: M.node.h,
            "cell-style": g,
            "row-style": v,
            "header-cell-style": S,
            "header-row-style": y,
            "header-row-class-name": "customer_table_header"
          }, {
            default: Ct(() => {
              var E, B, W;
              return [
                (E = M.node.indexStyle) != null && E.show ? (j(), Ye(L, {
                  key: 0,
                  type: "index",
                  prop: "index",
                  label: (B = M.node.indexStyle) == null ? void 0 : B.title,
                  "header-align": M.node.indexStyle.textStyle.textAlign,
                  align: M.node.indexStyle.textStyle.textAlign,
                  width: (W = M.node.indexStyle) == null ? void 0 : W.width
                }, {
                  default: Ct(({ $index: z }) => [
                    ne("span", {
                      style: oe(h(z))
                    }, [
                      M.node.indexStyle.background.show && z < M.node.indexStyle.background.list.length ? (j(), G("div", {
                        key: 0,
                        class: "table-flex-box",
                        style: oe(d(z))
                      }, [
                        ne("span", null, Me(z + 1), 1)
                      ], 4)) : (j(), G("span", JR, Me(z + 1), 1))
                    ], 4)
                  ]),
                  _: 1
                }, 8, ["label", "header-align", "align", "width"])) : vt("", !0),
                (j(!0), G(Ne, null, ot(M.node.column, (z, V) => (j(), G(Ne, null, [
                  z.type === "text" ? (j(), Ye(L, {
                    "show-overflow-tooltip": z.textStyle.textEllipsis === "ellipsis",
                    key: V,
                    prop: z.prop,
                    fixed: z.fixed,
                    label: z.label,
                    minWidth: z.minWidth
                  }, null, 8, ["show-overflow-tooltip", "prop", "fixed", "label", "minWidth"])) : (j(), Ye(L, {
                    key: V + "action",
                    prop: "action",
                    fixed: z.fixed,
                    label: z.label,
                    "header-align": "center",
                    align: "center",
                    minWidth: z.minWidth,
                    maxWidth: "20%"
                  }, {
                    default: Ct((q) => [
                      ne("span", {
                        class: "table-flex-box",
                        style: oe(p(z)),
                        onClick: wo((U) => x({
                          ...q.row,
                          ...z
                        }), ["stop"])
                      }, [
                        ne("span", null, Me(z.buttonStyle.text), 1)
                      ], 12, QR)
                    ]),
                    _: 2
                  }, 1032, ["fixed", "label", "minWidth"]))
                ], 64))), 256))
              ];
            }),
            _: 1
          }, 8, ["style", "data", "height"])
        ], 36)
      ], 16);
    };
  }
}), Uv = "visWidgetGroup", rL = "组合", oL = "0.0.1", aL = /* @__PURE__ */ ue({
  name: Uv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Uv, title: rL },
    version: oL,
    subEventTrigger: !1,
    w: 100,
    h: 100,
    x: 0,
    y: 0,
    objects: []
  },
  __name: "index",
  props: {
    node: {}
  },
  setup(t) {
    const e = t, n = H({
      get: () => e.node.data,
      set: (l) => {
        e.node.data = l;
      }
    }), { handleEvent: r, handleRequest: o, handleState: a, wrapperAttrs: i } = he(e.node), s = (l) => {
      n.value = l;
    };
    return le(() => {
      o(), e.node.on({
        setData: s,
        request: o,
        state: a
      }), r("mounted", "");
    }), se(() => {
      e.node.off({
        setData: s,
        request: o,
        state: a
      });
    }), (l, u) => (j(), G("g", ce({ class: "editor-component-item" }, N(i), {
      onClick: u[0] || (u[0] = (c) => N(r)("click", c)),
      onDblclick: u[1] || (u[1] = (c) => N(r)("dblclick", c))
    }), [
      (j(!0), G(Ne, null, ot(l.node.objects, (c) => (j(), Ye(ia(c.component.name), {
        node: c,
        key: c.id
      }, null, 8, ["node"]))), 128))
    ], 16));
  }
});
Date.now || (Date.now = function() {
  return (/* @__PURE__ */ new Date()).getTime();
});
(function() {
  const t = ["webkit", "moz"];
  for (let e = 0; e < t.length && !window.requestAnimationFrame; ++e) {
    const n = t[e];
    window.requestAnimationFrame = window[n + "RequestAnimationFrame"], window.cancelAnimationFrame = window[n + "CancelAnimationFrame"] || window[n + "CancelRequestAnimationFrame"];
  }
  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || // iOS6 is buggy
  !window.requestAnimationFrame || !window.cancelAnimationFrame) {
    let e = 0;
    window.requestAnimationFrame = function(n) {
      const r = Date.now(), o = Math.max(e + 16, r);
      return setTimeout(function() {
        n(e = o);
      }, o - r);
    }, window.cancelAnimationFrame = clearTimeout;
  }
})();
const iL = {
  key: 2,
  class: "preview-btn-box"
}, Yv = "visWidgetGrid", sL = "栅格列表", lL = "0.0.1", uL = /* @__PURE__ */ ue({
  name: Yv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Yv, title: sL },
    version: lL,
    moreRow: !1,
    scroll: {
      show: !0,
      type: "rowScroll",
      waitTime: 1,
      scrollSpeed: 1,
      scrollNum: 1
      // 单次滚动个数(行/列)
    },
    columnNumber: 2,
    marginX: 4,
    marginY: 4,
    // 滚动条主题色
    isWhiteScroll: !1,
    subEventTrigger: !1,
    w: 200,
    h: 100,
    objects: []
  },
  __name: "index",
  props: {
    node: {}
  },
  setup(t) {
    const e = t, n = H({
      get: () => e.node.data,
      set: (L) => {
        e.node.data = L;
      }
    }), r = H(() => 24 / e.node.columnNumber), o = H(() => e.node.moreRow), a = H(() => e.node.isWhiteScroll), i = H(() => e.node.scroll.show), s = H(() => e.node.scroll.type), l = H(() => e.node.scroll.waitTime), u = H(() => e.node.scroll.scrollSpeed || 1), c = H(() => e.node.scroll.scrollNum || 1), f = Q(!1), h = Q(!1), d = Q(0), p = Q(0), m = Q(0), g = Q(0), v = Q(0), y = H(() => ({
      width: `${g.value}px`,
      height: `${v.value}px`,
      style: {
        marginLeft: o.value ? "" : `${e.node.marginX}px`,
        marginTop: o.value ? `${e.node.marginY}px` : ""
      }
    })), S = () => {
      f.value = !f.value;
    }, b = (L) => {
      L.preventDefault(), L.stopPropagation();
    }, _ = (L) => {
      L.preventDefault(), L.dataTransfer && (L.dataTransfer.dropEffect = "copy");
    };
    ve(f, (L) => {
      L && i.value && x();
    }), ve(
      () => e.node.scroll,
      (L) => {
        if (h.value && L) {
          x();
          return;
        }
        if (f.value && L) {
          x();
          return;
        }
        P();
      },
      {
        deep: !0
      }
    );
    const w = () => {
      const L = e.node.objects, R = e.node.editor.util.getBoundingRect(L);
      g.value = R.w, v.value = R.h, h.value = window.location.href.includes("preview");
    }, T = Q(), C = Q(), x = () => {
      Se(() => {
        w();
        const L = document.querySelector(".svg-group-box");
        L && (p.value = L.clientWidth, m.value = L.clientHeight, P(), D({
          show: i.value,
          type: s.value,
          scrollSpeed: u.value,
          waitTime: l.value
        }));
      });
    }, D = ({ show: L, type: R, scrollSpeed: E, waitTime: B }) => {
      L && i.value && (o.value ? I({ type: R, scrollSpeed: E, waitTime: B }) : F({ type: R, scrollSpeed: E, waitTime: B }));
    }, F = ({ type: L, scrollSpeed: R, waitTime: E }) => {
      const B = C.value;
      B.scrollLeft = 0;
      let W = R;
      const z = e.node.marginX;
      L === "rowScroll" ? (B.style.scrollBehavior = "smooth", W = (p.value + z) * c.value) : B.style.scrollBehavior = "smooth";
      const V = () => {
        clearTimeout(d.value), d.value = 0, d.value = setTimeout(() => {
          const q = B.scrollWidth, U = B.clientWidth, K = Math.ceil(B.scrollLeft);
          K < q - U ? q - U - (K + W) < W / 3 ? B.scrollLeft = q - U : B.scrollLeft += W : B.scrollLeft = 0, window.requestAnimationFrame(V);
        }, E);
      };
      window.requestAnimationFrame(V);
    }, I = ({ type: L, scrollSpeed: R, waitTime: E }) => {
      const B = T.value.$el;
      if (B.scrollTop = 0, !i.value) return;
      let W = R;
      const z = e.node.marginY;
      L === "rowScroll" ? (B.style.scrollBehavior = "smooth", W = (m.value + z) * c.value) : B.style.scrollBehavior = "auto";
      let V = !0;
      const q = () => {
        clearTimeout(d.value), d.value = 0, d.value = setTimeout(() => {
          const U = B.scrollHeight, K = B.clientHeight, Z = Math.ceil(B.scrollTop);
          Z < U - K ? (U - K - (Z + W) < W / 3 ? B.scrollTop = U - K : B.scrollTop += V ? W + z : W, V = !1) : (B.scrollTop = 0, V = !0), window.requestAnimationFrame(q);
        }, E);
      };
      window.requestAnimationFrame(q);
    }, P = () => {
      clearTimeout(d.value), d.value = 0;
    }, { handleEvent: O, handleRequest: k, handleState: $, wrapperAttrs: M } = he(e.node), A = (L) => {
      n.value = L;
    };
    return le(() => {
      w(), k(), e.node.on({
        setData: A,
        request: k,
        state: $
      }), O("mounted", "");
    }), se(() => {
      e.node.off({
        setData: A,
        request: k,
        state: $
      });
    }), (L, R) => {
      const E = be("el-col"), B = be("el-row");
      return j(), G("foreignObject", ce({ class: "grid_layout" }, N(M), {
        onClick: R[2] || (R[2] = (W) => N(O)("click", W)),
        onDblclick: R[3] || (R[3] = (W) => N(O)("dblclick", W))
      }), [
        h.value || f.value ? (j(), G("div", {
          key: 0,
          class: "grid_content",
          onMouseenter: P,
          onMouseleave: x
        }, [
          o.value ? (j(), Ye(B, {
            key: 0,
            ref_key: "gridWrapRef",
            ref: T,
            class: Jn(["grid-wrap", { "white-scroll": a.value }])
          }, {
            default: Ct(() => [
              (j(!0), G(Ne, null, ot(n.value, (W, z) => (j(), Ye(E, {
                span: r.value,
                key: z
              }, {
                default: Ct(() => [
                  (j(), G("svg", ce({
                    class: "svg-group-box",
                    ref_for: !0
                  }, y.value), [
                    (j(!0), G(Ne, null, ot(L.node.objects, (V) => (j(), Ye(ia(V.component.name), {
                      inner: !0,
                      ref_for: !0,
                      ref: "listItem_" + z,
                      node: V,
                      otherData: W
                    }, null, 8, ["node", "otherData"]))), 256))
                  ], 16))
                ]),
                _: 2
              }, 1032, ["span"]))), 128)),
              R[4] || (R[4] = ne("div", { class: "preview-mask" }, null, -1))
            ]),
            _: 1
          }, 8, ["class"])) : (j(), G("div", {
            key: 1,
            ref_key: "gridContianerRef",
            ref: C,
            class: Jn(["grid-container", { "white-scroll": a.value }])
          }, [
            (j(!0), G(Ne, null, ot(L.node.data, (W, z) => (j(), G("svg", ce({
              class: "svg-group-box",
              ref_for: !0
            }, y.value, { key: z }), [
              (j(!0), G(Ne, null, ot(L.node.objects, (V) => (j(), Ye(ia(V.component.name), {
                ref_for: !0,
                ref: "listItem_" + z,
                node: V,
                otherData: W
              }, null, 8, ["node", "otherData"]))), 256))
            ], 16))), 128))
          ], 2))
        ], 32)) : (j(), G("svg", {
          key: 1,
          class: "grid_content",
          onDrop: b,
          onDragover: _
        }, [
          ne("g", {
            class: "editor-component-item",
            onClick: R[0] || (R[0] = (W) => N(O)("click", W)),
            onDblclick: R[1] || (R[1] = (W) => N(O)("dblclick", W))
          }, [
            (j(!0), G(Ne, null, ot(L.node.objects, (W) => (j(), Ye(ia(W.component.name), {
              node: W,
              key: W.id
            }, null, 8, ["node"]))), 128))
          ], 32)
        ], 32)),
        h.value ? vt("", !0) : (j(), G("div", iL, [
          ne("div", {
            class: "preview-btn",
            onClick: wo(S, ["stop"])
          }, Me(f.value ? "关闭预览" : "预览效果"), 1)
        ]))
      ], 16);
    };
  }
}), Gv = "visWidgetChartGaugeProgress", cL = "进度仪表盘", fL = "0.0.1", dL = /* @__PURE__ */ ue({
  name: Gv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Gv, title: cL },
    version: fL,
    w: 200,
    h: 200,
    data: [
      {
        title: "仪表盘",
        value: 88,
        unit: "%"
      }
    ],
    // 数据映射
    dataFieldMap: [
      {
        fieldName: "title",
        fieldAlias: "",
        fieldDesc: "标题",
        dataType: "string"
      },
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "进度",
        dataType: "number"
      },
      {
        fieldName: "unit",
        fieldAlias: "",
        fieldDesc: "单位",
        dataType: "string"
      }
    ],
    chartOption: {
      legend: J("gaugeLegend", {}),
      radius: 75,
      barWidth: 14,
      activeProgress: {
        color1: "rgba(115,208,224,0.25)",
        color2: "rgba(115,208,224,1)"
      },
      backProgress: {
        color: "rgba(255, 255, 255, 0.08)"
      },
      textStyle: {
        shadowStyle: {
          show: !0,
          horizontal: 0,
          vertical: 0,
          blur: 16,
          color: "#0B99F0"
        },
        valueStyle: {
          fontSize: 40,
          textAlign: "right",
          fontFamily: "",
          color: "#ffffff",
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 30,
          offsetX: 0,
          offsetY: 0
        },
        unitStyle: {
          show: !0,
          flowValueStyle: !1,
          fontFamily: "",
          color: "#fff",
          fontSize: 14,
          opacity: 100,
          textAlign: "right",
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 30,
          offsetX: 0,
          offsetY: 14
        }
      },
      tickStyle: {
        show: !0,
        width: 1,
        color: "#5A636F"
      },
      splitStyle: {
        show: !0,
        width: 1,
        color: "#E6E8EA"
      }
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const m = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(m);
      },
      set: (m) => {
        e.node.data = m;
      }
    }), o = H(() => e.node.chartOption);
    ve(
      [r, o, e.node.dataFieldMap],
      () => {
        Se(() => {
          d();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const a = Q({}), { handleEvent: i, handleRequest: s, handleState: l, wrapperAttrs: u } = he(e.node), c = () => {
      const { activeProgress: m, legend: g } = o.value;
      return {
        ...g,
        itemStyle: {
          color: {
            // 图形渐变颜色方法，四个数字分别代表，右，下，左，上，offset表示0%到100%
            type: "linear",
            x: 0,
            y: 0,
            x2: 1,
            // 从左到右 0-1
            y2: 0,
            colorStops: [
              {
                offset: 0,
                color: m.color1
              },
              {
                offset: 1,
                color: m.color2
              }
            ]
          }
        }
      };
    }, f = () => {
      const { radius: m, barWidth: g, activeProgress: v, backProgress: y, tickStyle: S, splitStyle: b, textStyle: _ } = o.value, w = r.value, { valpha: T } = new $e(_.valueStyle.color), { valpha: C } = new $e(_.unitStyle.color), x = [
        {
          type: "gauge",
          name: w.title,
          radius: `${m}%`,
          z: 1,
          splitNumber: 4,
          progress: {
            show: !0,
            width: g,
            itemStyle: {
              color: {
                // 图形渐变颜色方法，四个数字分别代表，右，下，左，上，offset表示0%到100%
                type: "linear",
                x: 0,
                y: 0,
                x2: 1,
                // 从左到右 0-1
                y2: 1,
                colorStops: [
                  {
                    offset: 0,
                    color: v.color1
                  },
                  {
                    offset: 1,
                    color: v.color2
                  }
                ]
              }
            }
          },
          pointer: { show: !1 },
          axisLine: {
            lineStyle: {
              width: g,
              color: [[1, y.color]]
            }
          },
          axisTick: {
            distance: -30,
            show: S.show,
            lineStyle: {
              width: S.width,
              color: S.color
            }
          },
          splitLine: {
            show: !1
          },
          axisLabel: {
            show: !1
          },
          anchor: {
            show: !1
          },
          title: {
            show: !1
          },
          detail: {
            valueAnimation: !0,
            formatter: function(D) {
              const F = D.toFixed(0), I = sn(F, _.valueStyle.letterSpacing), P = sn(w.unit, _.unitStyle.letterSpacing);
              return _.unitStyle.show ? "{value|" + I + "}{unit| " + P + "}" : "{value|" + I + "}";
            },
            offsetCenter: [0, "5%"],
            fontSize: 14,
            rich: {
              value: {
                ..._.valueStyle,
                opacity: T,
                padding: [_.valueStyle.offsetY, 0, 0, _.valueStyle.offsetX]
              },
              unit: {
                ..._.unitStyle,
                opacity: C,
                padding: [_.unitStyle.offsetY, 0, 0, _.unitStyle.offsetX]
              }
            }
          },
          data: [
            {
              value: w.value || 0
            }
          ]
        },
        {
          type: "gauge",
          radius: `${m}%`,
          z: 2,
          splitNumber: 4,
          pointer: { show: !1 },
          axisLine: {
            show: !1
          },
          axisTick: {
            show: !1
          },
          splitLine: {
            show: S.show,
            distance: -40 + g,
            length: 10,
            lineStyle: {
              width: S.width,
              color: b.color
            }
          },
          axisLabel: {
            show: !1,
            distance: 25,
            color: "red",
            fontSize: 20
          },
          title: {
            show: !1
          }
        }
      ];
      return _.unitStyle.flowValueStyle && (x[0].detail.rich.unit = x[0].detail.rich.value), _.shadowStyle.show ? (x[0].detail.textShadowColor = _.shadowStyle.color, x[0].detail.textShadowBlur = _.shadowStyle.blur, x[0].detail.textShadowOffsetX = _.shadowStyle.horizontal, x[0].detail.textShadowOffsetY = _.shadowStyle.vertical) : x[0].detail.textShadowColor = "rgba(0, 0, 0, 0)", x;
    }, h = Q(), d = () => {
      const m = {
        legend: c(),
        series: f()
      };
      a.value = m;
    }, p = (m) => {
      r.value = m, d();
    };
    return le(() => {
      s(), e.node.on({
        setData: p,
        request: s,
        state: l,
        updateChart: d
      }), i("mounted", "");
    }), se(() => {
      e.node.off({
        setData: p,
        request: s,
        state: l,
        updateChart: d
      });
    }), (m, g) => {
      const v = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(u), {
        onClick: g[0] || (g[0] = (y) => N(i)("click", y)),
        onDblclick: g[1] || (g[1] = (y) => N(i)("dblclick", y))
      }), [
        Fe(v, {
          ref_key: "chartRef",
          ref: h,
          option: a.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Xv = "visWidgetChartGaugePointer", hL = "指针仪表盘", pL = "0.0.1", vL = /* @__PURE__ */ ue({
  name: Xv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Xv, title: hL },
    version: pL,
    w: 200,
    h: 200,
    data: [
      {
        title: "仪表盘",
        value: 88,
        unit: "%"
      }
    ],
    // 数据映射
    dataFieldMap: [
      {
        fieldName: "title",
        fieldAlias: "",
        fieldDesc: "标题",
        dataType: "string"
      },
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "进度",
        dataType: "number"
      },
      {
        fieldName: "unit",
        fieldAlias: "",
        fieldDesc: "单位",
        dataType: "string"
      }
    ],
    chartOption: {
      legend: J("gaugeLegend", {}),
      radius: 75,
      barWidth: 14,
      activeProgress: {
        color1: "rgba(99,255,189,0.25)",
        color2: "rgba(99,255,189,1)"
      },
      backProgress: {
        color: "rgba(255, 255, 255, 0.08)"
      },
      textStyle: {
        shadowStyle: {
          show: !0,
          horizontal: 0,
          vertical: 0,
          blur: 16,
          color: "#0B99F0"
        },
        valueStyle: {
          fontSize: 32,
          textAlign: "right",
          fontFamily: "",
          color: "#fff",
          opacity: 100,
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 30,
          offsetX: 0,
          offsetY: 0
        },
        unitStyle: {
          show: !0,
          flowValueStyle: !1,
          fontFamily: "",
          color: "#fff",
          fontSize: 14,
          opacity: 100,
          textAlign: "right",
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 30,
          offsetX: 0,
          offsetY: 10
        }
      },
      tickStyle: {
        show: !1,
        width: 1,
        color: "#5A636F"
      },
      splitStyle: {
        show: !0,
        length: 6,
        width: 1,
        distance: -9,
        color: "#9BD3E2"
      },
      pointStyle: {
        show: !0,
        length: 75,
        width: 3,
        itemStyle: {
          color: "rgba(255,255,255,0.65)"
        },
        anchor: {
          size: 12,
          color: "#D8D8D8"
        }
      },
      axisLabelStyle: {
        show: !0,
        color: "#DEE8F1",
        fontSize: 12,
        fontFamily: "",
        opacity: 100,
        textAlign: "right",
        textDecoration: "none",
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 12,
        distance: -18
      }
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t;
    (() => {
      const { splitStyle: g } = e.node.chartOption;
      g.length === void 0 && (g.length = 6, g.distance = -9);
    })();
    const { getMappedData: r } = we(), o = H({
      get: () => {
        const g = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return r(g);
      },
      set: (g) => {
        e.node.data = g;
      }
    }), a = H(() => e.node.chartOption);
    ve(
      [o, a, e.node.dataFieldMap],
      () => {
        Se(() => {
          p();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const i = Q({}), { handleEvent: s, handleRequest: l, handleState: u, wrapperAttrs: c } = he(e.node), f = () => {
      const { activeProgress: g, legend: v } = a.value;
      return {
        ...v,
        itemStyle: {
          color: {
            // 图形渐变颜色方法，四个数字分别代表，右，下，左，上，offset表示0%到100%
            type: "linear",
            x: 0,
            y: 0,
            x2: 1,
            // 从左到右 0-1
            y2: 0,
            colorStops: [
              {
                offset: 0,
                color: g.color1
              },
              {
                offset: 1,
                color: g.color2
              }
            ]
          }
        }
      };
    }, h = () => {
      const g = o.value, { radius: v, barWidth: y, activeProgress: S, backProgress: b, splitStyle: _, textStyle: w, axisLabelStyle: T, pointStyle: C } = a.value, { valpha: x } = new $e(w.valueStyle.color), { valpha: D } = new $e(w.unitStyle.color), F = [
        {
          type: "gauge",
          name: g.title,
          radius: `${v}%`,
          z: 1,
          splitNumber: 5,
          progress: {
            show: !0,
            width: y,
            itemStyle: {
              color: {
                // 图形渐变颜色方法，四个数字分别代表，右，下，左，上，offset表示0%到100%
                type: "linear",
                x: 0,
                y: 1,
                x2: 1,
                // 从左到右 0-1
                y2: 0,
                colorStops: [
                  {
                    offset: 0,
                    color: S.color1
                  },
                  {
                    offset: 1,
                    color: S.color2
                  }
                ]
              }
            }
          },
          pointer: {
            show: C.show,
            length: `${C.length}%`,
            width: C.width,
            itemStyle: C.itemStyle
          },
          anchor: {
            show: C.show,
            showAbove: !0,
            size: C.anchor.size,
            itemStyle: {
              color: C.anchor.color
            }
          },
          axisLine: {
            lineStyle: {
              width: y,
              color: [[1, b.color]]
            }
          },
          splitLine: {
            show: _.show,
            length: _.length,
            lineStyle: {
              color: _.color,
              width: _.width
            },
            distance: _.distance
          },
          axisLabel: {
            show: T.show,
            color: T.color,
            fontSize: T.fontSize,
            fontFamily: T.fontFamily,
            fontStyle: T.fontStyle,
            fontWeight: T.fontWeight,
            lineHeight: T.lineHeight,
            distance: -18
          },
          title: {
            show: !1
          },
          axisTick: {
            show: !1
          },
          itemStyle: {
            show: !1
          },
          detail: {
            valueAnimation: !0,
            formatter: function(I) {
              const P = I.toFixed(0), O = sn(P, w.valueStyle.letterSpacing), k = sn(g.unit, w.unitStyle.letterSpacing);
              return w.unitStyle.show ? "{value|" + O + "}{unit| " + k + "}" : "{value|" + O + "}";
            },
            offsetCenter: [0, "40%"],
            fontSize: 14,
            rich: {
              value: {
                ...w.valueStyle,
                opacity: x,
                padding: [w.valueStyle.offsetY, 0, 0, w.valueStyle.offsetX]
              },
              unit: {
                ...w.unitStyle,
                opacity: D,
                padding: [w.unitStyle.offsetY, 0, 0, w.unitStyle.offsetX]
              }
            }
          },
          data: [
            {
              value: g.value || 0
            }
          ]
        }
      ];
      return w.unitStyle.flowValueStyle && (F[0].detail.rich.unit = F[0].detail.rich.value), w.shadowStyle.show ? (F[0].detail.textShadowColor = w.shadowStyle.color, F[0].detail.textShadowBlur = w.shadowStyle.blur, F[0].detail.textShadowOffsetX = w.shadowStyle.horizontal, F[0].detail.textShadowOffsetY = w.shadowStyle.vertical) : F[0].detail.textShadowColor = "rgba(0, 0, 0, 0)", F;
    }, d = Q(), p = () => {
      const g = {
        legend: f(),
        series: h()
      };
      i.value = g;
    }, m = (g) => {
      o.value = g, p();
    };
    return le(() => {
      l(), e.node.on({
        setData: m,
        request: l,
        state: u,
        updateChart: p
      }), s("mounted", "");
    }), se(() => {
      e.node.off({
        setData: m,
        request: l,
        state: u,
        updateChart: p
      });
    }), (g, v) => {
      const y = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(c), {
        onClick: v[0] || (v[0] = (S) => N(s)("click", S)),
        onDblclick: v[1] || (v[1] = (S) => N(s)("dblclick", S))
      }), [
        Fe(y, {
          ref_key: "chartRef",
          ref: d,
          option: i.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Zv = "visWidgetChartGaugeSpeed", gL = "速度仪表盘", yL = "0.0.1", mL = /* @__PURE__ */ ue({
  name: Zv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Zv, title: gL },
    version: yL,
    w: 220,
    h: 200,
    data: [
      {
        title: "仪表盘",
        value: 88,
        unit: "%"
      }
    ],
    // 数据映射
    dataFieldMap: [
      {
        fieldName: "title",
        fieldAlias: "",
        fieldDesc: "标题",
        dataType: "string"
      },
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "进度",
        dataType: "number"
      },
      {
        fieldName: "unit",
        fieldAlias: "",
        fieldDesc: "单位",
        dataType: "string"
      }
    ],
    themeConfig: {
      id: "science-blue",
      name: "科技蓝",
      background: "#090D16",
      list: ["#4F84D4", "#DD5B5B", "#DEC362", "#C0E9FF", "#37CEFF", "#FCAB90", "#E37D4A"]
    },
    chartOption: {
      legend: J("gaugeLegend", {}),
      radius: 73,
      barWidth: 14,
      backProgress: [
        {
          offset: 30,
          color: "#53D09E"
        },
        {
          offset: 50,
          color: "#41A9F4"
        },
        {
          offset: 70,
          color: "#DEC362"
        },
        {
          offset: 100,
          color: "#C64747"
        }
      ],
      textStyle: {
        shadowStyle: {
          show: !0,
          horizontal: 0,
          vertical: 0,
          blur: 16,
          color: "#0B99F0"
        },
        valueStyle: {
          fontSize: 32,
          textAlign: "right",
          fontFamily: "",
          color: "#fff",
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 30,
          offsetX: 0,
          offsetY: 0
        },
        unitStyle: {
          show: !0,
          flowValueStyle: !1,
          fontFamily: "",
          color: "#fff",
          fontSize: 14,
          opacity: 100,
          textAlign: "right",
          textDecoration: "none",
          fontWeight: "normal",
          fontStyle: "normal",
          letterSpacing: 0,
          lineHeight: 30,
          offsetX: 0,
          offsetY: 10
        }
      },
      tickStyle: {
        show: !1,
        width: 1,
        color: "#5A636F"
      },
      splitStyle: {
        show: !0,
        width: 1,
        color: "#9BD3E2",
        dinstance: 5
      },
      pointStyle: {
        show: !0,
        length: 105,
        width: 3,
        itemStyle: {
          color: "rgba(255,255,255,0.65)"
        },
        anchor: {
          size: 12,
          color: "#D8D8D8"
        }
      },
      axisLabelStyle: {
        show: !0,
        color: "#DEE8F1",
        fontSize: 12,
        fontFamily: "",
        textAlign: "right",
        textDecoration: "none",
        fontWeight: "normal",
        fontStyle: "normal",
        letterSpacing: 0,
        lineHeight: 12,
        distance: -12
      }
    }
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const g = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(g);
      },
      set: (g) => {
        e.node.data = g;
      }
    }), o = H(() => e.node.chartOption);
    ve(
      [r, o, e.node.dataFieldMap],
      () => {
        Se(() => {
          p();
        });
      },
      {
        immediate: !0,
        deep: !0
      }
    );
    const a = Q({}), { getThemeColorList: i } = tt(e.node), { handleEvent: s, handleRequest: l, handleState: u, wrapperAttrs: c } = he(e.node), f = () => {
      const { backProgress: g } = o.value, v = g.map((w) => w.color), { isPreview: y, colorList: S } = i(), b = y ? S : v;
      return g.map((w, T) => [w.offset / 100, b[T % b.length]]);
    }, h = () => {
      const g = r.value, { radius: v, barWidth: y, splitStyle: S, textStyle: b, axisLabelStyle: _, pointStyle: w } = o.value, { valpha: T } = new $e(b.valueStyle.color), { valpha: C } = new $e(b.unitStyle.color), x = [
        {
          type: "gauge",
          name: g.title,
          radius: `${v}%`,
          z: 1,
          splitNumber: 5,
          progress: {
            show: !0,
            width: y,
            itemStyle: {
              color: "rgba(0,0,0,0)"
            }
          },
          pointer: {
            show: w.show,
            length: `${w.length}%`,
            width: w.width,
            itemStyle: w.itemStyle
          },
          anchor: {
            show: w.show,
            showAbove: !0,
            size: w.anchor.size,
            itemStyle: {
              color: w.anchor.color
            }
          },
          axisLine: {
            lineStyle: {
              width: y,
              color: f()
            }
          },
          splitLine: {
            show: S.show,
            length: 6,
            lineStyle: {
              color: S.color,
              width: S.width
            },
            distance: -y * 2
          },
          axisLabel: {
            ..._,
            formatter: function(D) {
              const F = D.toString(), I = " ".repeat(_.letterSpacing);
              return F.split("").join(I);
            }
          },
          title: {
            show: !1
          },
          axisTick: {
            show: !1
          },
          itemStyle: {
            show: !1
          },
          detail: {
            valueAnimation: !0,
            formatter: function(D) {
              const F = D.toFixed(0), I = sn(F, b.valueStyle.letterSpacing), P = sn(g.unit, b.unitStyle.letterSpacing);
              return b.unitStyle.show ? "{value|" + I + "}{unit| " + P + "}" : "{value|" + I + "}";
            },
            offsetCenter: [0, "54%"],
            fontSize: 14,
            rich: {
              value: {
                ...b.valueStyle,
                opacity: T,
                padding: [b.valueStyle.offsetY, 0, 0, b.valueStyle.offsetX]
              },
              unit: {
                ...b.unitStyle,
                opacity: C,
                padding: [b.unitStyle.offsetY, 0, 0, b.unitStyle.offsetX]
              }
            }
          },
          data: [
            {
              value: g.value || 0
            }
          ]
        }
      ];
      return b.unitStyle.flowValueStyle && (x[0].detail.rich.unit = x[0].detail.rich.value), b.shadowStyle.show ? (x[0].detail.textShadowColor = b.shadowStyle.color, x[0].detail.textShadowBlur = b.shadowStyle.blur, x[0].detail.textShadowOffsetX = b.shadowStyle.horizontal, x[0].detail.textShadowOffsetY = b.shadowStyle.vertical) : x[0].detail.textShadowColor = "rgba(0, 0, 0, 0)", x;
    }, d = Q(), p = () => {
      const g = {
        series: h()
      };
      a.value = g;
    }, m = (g) => {
      r.value = g, p();
    };
    return le(() => {
      l(), e.node.on({
        setData: m,
        request: l,
        state: u,
        updateChart: p
      }), s("mounted", "");
    }), se(() => {
      e.node.off({
        setData: m,
        request: l,
        state: u,
        updateChart: p
      });
    }), (g, v) => {
      const y = be("datavis-chart");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(c), {
        onClick: v[0] || (v[0] = (S) => N(s)("click", S)),
        onDblclick: v[1] || (v[1] = (S) => N(s)("dblclick", S))
      }), [
        Fe(y, {
          ref_key: "chartRef",
          ref: d,
          option: a.value,
          "init-options": { renderer: "svg" }
        }, null, 8, ["option"])
      ], 16);
    };
  }
}), Kv = "visWidgetGlass", SL = "毛玻璃", bL = "0.0.1", wL = /* @__PURE__ */ ue({
  name: Kv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Kv, title: SL },
    version: bL,
    data: [],
    radius: 15,
    backdropFilter: 5,
    outLine: !1,
    // 轮廓显示
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 200,
    h: 100
  },
  __name: "index",
  props: {
    node: {
      type: Object,
      default: () => ({})
    },
    otherData: {
      type: Object,
      default: () => ({})
    }
  },
  setup(t) {
    const e = t, n = H({
      get: () => {
        if (e.otherData) {
          const h = e.node.dataFieldMap;
          if (h != null && h.length) {
            const d = {};
            return h.forEach((p) => {
              const m = p.fieldAlias || p.fieldName, g = e.otherData[m];
              g != null && (d[p.fieldName] = g);
            }), {
              ...e.node.data,
              ...d
            };
          }
        }
        return e.node.data;
      },
      set: (h) => {
        Array.isArray(h) ? e.node.data = h : e.node.data = Object.assign(e.node.data, h);
      }
    }), r = H(() => ({
      backdropFilter: `blur(${e.node.backdropFilter || 0}px)`,
      borderRadius: `${e.node.radius || 0}px`,
      borderWidth: `${e.node.outLine ? 1 : 0}px`
    })), o = Q(), { handleEvent: a, handleRequest: i, handleState: s, wrapperAttrs: l, combineStyle: u } = he(e.node), c = (h) => {
      n.value = h;
    }, f = () => {
      e.node.editing || (e.node.editing = !0, Se(() => {
        o.value.focus();
      }));
    };
    return le(() => {
      i(), e.node.on({
        setData: c,
        dblclick: f,
        request: i,
        state: s
      }), a("mounted", "");
    }), se(() => {
      e.node.off({
        setData: c,
        dblclick: f,
        request: i,
        state: s
      });
    }), (h, d) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(l), {
      onClick: d[0] || (d[0] = (p) => N(a)("click", p)),
      onDblclick: d[1] || (d[1] = (p) => N(a)("dblclick", p))
    }), [
      ne("div", {
        class: "widget-box",
        style: oe(N(u))
      }, [
        ne("div", {
          class: "widget-glass",
          style: oe(r.value)
        }, null, 4)
      ], 4)
    ], 16));
  }
}), _L = /* @__PURE__ */ Na(wL, [["__scopeId", "data-v-cda0ac28"]]), Jv = "visWidgetColorBlock", xL = "颜色块", DL = "0.0.1", CL = /* @__PURE__ */ ue({
  name: Jv,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: Jv, title: xL },
    version: DL,
    data: [],
    startAngle: 90,
    // 渐变角度
    color1: "#40A9FF",
    // 起始颜色
    color2: "#2671EA",
    // 终止颜色
    radius: 10,
    // 圆角
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 200,
    h: 100
  },
  __name: "index",
  props: {
    node: {
      type: Object,
      default: () => ({})
    },
    otherData: {
      type: Object,
      default: () => ({})
    }
  },
  setup(t) {
    const e = t, n = H({
      get: () => {
        if (e.otherData) {
          const h = e.node.dataFieldMap;
          if (h != null && h.length) {
            const d = {};
            return h.forEach((p) => {
              const m = p.fieldAlias || p.fieldName, g = e.otherData[m];
              g != null && (d[p.fieldName] = g);
            }), {
              ...e.node.data,
              ...d
            };
          }
        }
        return e.node.data;
      },
      set: (h) => {
        Array.isArray(h) ? e.node.data = h : e.node.data = Object.assign(e.node.data, h);
      }
    }), r = H(() => {
      const h = e.node, d = {
        background: "",
        borderRadius: `${h.radius || 0}px`
      };
      return h.color1 && h.color2 ? d.background = `linear-gradient(${h.startAngle || 0}deg, ${h.color1}, ${h.color2})` : (h.color1 || h.color2) && (d.background = h.color1 || h.color2), d;
    }), o = Q(), { handleEvent: a, handleRequest: i, handleState: s, wrapperAttrs: l, combineStyle: u } = he(e.node), c = (h) => {
      n.value = h;
    }, f = () => {
      e.node.editing || (e.node.editing = !0, Se(() => {
        o.value.focus();
      }));
    };
    return le(() => {
      i(), e.node.on({
        setData: c,
        dblclick: f,
        request: i,
        state: s
      }), a("mounted", "");
    }), se(() => {
      e.node.off({
        setData: c,
        dblclick: f,
        request: i,
        state: s
      });
    }), (h, d) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(l), {
      onClick: d[0] || (d[0] = (p) => N(a)("click", p)),
      onDblclick: d[1] || (d[1] = (p) => N(a)("dblclick", p))
    }), [
      ne("div", {
        class: "widget-color-block",
        style: oe(N(u))
      }, [
        ne("div", {
          class: "widget-contianer",
          style: oe(r.value)
        }, null, 4)
      ], 4)
    ], 16));
  }
}), TL = /* @__PURE__ */ Na(CL, [["__scopeId", "data-v-cb58cb5c"]]), FL = {
  key: 1,
  style: { "user-select": "none" }
}, Qv = "visWidgetButton", AL = "按钮", kL = "0.0.1", u1 = /* @__PURE__ */ ue({
  name: Qv,
  defaultValue: {
    component: { name: Qv, title: AL },
    version: kL,
    dataFieldMap: [
      {
        fieldName: "text",
        fieldAlias: "",
        fieldDesc: "文本",
        dataType: "string"
      }
    ],
    data: [
      {
        text: "按钮"
      }
    ],
    states: [
      {
        style: {
          backgroundColor: "#5AADFF",
          fontSize: 14,
          color: "#FFFFFF",
          borderWidth: 1,
          borderRadius: 2,
          borderStyle: "solid",
          borderColor: "#5AADFF",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    events: fe,
    requests: de(),
    w: 100,
    h: 36
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const d = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(d);
      },
      set: (d) => {
        e.node.data = d;
      }
    }), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s, combineStyle: l } = he(e.node), u = Q(), c = () => {
      e.node.editing = !1;
    }, f = (d) => {
      r.value = d;
    }, h = () => {
      e.node.editing || (e.node.editing = !0, Se(() => {
        u.value.focus();
      }));
    };
    return le(() => {
      a(), e.node.on({
        setData: f,
        dblclick: h,
        request: a,
        state: i
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: f,
        dblclick: h,
        request: a,
        state: i
      });
    }), (d, p) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
      onClick: p[1] || (p[1] = (m) => N(o)("click", m)),
      onDblclick: p[2] || (p[2] = (m) => N(o)("dblclick", m))
    }), [
      ne("div", {
        class: "widget-button",
        style: oe(N(l))
      }, [
        d.node.editing ? ji((j(), G("textarea", {
          key: 0,
          ref_key: "refInput",
          ref: u,
          style: { width: "100%", height: "100%", position: "absolute" },
          "onUpdate:modelValue": p[0] || (p[0] = (m) => r.value.text = m),
          onBlur: c
        }, null, 544)), [
          [m1, r.value.text]
        ]) : (j(), G("span", FL, Me(r.value.text), 1))
      ], 4)
    ], 16));
  }
}), EL = ["src"], eg = "visWidgetRefreshButton", ML = "页面刷新", OL = "0.0.1", RL = /* @__PURE__ */ ue({
  name: eg,
  defaultValue: {
    component: { name: eg, title: ML },
    version: OL,
    dataFieldMap: [],
    data: [],
    enableRefresh: !0,
    iconImage: "/resource/componentConfig/reload.png",
    iconWidth: 36,
    iconHeight: 36,
    iconOpacity: 100,
    states: [
      {
        style: {
          backgroundColor: "#5AADFF",
          fontSize: 14,
          color: "#FFFFFF",
          borderWidth: 1,
          borderRadius: 2,
          borderStyle: "solid",
          borderColor: "#5AADFF",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    events: fe,
    requests: de(),
    w: 50,
    h: 50
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = H(() => ({
      opacity: e.node.iconOpacity / 100
    })), r = H(() => ({
      width: `${e.node.iconWidth}px`,
      height: `${e.node.iconHeight}px`
    })), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s } = he(e.node), l = (u) => {
      e.node.enableRefresh ? location.reload() : o("click", u);
    };
    return le(() => {
      a(), e.node.on({
        request: a,
        state: i
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        request: a,
        state: i
      });
    }), (u, c) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
      onClick: l,
      onDblclick: c[0] || (c[0] = (f) => N(o)("dblclick", f))
    }), [
      ne("div", {
        class: "widget-refresh-button",
        style: oe(n.value)
      }, [
        u.node.iconImage ? (j(), G("img", {
          key: 0,
          class: "widget-refresh-button-icon",
          style: oe(r.value),
          src: u.node.iconImage
        }, null, 12, EL)) : vt("", !0)
      ], 4)
    ], 16));
  }
}), tg = "visWidgetFullScreen", LL = "全屏按钮", $L = "0.0.1", IL = /* @__PURE__ */ ue({
  name: tg,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: tg, title: LL },
    version: $L,
    data: [],
    backgroundImageFullScreen: "/resource/componentConfig/svg/exitFullScreen.svg",
    backgroundImageExitScreen: "/resource/componentConfig/svg/fullScreen.svg",
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 40,
    h: 40
  },
  __name: "index",
  props: {
    node: {
      type: Object,
      default: () => ({})
    },
    otherData: {
      type: Object,
      default: () => ({})
    }
  },
  setup(t) {
    const e = t, n = Q(!1), r = H(() => {
      const h = e.node, { width: d, height: p, backgroundImageExitScreen: m, backgroundImageFullScreen: g } = h, v = n.value ? g : m;
      return {
        width: `${d}px`,
        height: `${p}px`,
        backgroundImage: `url(${JSON.stringify(v)})`,
        backgroundSize: "100% 100%",
        cursor: "pointer"
      };
    }), o = (h) => {
      if (h.keyCode !== 122) return;
      h.preventDefault(), h.stopPropagation();
      const d = document.querySelector(".datavis-renderer-container") || document.documentElement;
      Ya.toggle(d);
    }, a = () => {
      n.value = Ya.isFullscreen;
    }, i = () => {
      const h = document.querySelector(".datavis-renderer-container") || document.documentElement;
      Ya.toggle(h);
    }, { handleEvent: s, handleRequest: l, handleState: u, wrapperAttrs: c, combineStyle: f } = he(e.node);
    return le(() => {
      window.addEventListener("keydown", o), Ya.onchange(a), l(), e.node.on({
        request: l,
        state: u
      }), s("mounted", "");
    }), se(() => {
      e.node.off({
        request: l,
        state: u
      }), window.removeEventListener("keydown", o), window.removeEventListener("change", a);
    }), (h, d) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(c), {
      onClick: d[0] || (d[0] = (p) => N(s)("click", p)),
      onDblclick: d[1] || (d[1] = (p) => N(s)("dblclick", p))
    }), [
      ne("div", {
        class: "widget-full-screen",
        style: oe(N(f))
      }, [
        ne("div", {
          class: "widget-contianer",
          style: oe(r.value),
          onClick: i
        }, null, 4)
      ], 4)
    ], 16));
  }
}), PL = /* @__PURE__ */ Na(IL, [["__scopeId", "data-v-5c3b1545"]]), zL = ["onClick"], ng = "visWidgetTabs", BL = "选项卡", WL = "0.0.1", NL = /* @__PURE__ */ ue({
  name: ng,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: ng, title: BL },
    version: WL,
    dataFieldMap: [
      {
        fieldName: "label",
        fieldAlias: "",
        fieldDesc: "标签",
        dataType: "string"
      },
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "值",
        dataType: "string"
      }
    ],
    data: [
      {
        label: "Tab 1",
        value: "1"
      },
      {
        label: "Tab 2",
        value: "2"
      },
      {
        label: "Tab 3",
        value: "3"
      }
    ],
    marginX: 6,
    marginY: 6,
    tabWidth: 80,
    tabHeight: 28,
    padding: 10,
    borderRadius: 0,
    textEllipsis: "ellipsis",
    // 默认项
    normal: {
      textStyle: {
        fontFamily: "",
        color: "#FFFFFF",
        fontSize: 14,
        opacity: 65,
        fontWeight: "normal",
        fontStyle: "normal",
        textDecoration: "none",
        letterSpacing: 0,
        lineHeight: 28
      },
      // 新阴影配置
      shadowStyle: {
        show: !1,
        horizontal: 0,
        vertical: 2,
        blur: 16,
        color: "rgba(11, 140, 240, 1)"
      },
      borderStyle: {
        show: !0,
        colorType: "graduallyColor",
        color1: "rgba(75, 93, 112, 0.1)",
        color2: "rgba(75, 93, 112, 0.6)",
        borderWidth: 1
      },
      fillStyle: {
        show: !0,
        colorType: "graduallyColor",
        color1: "rgba(15,22,34,0.1)",
        color2: "rgba(15,22,34,0.6)",
        backgroundImage: ""
      }
    },
    // 高亮项
    emphasis: {
      textStyle: {
        fontFamily: "",
        color: "#fff",
        fontSize: 14,
        opacity: 100,
        fontWeight: "normal",
        fontStyle: "normal",
        textDecoration: "none",
        letterSpacing: 0,
        lineHeight: 28
      },
      // 新阴影配置
      shadowStyle: {
        show: !1,
        horizontal: 0,
        vertical: 2,
        blur: 16,
        color: "rgba(11, 140, 240, 1)"
      },
      borderStyle: {
        show: !0,
        colorType: "graduallyColor",
        color1: "rgba(63, 166, 246, 0)",
        color2: "rgba(63, 166, 246, 1)",
        borderWidth: 1
      },
      fillStyle: {
        show: !0,
        colorType: "graduallyColor",
        color1: "rgba(11,140,240,0.1)",
        color2: "rgba(11,140,240,0.69)",
        backgroundImage: ""
      }
    },
    // 初始选择项
    activeIndex: 1,
    activeKey: "",
    // 多行模式
    moreRow: !1,
    columnNumber: 2,
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 252,
    h: 32
  },
  __name: "index",
  props: {
    node: {}
  },
  setup(t) {
    const e = t, n = H({
      get: () => e.node.data,
      set: (v) => {
        e.node.data = v;
      }
    }), r = H(() => {
      const { marginX: v, marginY: y } = e.node;
      return {
        gap: `${y}px ${v}px`
      };
    }), o = (v) => {
      v = +v;
      const y = e.node, { marginX: S } = e.node, { tabWidth: b, tabHeight: _, columnNumber: w, moreRow: T } = y, C = y.data[v].value === i.value, { textStyle: x, shadowStyle: D, borderStyle: F, fillStyle: I } = C ? y.emphasis : y.normal, { show: P, color: O, horizontal: k, vertical: $, blur: M } = D, A = `${O} ${k}px ${$}px ${M}px`, { fontFamily: L, color: R, fontSize: E, opacity: B, fontWeight: W, fontStyle: z, letterSpacing: V, lineHeight: q, textDecoration: U } = x, K = T ? `calc((100% - ${(w - 1) * S}px)/${w})` : `${b}px`, Z = {
        fontFamily: L,
        flexGrow: 0,
        flexShrink: 0,
        color: R,
        fontSize: `${E}px`,
        opacity: B / 100,
        fontWeight: W,
        fontStyle: z,
        letterSpacing: `${V}px`,
        lineHeight: `${q}px`,
        textDecoration: U,
        textShadow: P ? A : "none",
        padding: `0 ${y.padding || 0}px`,
        borderRadius: `${y.borderRadius}px`,
        background: "",
        width: K,
        height: `${_}px`,
        border: "",
        backgroundSize: "",
        backgroundColor: "",
        borderImage: ""
      };
      return I.show && (I.backgroundImage && (Z.background += `url(${JSON.stringify(I.backgroundImage)}) no-repeat center bottom ,`, Z.backgroundSize = "100% 100%"), I.colorType === "solidColor" ? Z.backgroundColor = I.color1 : Z.background += `linear-gradient(180deg, ${I.color1} 0%, ${I.color2} 100%)`), F.show && (F.colorType === "solidColor" ? Z.border = `${F.borderWidth}px solid ${F.color1}` : (Z.border = `${F.borderWidth}px solid transparent`, Z.borderImage = `linear-gradient(180deg, ${F.color1} 0%, ${F.color2} 100%) 1 1`)), Z;
    }, a = H(() => {
      let v = {};
      return e.node.textEllipsis === "ellipsis" && (v = {
        textOverflow: "ellipsis",
        whiteSpace: "nowrap",
        overflow: "hidden"
      }), v;
    }), i = Q(""), s = H(() => e.node.activeIndex);
    ve(
      [n, s],
      () => {
        Se(() => {
          l();
        });
      },
      {
        deep: !0,
        immediate: !0
      }
    );
    const l = (v) => {
      if (v = v || n.value, v && v.length !== 0) {
        const y = e.node.activeKey;
        if (y) {
          const S = v.findIndex((b) => b.value === y);
          u(v[S > 0 ? S : 0]);
        } else
          u(v[s.value <= v.length ? s.value - 1 : 0]);
      }
    }, u = (v) => {
      i.value = v.value, c();
    }, c = (v) => {
    }, { handleEvent: f, handleRequest: h, handleState: d, wrapperAttrs: p, combineStyle: m } = he(e.node), g = (v) => {
      n.value = v;
    };
    return le(() => {
      h(), e.node.on({
        setData: g,
        request: h,
        state: d
      }), f("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: h,
        state: d
      });
    }), (v, y) => {
      const S = be("el-scrollbar");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(p), {
        onClick: y[0] || (y[0] = (b) => N(f)("click", b)),
        onDblclick: y[1] || (y[1] = (b) => N(f)("dblclick", b))
      }), [
        ne("div", {
          class: "widget-tabs-box",
          style: oe(N(m))
        }, [
          Fe(S, null, {
            default: Ct(() => [
              ne("div", {
                class: "tabs-list",
                style: oe(r.value)
              }, [
                (j(!0), G(Ne, null, ot(n.value, (b, _) => (j(), G("div", {
                  class: "tabs-list-item",
                  key: _,
                  onClick: (w) => u(b),
                  style: oe(o(_))
                }, [
                  ne("span", {
                    style: oe(a.value)
                  }, Me(b.label), 5)
                ], 12, zL))), 128))
              ], 4)
            ]),
            _: 1
          })
        ], 4)
      ], 16);
    };
  }
}), HL = ["onClick"], rg = "visWidgetTabsText", VL = "文本选项卡", qL = "0.0.1", jL = /* @__PURE__ */ ue({
  name: rg,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: rg, title: VL },
    version: qL,
    dataFieldMap: [
      {
        fieldName: "label",
        fieldAlias: "",
        fieldDesc: "标签",
        dataType: "string"
      },
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "值",
        dataType: "string"
      }
    ],
    data: [
      {
        label: "Tab 1",
        value: "1"
      },
      {
        label: "Tab 2",
        value: "2"
      },
      {
        label: "Tab 3",
        value: "3"
      }
    ],
    marginX: 24,
    marginY: 0,
    height: 32,
    padding: 0,
    justifyContent: "center",
    // 默认项
    normal: {
      textStyle: {
        fontFamily: "",
        color: "#FFFFFF",
        fontSize: 14,
        opacity: 65,
        fontWeight: "normal",
        fontStyle: "normal",
        textDecoration: "none",
        letterSpacing: 0,
        lineHeight: 32
      },
      // 阴影配置
      shadowStyle: {
        show: !1,
        horizontal: 0,
        vertical: 2,
        blur: 16,
        color: "rgba(11, 140, 240, 1)"
      }
    },
    // 高亮项
    emphasis: {
      textStyle: {
        fontFamily: "",
        color: "#0B8CF0",
        fontSize: 14,
        opacity: 100,
        fontWeight: "normal",
        fontStyle: "normal",
        textDecoration: "none",
        letterSpacing: 0,
        lineHeight: 32
      },
      // 阴影配置
      shadowStyle: {
        show: !1,
        horizontal: 0,
        vertical: 2,
        blur: 16,
        color: "rgba(11, 140, 240, 1)"
      },
      borderStyle: {
        show: !0,
        borderColor: "rgba(63, 166, 246, 1)",
        borderWidth: 1
      }
    },
    // 初始选择项
    activeIndex: 1,
    activeKey: "",
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 270,
    h: 32
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const v = {
          type: "list",
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(v);
      },
      set: (v) => {
        e.node.data = v;
      }
    }), o = Q(""), a = H(() => e.node.activeIndex);
    ve(
      [r, a],
      () => {
        Se(() => {
          i();
        });
      },
      {
        deep: !0,
        immediate: !0
      }
    );
    const i = (v) => {
      if (v = v || r.value, v && v.length !== 0) {
        const y = e.node.activeKey;
        if (y) {
          const S = v.findIndex((b) => b.value === y);
          c(v[S > 0 ? S : 0]);
        } else
          c(v[a.value <= v.length ? a.value - 1 : 0]);
      }
    }, s = H(() => ({
      rowGap: e.node.marginY + "px",
      columnGap: e.node.marginX + "px",
      justifyContent: e.node.justifyContent
    })), l = (v) => {
      const y = e.node, S = y.data[v].value === o.value, { textStyle: b, shadowStyle: _, borderStyle: w } = S ? y.emphasis : y.normal, { show: T, color: C, horizontal: x, vertical: D, blur: F } = _, I = `${C} ${x}px ${D}px ${F}px`, { fontFamily: P, color: O, fontSize: k, opacity: $, fontWeight: M, fontStyle: A, letterSpacing: L, lineHeight: R, textDecoration: E } = b, B = {
        width: "100%",
        height: "100%",
        fontFamily: P || "Microsoft YaHei",
        color: O,
        fontSize: `${k}px`,
        opacity: $ / 100,
        fontWeight: M,
        fontStyle: A,
        letterSpacing: `${L}px`,
        lineHeight: `${R}px`,
        textDecoration: E,
        textShadow: T ? I : "none",
        padding: `0 ${y.padding || 0}px`,
        borderBottom: ""
      };
      return w && w.show && (B.borderBottom = `${w.borderWidth}px solid ${w.borderColor}`), B;
    }, u = H(() => ({
      // height: props.node.height + 'px'
    })), c = (v) => {
      o.value = v.value, f();
    }, f = (v) => {
    }, { handleEvent: h, handleRequest: d, handleState: p, wrapperAttrs: m } = he(e.node), g = (v) => {
      r.value = v;
    };
    return le(() => {
      d(), e.node.on({
        setData: g,
        request: d,
        state: p
      }), h("mounted", "");
    }), se(() => {
      e.node.off({
        setData: g,
        request: d,
        state: p
      });
    }), (v, y) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(m), {
      onClick: y[0] || (y[0] = (S) => N(h)("click", S)),
      onDblclick: y[1] || (y[1] = (S) => N(h)("dblclick", S))
    }), [
      ne("div", {
        class: "widget-tabs-text-list",
        style: oe(s.value)
      }, [
        (j(!0), G(Ne, null, ot(r.value, (S, b) => (j(), G("div", {
          class: "tabs-item",
          key: b,
          style: oe(u.value),
          onClick: (_) => c(S)
        }, [
          ne("div", {
            style: oe(l(b))
          }, Me(S.label), 5)
        ], 12, HL))), 128))
      ], 4)
    ], 16));
  }
}), UL = { class: "text-box" }, YL = ["value", "placeholder"], GL = {
  key: 0,
  class: "group-box"
}, XL = ["onClick", "onMouseleave"], ZL = { class: "li-Name" }, KL = ["onClick", "onMouseleave"], JL = { class: "li-Name" }, og = "visWidgetSelect", QL = "选择框", e3 = "0.0.1", t3 = /* @__PURE__ */ ue({
  name: og,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: og, title: QL },
    version: e3,
    dataFieldMap: [
      {
        fieldName: "label",
        fieldAlias: "",
        fieldDesc: "标签",
        dataType: "string"
      },
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "值",
        dataType: "string"
      },
      {
        fieldName: "options",
        fieldAlias: "",
        fieldDesc: "分组",
        dataType: "string"
      }
    ],
    data: [
      {
        label: "类型A",
        value: "1"
      },
      {
        label: "类型B",
        value: "2"
      },
      {
        label: "类型C",
        value: "3"
      },
      {
        label: "类型D",
        value: "4"
      },
      {
        label: "类型E",
        value: "5"
      },
      {
        label: "类型F",
        value: "6"
      }
    ],
    color: "#bcc9d4",
    fontSize: 16,
    background: "rgba(0, 0, 0, 0.4)",
    backgroundImage: "",
    borderColor: "rgba(112, 124, 142, 0.3)",
    borderWidth: 1,
    borderRadius: 2,
    dropdownColor: "#77B3ED",
    dropdownBackground: "rgba(10, 18, 27, 0.8)",
    dropdownBackgroundImage: "",
    isWhiteScroll: !0,
    // 高亮
    empColor: "#fff",
    empBackground: "#2681ff",
    empBackgroundImage: "",
    // 右侧图标
    showRightIcon: !0,
    rightIconWidth: 12,
    rightIconHeight: 12,
    itemHeight: 44,
    dropdownHeight: 160,
    rightIcon: {
      show: !0,
      width: 12,
      height: 12,
      background: "",
      paddingRight: 6
    },
    showMenu: !1,
    enableSerach: !1,
    selectedText: "请选择",
    selectOverflow: "ellipsis",
    activeKey: "1",
    placeholderTextStyle: {
      fontFamily: "",
      color: "#fff",
      fontSize: 14,
      opacity: 85,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 16,
      overflow: "ellipsis"
    },
    normalTextStyle: {
      fontFamily: "",
      color: "#0B8CF0",
      fontSize: 14,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 20,
      background: "rgba(0, 0, 0, 0)"
    },
    selectItemTextStyle: {
      fontFamily: "",
      color: "#ACB5BC",
      fontSize: 14,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 14,
      background: "rgba(10, 18, 27, 0)"
    },
    selectHoverItemTextStyle: {
      fontFamily: "",
      color: "#ACB5BC",
      fontSize: 14,
      opacity: 100,
      fontWeight: "normal",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 14,
      background: "#212D3B"
    },
    selectActiveItemTextStyle: {
      fontFamily: "",
      color: "#0B8CF0",
      fontSize: 14,
      opacity: 100,
      fontWeight: "bold",
      fontStyle: "normal",
      letterSpacing: 0,
      lineHeight: 14,
      backgroundColor: "rgba(10, 18, 27, 0)",
      height: 12,
      width: 12,
      background: "",
      paddingRight: 8
    },
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 260,
    h: 40
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const E = {
          type: "list",
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(E);
      },
      set: (E) => {
        e.node.data = E;
      }
    });
    (() => {
      e.node.dataFieldMap && !e.node.dataFieldMap.find((E) => E.fieldName === "options") && e.node.dataFieldMap.push({
        fieldName: "options",
        fieldAlias: "",
        fieldDesc: "分组",
        dataType: "string"
      });
    })();
    const a = Q("1"), i = Q(""), s = Q(""), l = Q(!1), u = H(() => {
      let E = null;
      return r.value.length === 0 ? "" : (r.value[0].options ? r.value.find((B) => (E = B.options ? B.options.find((W) => W.value === a.value) : null, !!E)) : E = r.value.filter((B) => B.value === a.value)[0], E ? E.label : e.node.selectedText);
    }), c = H(() => e.node.rightIcon.show), f = H(() => e.node.enableSerach), h = H(() => {
      var E;
      return ((E = r.value) == null ? void 0 : E.length) > 0 && !!r.value[0].options;
    }), d = H(() => {
      const E = e.node;
      return {
        width: "100%",
        height: "100%",
        fontSize: `${E.fontSize}px`,
        color: E.color,
        borderColor: E.borderColor,
        borderStyle: "solid",
        borderWidth: `${E.borderWidth}px`,
        borderRadius: `${E.borderRadius}px`,
        backgroundColor: E.background,
        backgroundImage: `url(${JSON.stringify(E.backgroundImage)})`,
        backgroundSize: "100% 100%"
      };
    }), p = H(() => {
      const E = e.node;
      return {
        backgroundColor: "transparent",
        borderWidth: 0,
        boxSizing: "border-box",
        outline: "none",
        padding: "0 6px 0 0",
        width: "100%",
        height: "100%",
        fontSize: `${E.fontSize}px`,
        color: E.color
      };
    }), m = H(() => {
      const { fontFamily: E, color: B, fontSize: W, opacity: z, fontWeight: V, fontStyle: q, letterSpacing: U, lineHeight: K, overflow: Z } = e.node.placeholderTextStyle;
      return {
        width: "100%",
        display: "block",
        overflow: "hidden",
        textOverflow: Z,
        fontFamily: E || "Microsoft YaHei",
        color: B,
        fontSize: `${W}px`,
        opacity: z / 100,
        fontWeight: V,
        fontStyle: q,
        letterSpacing: `${U}px`,
        lineHeight: `${K}px`
      };
    }), g = (E) => {
      const { fontFamily: B, color: W, fontSize: z, opacity: V, fontWeight: q, fontStyle: U, letterSpacing: K, lineHeight: Z, background: ee } = E.selectHoverItemTextStyle;
      return {
        background: ee,
        fontFamily: B || "Microsoft YaHei",
        color: W,
        fontSize: `${z}px`,
        opacity: V / 100,
        fontWeight: q,
        fontStyle: U,
        letterSpacing: `${K}px`,
        lineHeight: `${Z}px`
      };
    }, v = (E) => {
      const { fontFamily: B, color: W, fontSize: z, opacity: V, fontWeight: q, fontStyle: U, letterSpacing: K, lineHeight: Z, background: ee } = E.normalTextStyle;
      return {
        background: ee,
        fontFamily: B || "Microsoft YaHei",
        color: W,
        fontSize: `${z}px`,
        opacity: V / 100,
        fontWeight: q,
        fontStyle: U,
        letterSpacing: `${K}px`,
        lineHeight: `${Z}px`
      };
    }, y = H(() => {
      const E = e.node;
      return {
        backgroundImage: `url(${JSON.stringify(E.rightIcon.background)})`,
        backgroundSize: "contain",
        backgroundRepeat: "no-repeat",
        backgroundPosition: "center",
        width: `${E.rightIcon.width}px`,
        height: `${E.rightIcon.height}px`,
        marginRight: `${E.rightIcon.paddingRight}px`
      };
    }), S = H(() => {
      const E = e.node;
      return {
        color: E.dropdownColor,
        backgroundColor: E.dropdownBackground,
        backgroundImage: `url(${JSON.stringify(E.dropdownBackgroundImage)})`,
        backgroundSize: "100% 100%",
        borderColor: E.borderColor,
        borderStyle: "solid",
        borderWidth: `${E.borderWidth}px`,
        borderRadius: `${E.borderRadius}px`,
        height: `${E.dropdownHeight}px`,
        display: l.value ? "block" : "none"
      };
    }), b = (E, B) => {
      if (B) {
        const { fontFamily: W, color: z, fontSize: V, opacity: q, fontWeight: U, fontStyle: K, letterSpacing: Z, lineHeight: ee, backgroundColor: te } = E.selectActiveItemTextStyle;
        return {
          backgroundColor: te,
          height: `${E.itemHeight}px`,
          fontFamily: W || "Microsoft YaHei",
          color: z,
          fontSize: `${V}px`,
          opacity: q / 100,
          fontWeight: U,
          fontStyle: K,
          letterSpacing: `${Z}px`,
          lineHeight: `${ee}px`
        };
      } else {
        const { fontFamily: W, color: z, fontSize: V, opacity: q, fontWeight: U, fontStyle: K, letterSpacing: Z, lineHeight: ee, background: te } = E.selectItemTextStyle;
        return {
          height: `${E.itemHeight}px`,
          backgroundColor: te,
          fontFamily: W || "Microsoft YaHei",
          color: z,
          fontSize: `${V}px`,
          opacity: q / 100,
          fontWeight: U,
          fontStyle: K,
          letterSpacing: `${Z}px`,
          lineHeight: `${ee}px`
        };
      }
    }, _ = (E, B) => {
      const { height: W, width: z, background: V, paddingRight: q } = E.selectActiveItemTextStyle;
      return {
        backgroundImage: B ? `url(${JSON.stringify(V)})` : "",
        backgroundSize: "100% 100%",
        backgroundRepeat: "no-repeat",
        backgroundPosition: "center",
        display: "inline-block",
        height: `${W}px`,
        width: `${z}px`,
        marginRight: `${q}px`
      };
    }, w = (E) => {
      Object.assign(E.target.style, g(e.node));
    }, T = (E, B) => {
      Object.assign(E.target.style, b(e.node, B));
    };
    ve(
      () => [r.value, e.node.activeKey],
      () => {
        Se(() => {
          C();
        });
      },
      {
        immediate: !0
      }
    );
    const C = () => {
      if (r.value.length !== 0) {
        const E = e.node.activeKey;
        if (h.value) {
          if (!E) {
            x({ value: "" });
            return;
          }
          let B = 0, W = 0;
          r.value.forEach((z, V) => {
            const q = $2(z.options, { value: E });
            q >= 0 && (B = V, W = q);
          }), x(r.value[B].options[W]);
        } else {
          if (!E) {
            x({ value: "" });
            return;
          }
          const B = r.value.findIndex((W) => W.value === E);
          x(r.value[B < 0 ? 0 : B]);
        }
      }
    }, x = (E) => {
      a.value = E.value, l.value = !1;
    }, D = () => {
      l.value = !l.value;
    }, F = () => {
      l.value = !1;
    }, I = Co(function(E) {
      console.log(E.target.value);
    }, 200), P = () => {
      s.value = u.value, i.value = "";
    }, O = () => {
      i.value === "" && (i.value = u.value);
    }, { handleEvent: k, handleRequest: $, handleState: M, combineStyle: A, wrapperAttrs: L } = he(e.node), R = (E) => {
      r.value = E;
    };
    return le(() => {
      $(), e.node.on({
        setData: R,
        request: $,
        state: M
      }), k("mounted", "");
    }), se(() => {
      e.node.off({
        setData: R,
        request: $,
        state: M
      });
    }), (E, B) => {
      const W = be("svg-icon");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(L), {
        onClick: B[3] || (B[3] = (z) => N(k)("click", z)),
        onDblclick: B[4] || (B[4] = (z) => N(k)("dblclick", z))
      }), [
        ne("div", {
          class: "widget-select-box",
          style: oe(N(A))
        }, [
          ne("div", {
            style: oe(d.value)
          }, [
            ji((j(), G("div", {
              class: "select-container",
              onClick: D
            }, [
              ne("div", UL, [
                f.value ? (j(), G("input", {
                  key: 1,
                  readonly: !1,
                  value: i.value,
                  style: oe(p.value),
                  placeholder: s.value,
                  onInput: B[0] || (B[0] = //@ts-ignore
                  (...z) => N(I) && N(I)(...z)),
                  onFocus: P,
                  onBlur: O
                }, null, 44, YL)) : (j(), G("span", {
                  key: 0,
                  style: oe(m.value)
                }, Me(u.value || "请选择"), 5))
              ]),
              c.value ? (j(), Ye(W, {
                key: 0,
                name: "vis-jiantouxia",
                class: Jn(["select-arrow", "fd-icon-box", { "select-down": l.value }]),
                style: oe(y.value)
              }, null, 8, ["class", "style"])) : vt("", !0),
              ji(ne("ul", {
                class: Jn(["select-list", { "select-list-white": E.node.isWhiteScroll }]),
                style: oe(S.value)
              }, [
                h.value ? (j(!0), G(Ne, { key: 0 }, ot(r.value, (z) => (j(), G(Ne, null, [
                  z.options ? (j(), G("div", GL, [
                    ne("div", {
                      class: "group-name",
                      style: oe(v(E.node))
                    }, Me(z.label), 5),
                    (j(!0), G(Ne, null, ot(z.options, (V, q) => (j(), G("li", {
                      key: q,
                      class: Jn({
                        active: V.value === a.value
                      }),
                      style: oe(b(E.node, V.value === a.value)),
                      onClick: wo((U) => x(V), ["stop"]),
                      onMouseenter: B[1] || (B[1] = (U) => w(U)),
                      onMouseleave: (U) => T(U, V.value === a.value)
                    }, [
                      ne("span", ZL, Me(V.label), 1),
                      ne("span", {
                        class: "li-icon",
                        style: oe(_(E.node, V.value === a.value))
                      }, null, 4)
                    ], 46, XL))), 128))
                  ])) : vt("", !0)
                ], 64))), 256)) : (j(!0), G(Ne, { key: 1 }, ot(r.value, (z, V) => (j(), G("li", {
                  key: V,
                  class: Jn({
                    active: z.value === a.value
                  }),
                  style: oe(b(E.node, z.value === a.value)),
                  onClick: wo((q) => x(z), ["stop"]),
                  onMouseenter: B[2] || (B[2] = (q) => w(q)),
                  onMouseleave: (q) => T(q, z.value === a.value)
                }, [
                  ne("span", JL, Me(z.label), 1),
                  ne("span", {
                    class: "li-icon",
                    style: oe(_(E.node, z.value === a.value))
                  }, null, 4)
                ], 46, KL))), 128))
              ], 6), [
                [S1, l.value]
              ])
            ])), [
              [N(w1), F]
            ])
          ], 4)
        ], 4)
      ], 16);
    };
  }
}), n3 = ["src"], ag = "visWidgetCarousel", r3 = "轮播图", o3 = "0.0.1", a3 = /* @__PURE__ */ ue({
  name: ag,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: ag, title: r3 },
    version: o3,
    dataFieldMap: [
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "图片地址",
        dataType: "string"
      }
    ],
    data: [
      {
        value: "/resource/componentConfig/source1.jpeg"
      },
      {
        value: "/resource/componentConfig/source1.jpeg"
      },
      {
        value: "/resource/componentConfig/source1.jpeg"
      }
    ],
    swiper: {
      type: "",
      interval: 2,
      indicator: "none",
      opacity: 1,
      autoplay: !1,
      controls: !1,
      loop: !1
    },
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 400,
    h: 200
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, n = H({
      get: () => e.node.data,
      set: (d) => {
        e.node.data = d;
      }
    }), r = H(() => e.node.swiper.indicator === "none" ? "100%" : "88%"), o = H(() => +e.node.swiper.interval * 1e3), a = H(() => ({
      opacity: e.node.opacity
    })), i = (d, p) => {
      console.log(d, p);
    }, { handleEvent: s, handleRequest: l, handleState: u, wrapperAttrs: c, combineStyle: f } = he(e.node), h = (d) => {
      n.value = d;
    };
    return le(() => {
      l(), e.node.on({
        setData: h,
        request: l,
        state: u
      }), s("mounted", "");
    }), se(() => {
      e.node.off({
        setData: h,
        request: l,
        state: u
      });
    }), (d, p) => {
      const m = be("el-carousel-item"), g = be("el-carousel");
      return j(), G("foreignObject", ce({ class: "editor-component-item" }, N(c), {
        onClick: p[0] || (p[0] = (v) => N(s)("click", v)),
        onDblclick: p[1] || (p[1] = (v) => N(s)("dblclick", v))
      }), [
        ne("div", {
          class: "widget-carousel",
          style: oe(N(f))
        }, [
          Fe(g, {
            class: "swiper-box",
            type: d.node.swiper.type,
            "indicator-position": d.node.swiper.indicator,
            interval: o.value,
            height: r.value
          }, {
            default: Ct(() => [
              (j(!0), G(Ne, null, ot(n.value, (v, y) => (j(), Ye(m, {
                class: "swiper-item",
                key: y,
                onClick: (S) => i(v, y)
              }, {
                default: Ct(() => [
                  ne("img", {
                    src: v.value,
                    draggable: "false",
                    style: oe(a.value)
                  }, null, 12, n3)
                ]),
                _: 2
              }, 1032, ["onClick"]))), 128))
            ]),
            _: 1
          }, 8, ["type", "indicator-position", "interval", "height"])
        ], 4)
      ], 16);
    };
  }
}), ig = "visWidgetSwitch", i3 = "开关", s3 = "0.0.1", l3 = /* @__PURE__ */ ue({
  name: ig,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: ig, title: i3 },
    version: s3,
    dataFieldMap: [
      {
        fieldName: "value",
        fieldAlias: "",
        fieldDesc: "默认值",
        dataType: "string"
      }
    ],
    data: [
      {
        value: "on"
      }
    ],
    activeColor: "#0B8CF0",
    activeValue: "on",
    inactiveColor: "#4E5865",
    inactiveValue: "off",
    stateIndex: 0,
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#000",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 42,
    h: 22
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const d = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(d);
      },
      set: (d) => {
        e.node.data = d;
      }
    }), o = H(() => r.value.value === e.node.activeValue), a = H(() => {
      const { activeColor: d, inactiveColor: p } = e.node;
      return {
        backgroundColor: o.value ? d : p,
        justifyContent: o.value ? "flex-start" : "flex-end",
        borderRadius: `${e.node.h}px`
      };
    }), i = H(() => {
      const d = `${e.node.h * 0.8}px`, p = `${e.node.h * 0.1}px`, m = {
        width: d,
        height: d,
        marginLeft: "",
        marginRight: ""
      };
      return o.value ? m.marginLeft = p : m.marginRight = p, m;
    }), s = () => {
      const { activeValue: d, inactiveValue: p } = e.node;
      r.value = [
        {
          value: o.value ? p : d
        }
      ];
    }, { handleEvent: l, handleRequest: u, handleState: c, wrapperAttrs: f } = he(e.node), h = (d) => {
      r.value = d;
    };
    return le(() => {
      u(), e.node.on({
        setData: h,
        request: u,
        state: c
      }), l("mounted", "");
    }), se(() => {
      e.node.off({
        setData: h,
        request: u,
        state: c
      });
    }), (d, p) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(f), {
      onClick: p[0] || (p[0] = (m) => N(l)("click", m)),
      onDblclick: p[1] || (p[1] = (m) => N(l)("dblclick", m))
    }), [
      ne("div", {
        class: "widget-switch",
        style: oe(a.value),
        onClick: s
      }, [
        ne("div", {
          class: "switch-ball",
          style: oe(i.value)
        }, null, 4)
      ], 4)
    ], 16));
  }
}), u3 = ["src"], c3 = {
  key: 1,
  class: "empty-iframe"
}, sg = "visWidgetIframe", f3 = "Iframe页面", d3 = "0.0.1", c1 = /* @__PURE__ */ ue({
  name: sg,
  defaultValue: {
    events: fe,
    requests: de(),
    component: { name: sg, title: f3 },
    version: d3,
    dataFieldMap: [
      {
        fieldName: "link",
        fieldAlias: "",
        fieldDesc: "链接",
        dataType: "string"
      }
    ],
    data: [
      {
        link: ""
      }
    ],
    // 域名跟随系统
    useSystemOrigin: !1,
    states: [
      {
        style: {
          backgroundColor: "rgba(0,0,0,0)",
          fontSize: 14,
          color: "#ffffff",
          alignItems: "center",
          justifyContent: "center"
        }
      }
    ],
    w: 400,
    h: 200
  },
  __name: "index",
  props: {
    node: {},
    otherData: {}
  },
  setup(t) {
    const e = t, { getMappedData: n } = we(), r = H({
      get: () => {
        const c = {
          fieldMap: e.node.dataFieldMap,
          data: e.node.data,
          otherData: e.otherData
        };
        return n(c);
      },
      set: (c) => {
        var f;
        Array.isArray(c) ? e.node.data = c : c && ((f = e.node.data) != null && f.length ? Object.assign(e.node.data[0], c) : e.node.data = [c]);
      }
    }), { handleEvent: o, handleRequest: a, handleState: i, wrapperAttrs: s, combineStyle: l } = he(e.node), u = (c) => {
      r.value = c;
    };
    return le(() => {
      a(), e.node.on({
        setData: u,
        request: a,
        state: i
      }), o("mounted", "");
    }), se(() => {
      e.node.off({
        setData: u,
        request: a,
        state: i
      });
    }), (c, f) => (j(), G("foreignObject", ce({ class: "editor-component-item" }, N(s), {
      onClick: f[0] || (f[0] = (h) => N(o)("click", h)),
      onDblclick: f[1] || (f[1] = (h) => N(o)("dblclick", h))
    }), [
      ne("div", {
        class: "widget-iframe",
        style: oe(N(l))
      }, [
        r.value.link ? (j(), G("iframe", {
          key: 0,
          src: r.value.link,
          draggable: "false"
        }, null, 8, u3)) : (j(), G("div", c3, "请配置iframe链接"))
      ], 4)
    ], 16));
  }
}), f1 = [
  C0,
  T0,
  q0,
  j0,
  u1,
  RL,
  U0,
  IC,
  BC,
  HC,
  QC,
  nT,
  _L,
  TL,
  // 交互
  PL,
  NL,
  jL,
  t3,
  a3,
  l3,
  c1,
  QT,
  oR,
  bR,
  aT,
  lT,
  fT,
  pT,
  yT,
  bT,
  xT,
  xR,
  TR,
  kR,
  OR,
  $R,
  zR,
  NR,
  UR,
  KR,
  nL,
  aL,
  uL,
  TT,
  kT,
  OT,
  $T,
  zT,
  NT,
  qT,
  YT,
  ZT,
  tR,
  dL,
  vL,
  mL
], h3 = {};
f1.forEach((t) => {
  const { component: e } = t.defaultValue;
  e && Reflect.set(h3, e.name, t.defaultValue);
});
const X3 = {
  install(t) {
    t.component($f.name, $f), t.component("visWidgetBezierCurve", j0), t.component("visWidgetLine", T0), t.component("visWidgetPolyline", q0), t.component("visWidgetRect", C0), t.component("customWidgetButton", u1), t.component("customWidgetIframe", c1), t.component("customWidgetImage", U0), f1.forEach((e) => {
      t.component(e.name, e);
    });
  }
};
export {
  $e as Color,
  y3 as barTypeOption,
  g3 as chartConfig,
  me as cloneDeep,
  h3 as componentMap,
  X3 as default,
  S3 as defaultEvents,
  gn as echarts,
  m3 as eventConfig,
  fe as events,
  A3 as formatPercent,
  k3 as formatPx,
  Ya as fullScreen,
  T3 as funEval,
  Tu as funRunScript,
  J as getChartConfig,
  de as getRequestConfig,
  _3 as handleAddState,
  Ia as handleAttrsChange,
  b3 as handleAttrsPreview,
  w3 as handleAttrsRecover,
  H2 as handleComponentWrapper,
  qg as handleCssStyle,
  x3 as handleEditState,
  C3 as handleFinishStateNameDialog,
  D3 as handleRemoveState,
  F3 as isNoEmpty,
  E3 as numberToCN,
  sn as stringFillSpace,
  St as useAxis,
  et as useChartNormal,
  we as useData,
  he as useEvents,
  Wa as useLine,
  Tn as useMarkLine,
  Os as usePie,
  tt as useTheme,
  Zt as useTooltip,
  Rs as useTooltipPie,
  D0 as useTooltipScatter
};
